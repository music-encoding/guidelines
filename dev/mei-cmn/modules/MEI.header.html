<!DOCTYPE HTML>
<html lang="en">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
      <!--THIS FILE IS GENERATED FROM AN XML TEMPLATE. DO NOT EDIT!-->
      <title>Music Encoding Initiative Guidelines</title>
      <link rel="schema.DC" href="http://purl.org/dc/elements/1.1/">
      <meta name="author" content="Perry Roland">
      <meta name="subject" content="Documentation for the Music Encoding Initiative (MEI) Data Model">
      <meta name="keywords" content="Music Encoding, MEI, Digital Humanities, Musicology, Music Librarianship, Music Information Retrieval">
      <meta name="date" content="2025-08-21">
      <meta name="generator" content="MEI XSLT stylesheets">
      <meta name="DC.Title" content="Music Encoding Initiative Guidelines">
      <meta name="DC.description" content="A customization for encoding Common Music Notation (CMN).">
      <meta name="DC.Type" content="Text">
      <meta name="DC.Format" content="text/html">
      <link rel="stylesheet" media="screen" type="text/css" href="../assets/css/screen/search.css">
      <link rel="stylesheet" media="screen" type="text/css" href="../assets/css/screen/mei-website.css">
      <link rel="stylesheet" media="screen" type="text/css" href="../assets/css/screen/mei-screen.css"><script src="../assets/js/searchIndex.js"></script><script src="../assets/js/fuse.min.js"></script></head>
   <body class="simple" id="TOP">
      <div class="headerBar"></div>
      <div class="container content">
         <div class="columns specsLayout">
            <div class="top-navigation column col-md-12 show-md">
               <div class="top-navigation-header columns">
                  <div class="buttonbox"><button class="btn btn-action btn-sm btn-primary" id="topNavigationShow"><i class="icon icon-menu"></i></button></div>
                  <div class="searchbox">
                     <form>
                        <div class="search_group"><input id="search_inputTop" class="search_input" title="At least 3 characters" type="text"><button type="submit" id="submitSearchButtonTop" class="search_button"><span class="search_icon">⚲</span></button></div>
                     </form>
                  </div>
               </div>
            </div>
            <div class="column col-8 col-md-12">
               <div id="search-content"></div>
               <section class="specPage moduleSpec">
                  <h2 id="MEI.header">MEI.header</h2>
                  <div class="specs">
                     <div class="desc"></div>
                     <div class="contentListBox">
                        <h3>Elements in MEI.header</h3>
                        <div class="contents"><a class="link_odd link_odd_elementSpec" href="../elements/accessRestrict.html" title="Describes the conditions that affect the accessibility of material.">&lt;accessRestrict&gt;</a>, <a class="link_odd link_odd_elementSpec" href="../elements/acquisition.html" title="Records information concerning the process by which an item was acquired by the holding institution.">&lt;acquisition&gt;</a>, <a class="link_odd link_odd_elementSpec" href="../elements/altId.html" title="May contain a bibliographic identifier that does not fit within the meiHead element’s id attribute, for example because the identifier does not fit the definition of an XML id or because multiple identifiers are needed.">&lt;altId&gt;</a>, <a class="link_odd link_odd_elementSpec" href="../elements/appInfo.html" title="Groups information about applications which have acted upon the MEI file.">&lt;appInfo&gt;</a>, <a class="link_odd link_odd_elementSpec" href="../elements/application.html" title="Provides information about an application which has acted upon the current document.">&lt;application&gt;</a>, <a class="link_odd link_odd_elementSpec" href="../elements/attUsage.html" title="Documents the usage of a specific attribute of the element.">&lt;attUsage&gt;</a>, <a class="link_odd link_odd_elementSpec" href="../elements/audience.html" title="Defines the class of user for which the work is intended, as defined by age group ( e.g. , children, young adults, adults, etc.), educational level ( e.g. , primary, secondary, etc.), or other categorization.">&lt;audience&gt;</a>, <a class="link_odd link_odd_elementSpec" href="../elements/availability.html" title="Groups elements that describe the availability of and access to a bibliographic item, including an MEI-encoded document.">&lt;availability&gt;</a>, <a class="link_odd link_odd_elementSpec" href="../elements/bifolium.html" title="Describes a folded sheet of paper.">&lt;bifolium&gt;</a>, <a class="link_odd link_odd_elementSpec" href="../elements/byline.html" title="Contains the primary statement of responsibility given for a work on its title page.">&lt;byline&gt;</a>, <a class="link_odd link_odd_elementSpec" href="../elements/captureMode.html" title="The means used to record notation, sound, or images in the production of a source/manifestation ( e.g. , analogue, acoustic, electric, digital, optical etc.).">&lt;captureMode&gt;</a>, <a class="link_odd link_odd_elementSpec" href="../elements/carrierForm.html" title="The specific class of material to which the physical carrier of the source/manifestation belongs ( e.g. , sound cassette, videodisc, microfilm cartridge, transparency, etc.). The carrier for a manifestation comprising multiple physical components may include more than one form ( e.g. , a filmstrip with an accompanying booklet, a separate sound disc carrying the sound track for a film, etc.).">&lt;carrierForm&gt;</a>, <a class="link_odd link_odd_elementSpec" href="../elements/catRel.html" title="Contains the name, i.e., label, of a related category.">&lt;catRel&gt;</a>, <a class="link_odd link_odd_elementSpec" href="../elements/category.html" title="Contains an individual descriptive category in a user-defined taxonomy, possibly nested within a superordinate category.">&lt;category&gt;</a>, <a class="link_odd link_odd_elementSpec" href="../elements/change.html" title="Individual change within the revision description.">&lt;change&gt;</a>, <a class="link_odd link_odd_elementSpec" href="../elements/changeDesc.html" title="Description of a revision of the MEI file.">&lt;changeDesc&gt;</a>, <a class="link_odd link_odd_elementSpec" href="../elements/classDecls.html" title="Groups information which describes the nature or topic of an entity.">&lt;classDecls&gt;</a>, <a class="link_odd link_odd_elementSpec" href="../elements/classification.html" title="Groups information which describes the nature or topic of an entity.">&lt;classification&gt;</a>, <a class="link_odd link_odd_elementSpec" href="../elements/componentList.html" title="Container for intellectual or physical component parts of a bibliographic entity.">&lt;componentList&gt;</a>, <a class="link_odd link_odd_elementSpec" href="../elements/condition.html" title="The physical condition of an item, particularly any variances between the physical make-up of the item and that of other copies of the same item ( e.g. , missing pages or plates, brittleness, faded images, etc.).">&lt;condition&gt;</a>, <a class="link_odd link_odd_elementSpec" href="../elements/contentItem.html" title="Contains a single entry within a content description element.">&lt;contentItem&gt;</a>, <a class="link_odd link_odd_elementSpec" href="../elements/contents.html" title="List of the material contained within a resource.">&lt;contents&gt;</a>, <a class="link_odd link_odd_elementSpec" href="../elements/context.html" title="The historical, social, intellectual, artistic, or other context within which the work was originally conceived ( e.g. , the 17th century restoration of the monarchy in England, the aesthetic movement of the late 19th century, etc.) or the historical, social, intellectual, artistic, or other context within which the expression was realized.">&lt;context&gt;</a>, <a class="link_odd link_odd_elementSpec" href="../elements/correction.html" title="States how and under what circumstances corrections have been made in the text.">&lt;correction&gt;</a>, <a class="link_odd link_odd_elementSpec" href="../elements/cutout.html" title="A cutout is a section of a document sheet that has been removed and is now missing.">&lt;cutout&gt;</a>, <a class="link_odd link_odd_elementSpec" href="../elements/dedication.html" title="Contains a dedicatory statement.">&lt;dedication&gt;</a>, <a class="link_odd link_odd_elementSpec" href="../elements/domainsDecl.html" title="Indicates which domains are included in the encoding.">&lt;domainsDecl&gt;</a>, <a class="link_odd link_odd_elementSpec" href="../elements/editionStmt.html" title="Container for meta-data pertaining to a particular edition of the material being described.">&lt;editionStmt&gt;</a>, <a class="link_odd link_odd_elementSpec" href="../elements/editorialDecl.html" title="Used to provide details of editorial principles and practices applied during the encoding of musical text.">&lt;editorialDecl&gt;</a>, <a class="link_odd link_odd_elementSpec" href="../elements/encodingDesc.html" title="Documents the relationship between an electronic file and the source or sources from which it was derived as well as applications used in the encoding/editing process.">&lt;encodingDesc&gt;</a>, <a class="link_odd link_odd_elementSpec" href="../elements/exhibHist.html" title="A record of public exhibitions, including dates, venues, etc.">&lt;exhibHist&gt;</a>, <a class="link_odd link_odd_elementSpec" href="../elements/extMeta.html" title="Provides a container element for non-MEI metadata formats.">&lt;extMeta&gt;</a>, <a class="link_odd link_odd_elementSpec" href="../elements/fileChar.html" title="Standards or schemes used to encode the file ( e.g. , ASCII, SGML, etc.), physical characteristics of the file ( e.g. , recording density, parity, blocking, etc.), and other characteristics that have a bearing on how the file can be processed.">&lt;fileChar&gt;</a>, <a class="link_odd link_odd_elementSpec" href="../elements/fileDesc.html" title="Contains a full bibliographic description of the MEI file.">&lt;fileDesc&gt;</a>, <a class="link_odd link_odd_elementSpec" href="../elements/foliaDesc.html" title="Describes the order of folia and bifolia making up the text block of a manuscript or print.">&lt;foliaDesc&gt;</a>, <a class="link_odd link_odd_elementSpec" href="../elements/folium.html" title="Describes a single leaf of paper.">&lt;folium&gt;</a>, <a class="link_odd link_odd_elementSpec" href="../elements/hand.html" title="Defines a distinct scribe or handwriting style.">&lt;hand&gt;</a>, <a class="link_odd link_odd_elementSpec" href="../elements/handList.html" title="Container for one or more hand elements.">&lt;handList&gt;</a>, <a class="link_odd link_odd_elementSpec" href="../elements/history.html" title="Provides a container for information about the history of a resource other than the circumstances of its creation.">&lt;history&gt;</a>, <a class="link_odd link_odd_elementSpec" href="../elements/incipCode.html" title="Incipit coded in a non-XML, plain text format, such as Plaine &amp; Easie Code.">&lt;incipCode&gt;</a>, <a class="link_odd link_odd_elementSpec" href="../elements/incipText.html" title="Opening words of a musical composition.">&lt;incipText&gt;</a>, <a class="link_odd link_odd_elementSpec" href="../elements/inscription.html" title="An inscription added to an item, such as a bookplate, a note designating the item as a gift, and/or the author’s signature.">&lt;inscription&gt;</a>, <a class="link_odd link_odd_elementSpec" href="../elements/interpretation.html" title="Describes the scope of any analytic or interpretive information added to the transcription of the music.">&lt;interpretation&gt;</a>, <a class="link_odd link_odd_elementSpec" href="../elements/key.html" title="Key captures information about tonal center and mode.">&lt;key&gt;</a>, <a class="link_odd link_odd_elementSpec" href="../elements/langUsage.html" title="Groups elements describing the languages, sub-languages, dialects, etc., represented within the encoded resource.">&lt;langUsage&gt;</a>, <a class="link_odd link_odd_elementSpec" href="../elements/language.html" title="Description of a language used in the document.">&lt;language&gt;</a>, <a class="link_odd link_odd_elementSpec" href="../elements/meiHead.html" title="Supplies the descriptive and declarative metadata prefixed to every MEI-conformant text.">&lt;meiHead&gt;</a>, <a class="link_odd link_odd_elementSpec" href="../elements/mensuration.html" title="Captures information about mensuration within bibliographic descriptions.">&lt;mensuration&gt;</a>, <a class="link_odd link_odd_elementSpec" href="../elements/meter.html" title="Captures information about the time signature within bibliographic descriptions.">&lt;meter&gt;</a>, <a class="link_odd link_odd_elementSpec" href="../elements/namespace.html" title="Supplies the formal name of the namespace to which the elements documented by its children belong.">&lt;namespace&gt;</a>, <a class="link_odd link_odd_elementSpec" href="../elements/normalization.html" title="Indicates the extent of normalization or regularization of the original source carried out in converting it to electronic form.">&lt;normalization&gt;</a>, <a class="link_odd link_odd_elementSpec" href="../elements/notesStmt.html" title="Collects any notes providing information about a text additional to that recorded in other parts of the bibliographic description.">&lt;notesStmt&gt;</a>, <a class="link_odd link_odd_elementSpec" href="../elements/otherChar.html" title="Any characteristic that serves to differentiate a work or expression from another.">&lt;otherChar&gt;</a>, <a class="link_odd link_odd_elementSpec" href="../elements/patch.html" title="Describes a physical writing surface attached to the original document.">&lt;patch&gt;</a>, <a class="link_odd link_odd_elementSpec" href="../elements/perfDuration.html" title="Used to express the duration of performance of printed or manuscript music or the playing time for a sound recording, videorecording, etc.">&lt;perfDuration&gt;</a>, <a class="link_odd link_odd_elementSpec" href="../elements/perfMedium.html" title="Indicates the number and character of the performing forces used in a musical composition.">&lt;perfMedium&gt;</a>, <a class="link_odd link_odd_elementSpec" href="../elements/perfRes.html" title="Name of an instrument on which a performer plays, a performer's voice range, or a standard performing ensemble designation.">&lt;perfRes&gt;</a>, <a class="link_odd link_odd_elementSpec" href="../elements/perfResList.html" title="Several instrumental or vocal resources treated as a group.">&lt;perfResList&gt;</a>, <a class="link_odd link_odd_elementSpec" href="../elements/physDesc.html" title="Container for information about the appearance, construction, or handling of physical materials, such as their dimension, quantity, color, style, and technique of creation.">&lt;physDesc&gt;</a>, <a class="link_odd link_odd_elementSpec" href="../elements/physMedium.html" title="Records the physical materials used in the source, such as ink and paper.">&lt;physMedium&gt;</a>, <a class="link_odd link_odd_elementSpec" href="../elements/plateNum.html" title="Designation assigned to a resource by a music publisher, usually printed at the bottom of each page, and sometimes appearing also on the title page.">&lt;plateNum&gt;</a>, <a class="link_odd link_odd_elementSpec" href="../elements/playingSpeed.html" title="Playing speed for a sound recording is the speed at which the carrier must be operated to produce the sound intended ( e.g. , 33 1/3 rpm, 19 cm/s, etc.).">&lt;playingSpeed&gt;</a>, <a class="link_odd link_odd_elementSpec" href="../elements/price.html" title="The cost of access to a bibliographic item.">&lt;price&gt;</a>, <a class="link_odd link_odd_elementSpec" href="../elements/projectDesc.html" title="Project-level meta-data describing the aim or purpose for which the electronic file was encoded, funding agencies, etc. together with any other relevant information concerning the process by which it was assembled or collected.">&lt;projectDesc&gt;</a>, <a class="link_odd link_odd_elementSpec" href="../elements/provenance.html" title="The record of ownership or custodianship of an item.">&lt;provenance&gt;</a>, <a class="link_odd link_odd_elementSpec" href="../elements/pubStmt.html" title="Container for information regarding the publication or distribution of a bibliographic item, including the publisher’s name and address, the date of publication, and other relevant details.">&lt;pubStmt&gt;</a>, <a class="link_odd link_odd_elementSpec" href="../elements/revisionDesc.html" title="Container for information about alterations that have been made to an MEI file.">&lt;revisionDesc&gt;</a>, <a class="link_odd link_odd_elementSpec" href="../elements/samplingDecl.html" title="Contains a prose description of the rationale and methods used in sampling texts in the creation of a corpus or collection.">&lt;samplingDecl&gt;</a>, <a class="link_odd link_odd_elementSpec" href="../elements/scoreFormat.html" title="Describes the type of score used to represent a musical composition ( e.g. , short score, full score, condensed score, close score, etc.).">&lt;scoreFormat&gt;</a>, <a class="link_odd link_odd_elementSpec" href="../elements/segmentation.html" title="Describes the principles according to which the musical text has been segmented, for example into movements, sections, etc.">&lt;segmentation&gt;</a>, <a class="link_odd link_odd_elementSpec" href="../elements/seriesStmt.html" title="Groups information about the series, if any, to which a publication belongs.">&lt;seriesStmt&gt;</a>, <a class="link_odd link_odd_elementSpec" href="../elements/soundChan.html" title="Reflects the number of apparent sound channels in the playback of a recording (monaural, stereophonic, quadraphonic, etc.).">&lt;soundChan&gt;</a>, <a class="link_odd link_odd_elementSpec" href="../elements/source.html" title="A bibliographic description of a source used in the creation of the electronic file.">&lt;source&gt;</a>, <a class="link_odd link_odd_elementSpec" href="../elements/sourceDesc.html" title="A container for the descriptions of the source(s) used in the creation of the electronic file.">&lt;sourceDesc&gt;</a>, <a class="link_odd link_odd_elementSpec" href="../elements/specRepro.html" title="The equalization system, noise reduction system, etc. used in making the recording ( e.g. , NAB, DBX, Dolby, etc.).">&lt;specRepro&gt;</a>, <a class="link_odd link_odd_elementSpec" href="../elements/stdVals.html" title="Specifies the format used when standardized date or number values are supplied.">&lt;stdVals&gt;</a>, <a class="link_odd link_odd_elementSpec" href="../elements/sysReq.html" title="System requirements for using the electronic item.">&lt;sysReq&gt;</a>, <a class="link_odd link_odd_elementSpec" href="../elements/tagUsage.html" title="Documents the usage of a specific element within the document.">&lt;tagUsage&gt;</a>, <a class="link_odd link_odd_elementSpec" href="../elements/tagsDecl.html" title="Provides detailed information about the tagging applied to a document.">&lt;tagsDecl&gt;</a>, <a class="link_odd link_odd_elementSpec" href="../elements/taxonomy.html" title="Defines a typology either implicitly, by means of a bibliographic citation, or explicitly by a structured taxonomy.">&lt;taxonomy&gt;</a>, <a class="link_odd link_odd_elementSpec" href="../elements/termList.html" title="Collection of text phrases which describe a resource.">&lt;termList&gt;</a>, <a class="link_odd link_odd_elementSpec" href="../elements/titleStmt.html" title="Container for title and responsibility meta-data.">&lt;titleStmt&gt;</a>, <a class="link_odd link_odd_elementSpec" href="../elements/trackConfig.html" title="Number of physical/input tracks on a sound medium ( e.g. , eight track, twelve track).">&lt;trackConfig&gt;</a>, <a class="link_odd link_odd_elementSpec" href="../elements/treatHist.html" title="A record of the treatment the item has undergone ( e.g. , de-acidification, restoration, etc.).">&lt;treatHist&gt;</a>, <a class="link_odd link_odd_elementSpec" href="../elements/treatSched.html" title="Scheduled treatment, e.g. , de-acidification, restoration, etc., for an item.">&lt;treatSched&gt;</a>, <a class="link_odd link_odd_elementSpec" href="../elements/unpub.html" title="Used to explicitly indicate that a bibliographic resource is unpublished.">&lt;unpub&gt;</a>, <a class="link_odd link_odd_elementSpec" href="../elements/useRestrict.html" title="Container for information about the conditions that affect use of a bibliographic item after access has been granted.">&lt;useRestrict&gt;</a>, <a class="link_odd link_odd_elementSpec" href="../elements/watermark.html" title="Contains a description of a watermark or similar device.">&lt;watermark&gt;</a>, <a class="link_odd link_odd_elementSpec" href="../elements/watermarkDesc.html" title="Contains a description of the watermark(s) of an item.">&lt;watermarkDesc&gt;</a>, <a class="link_odd link_odd_elementSpec" href="../elements/watermarkList.html" title="Grouping several watermarks.">&lt;watermarkList&gt;</a>, <a class="link_odd link_odd_elementSpec" href="../elements/work.html" title="Provides a detailed description of a work — a distinct intellectual or artistic creation — specifically its history, language use, and high-level musical attributes ( e.g. , key, tempo, meter, medium of performance, and intended duration).">&lt;work&gt;</a>, <a class="link_odd link_odd_elementSpec" href="../elements/workList.html" title="Grouping mechanism for information describing non-bibliographic aspects of a text.">&lt;workList&gt;</a></div>
                     </div>
                     <div class="contentListBox">
                        <h3>Model Classes in MEI.header</h3>
                        <div class="contents"><a class="link_odd link_odd_modelClass" href="../model-classes/model.bifoliumLike.html" title="Collects bifoliumlike elements.">model.bifoliumLike</a>, <a class="link_odd link_odd_modelClass" href="../model-classes/model.editorialDeclPart.html" title="Groups elements that may appear as part of a description of the editorial process applied to the encoding of notation.">model.editorialDeclPart</a>, <a class="link_odd link_odd_modelClass" href="../model-classes/model.eventPart.html" title="Groups elements that may be used to provide a structured description of an event.">model.eventPart</a>, <a class="link_odd link_odd_modelClass" href="../model-classes/model.foliumLike.html" title="Collects foliumlike elements.">model.foliumLike</a>, <a class="link_odd link_odd_modelClass" href="../model-classes/model.frontAndBackPart.html" title="Groups elements that may appear as part of auxiliary material preceding or following the text proper.">model.frontAndBackPart</a>, <a class="link_odd link_odd_modelClass" href="../model-classes/model.paperModLike.html" title="Groups elements dealing with modifications of document pages.">model.paperModLike</a>, <a class="link_odd link_odd_modelClass" href="../model-classes/model.physDescPart.html" title="Groups elements that may appear as part of the physical description of a bibliographic item.">model.physDescPart</a>, <a class="link_odd link_odd_modelClass" href="../model-classes/model.pubStmtPart.html" title="Groups elements that may appear as part of the publication statement for a bibliographic item.">model.pubStmtPart</a>, <a class="link_odd link_odd_modelClass" href="../model-classes/model.workIdent.html" title="Groups elements that assist in the identification of a work.">model.workIdent</a>, <a class="link_odd link_odd_modelClass" href="../model-classes/model.workLike.html" title="Collects work-like elements.">model.workLike</a></div>
                     </div>
                     <div class="contentListBox">
                        <h3>Macro Groups in MEI.header</h3>
                        <div class="contents"><a class="link_odd link_odd_macroGroup" href="../macro-groups/macro.availabilityPart.html" title="Groups elements that may appear as part of a description of the availability of and access to a bibliographic item.">macro.availabilityPart</a>, <a class="link_odd link_odd_macroGroup" href="../macro-groups/macro.bibldescPart.html" title="Groups manifestation- and item-specific elements that may appear as part of a bibliographic description.">macro.bibldescPart</a></div>
                     </div>
                     <div class="contentListBox">
                        <h3>Attribute Classes in MEI.header</h3>
                        <div class="contents"><a class="link_odd link_odd_attClass" href="../attribute-classes/att.adlibitum.html" title="Attributes that describe a performance resource as ad libitum (optional).">att.adlibitum</a>, <a class="link_odd link_odd_attClass" href="../attribute-classes/att.bifoliumSurfaces.html" title="Attributes that link a bifolium element with a surface element.">att.bifoliumSurfaces</a>, <a class="link_odd link_odd_attClass" href="../attribute-classes/att.foliumSurfaces.html" title="Attributes that link a folium element with a surface element.">att.foliumSurfaces</a>, <a class="link_odd link_odd_attClass" href="../attribute-classes/att.perfRes.html" title="Attributes that define the characteristics and components of the performance resource.">att.perfRes</a>, <a class="link_odd link_odd_attClass" href="../attribute-classes/att.perfRes.basic.html" title="Attributes that define the characteristics and components of the performance resource or a performance resource list.">att.perfRes.basic</a>, <a class="link_odd link_odd_attClass" href="../attribute-classes/att.recordType.html" title="Attributes that define the characteristics and components of the bibliographic description.">att.recordType</a>, <a class="link_odd link_odd_attClass" href="../attribute-classes/att.regularMethod.html" title="Attributes that describe correction and normalization methods.">att.regularMethod</a></div>
                     </div>
                     <div class="contentListBox">
                        <h3>Data Types in MEI.header</h3>
                        <div class="contents"><span class="placeholder">– no data types defined in MEI.header –&nbsp;</span></div>
                     </div>
                  </div>
               </section>
            </div>
            <div class="column col-4 hide-md">
               <div id="guidelinesVersion"><span class="versionLabel">MEI Version: </span><span id="versionID">6.0-dev+cmn</span><span class="gitLink">(<a href="https://github.com/music-encoding/music-encoding/commit/6bd8bf1bc236fd21a43a996c31994977ff3c4d59" target="_blank" rel="noopener noreferrer">#6bd8bf1</a>)</span></div>
               <form>
                  <div class="search_group"><input name="q" id="search_input" class="search_input" title="At least 3 characters" type="text"><button type="submit" id="submitSearchButtonSide" class="search_button"><span class="search_icon">⚲</span></button></div>
               </form>
               <ul class="nav">
                  <li class="nav-item"><a href="../content/index.html">Guidelines</a></li>
                  <li class="nav-item"><a href="../modules.html">Modules</a></li>
                  <li class="nav-item"><a href="../elements.html">Elements</a></li>
                  <li class="nav-item"><a href="../model-classes.html">Model Classes</a></li>
                  <li class="nav-item"><a href="../macro-groups.html">Macro Groups</a></li>
                  <li class="nav-item"><a href="../attribute-classes.html">Attribute Classes</a></li>
                  <li class="nav-item"><a href="../data-types.html">Data Types</a></li>
               </ul>
               <div class="divider"></div>
            </div>
         </div>
         <div class="modal" id="toc-modal"><a href="#close" id="toc-modal-outer-close" class="modal-overlay" aria-label="Close"></a><div class="modal-container">
               <div class="modal-header"><a href="#close" id="toc-modal-inner-close" class="btn btn-clear float-right" aria-label="Close"></a><div class="modal-title h5">Table of Contents</div>
               </div>
               <div class="modal-body">
                  <div class="content">
                     <ul class="nav">
                        <li class="nav-item"><a href="../content/index.html">Guidelines</a></li>
                        <li class="nav-item"><a href="../modules.html">Modules</a></li>
                        <li class="nav-item"><a href="../elements.html">Elements</a></li>
                        <li class="nav-item"><a href="../model-classes.html">Model Classes</a></li>
                        <li class="nav-item"><a href="../macro-groups.html">Macro Groups</a></li>
                        <li class="nav-item"><a href="../attribute-classes.html">Attribute Classes</a></li>
                        <li class="nav-item"><a href="../data-types.html">Data Types</a></li>
                     </ul>
                     <div class="divider"></div>
                  </div>
               </div>
            </div>
         </div><script>
                                window.addEventListener("load", function(event) {
                                    document.getElementById('topNavigationShow').addEventListener('click',function(e) {
                                        var elem = document.getElementById('toc-modal');
                                        elem.classList.toggle('active');
                                    })
                                    document.getElementById('toc-modal-outer-close').addEventListener('click',function(e) {
                                        var elem = document.getElementById('toc-modal');
                                        elem.classList.toggle('active');
                                    })
                                    document.getElementById('toc-modal-inner-close').addEventListener('click',function(e) {
                                        var elem = document.getElementById('toc-modal');
                                        elem.classList.toggle('active');
                                    })
                                    
                                    function getMenu() {
                                        const fullVersion = '6.0-dev+cmn'
                                        const version = (fullVersion.includes('-dev')) ? 'dev' : 'v' + fullVersion.split('.')[0];
                                        console.log('trying to get menu for version ' + version + ' (' + fullVersion + ')');
                                        
                                        const url = 'https://music-encoding.org/menus/' + version + '/menu.html';
                                        
                                        fetch(url)
                                            .then(function(response) { return response.text()})
                                            .then(function(doc) {
                                                let headerBar = document.querySelector('.headerBar');
                                                const parser = new DOMParser();
                                                const htmlDoc = parser.parseFromString(doc, 'text/html');
                                                const menu = htmlDoc.querySelector('.headerBar');
                                                headerBar.parentNode.replaceChild(menu, headerBar);
                                            });
                                    };
                                    getMenu();
                                        
                                });
                            </script></div>
      <div class="modal" id="searchResultsModal"><a id="searchModalCloseBg" href="#" class="modal-overlay" aria-label="Close"></a><div class="modal-container">
            <div class="modal-header"><button id="searchModalCloseLink" class="btn btn-clear float-right" aria-label="Close"></button><div class="modal-title h5">Search Results for "<span id="searchPattern"></span>"</div>
            </div>
            <div class="modal-body">
               <div class="content" id="searchResultsBox"></div>
            </div>
            <div class="modal-footer"><button class="btn" id="searchModalCloseBtn">Close</button></div>
         </div>
      </div><script>
                            const tabbedFacets = document.querySelectorAll('.facet ul.tab');
                            
                            const tabClick = function(e) {
                                const targetDataDisplay = e.target.getAttribute('data-display');
                                const facetId = e.target.parentNode.parentNode.parentNode.parentNode.id;
                                //console.log('clicked at ' + facetId + ' with data display ' + targetDataDisplay);
                                setTabs(facetId,targetDataDisplay);
                            }
                            
                            console.log('[INFO] Javascript initialized')
                            
                            for(let facetUl of tabbedFacets) {
                                const facetElem = facetUl.parentNode?.parentNode;
                                const facetId = facetElem.id;
                                const storageName = getStorageName(facetId);
                                const defaultDataDisplay = facetUl.children[0]?.children[0]?.getAttribute('data-display');
                                
                                if(localStorage.getItem(storageName) === null) {
                                    setTabs(facetId,defaultDataDisplay?.trim());
                                } else {
                                    setTabs(facetId,`${facetId}_${localStorage.getItem(storageName)?.trim()}`);
                                }
                                
                                const tabs = facetUl.querySelectorAll('.tab-item a');
                                
                                for(let tab of tabs) {
                                    tab.addEventListener('click',tabClick);
                                }
                            }

                            function getDisplayStyle(style) {
                                // split dataDisplay string at underscore, e.g. 'attributes_full' to ['attributes','full'] and return the second part of the array
                                const [_, displayStyle = 'compact'] = style.split('_');
                                return displayStyle;
                            }

                            function getStorageName(facetId) {
                                return 'meiSpecs_' + facetId + '_display';
                            }

                            function setTabs(facetId, style) {
                                const storageName = getStorageName(facetId);
                                const displayStyle = getDisplayStyle(style);
                                localStorage.setItem(storageName,displayStyle);
                                
                                const facetElem = document.getElementById(facetId);
                                
                                const oldTab = facetElem.querySelector('.displayTab.active');
                                if (oldTab) {
                                    oldTab.classList.remove('active');
                                }
                                
                                const newTab = document.getElementById(style + '_tab');
                                if (newTab) {
                                    newTab.classList.add('active');
                                }
                                
                                const oldBox = facetElem.querySelector('.active.facetTabbedContent');
                                if (oldBox) {
                                    oldBox.classList.remove('active');
                                    oldBox.style.display = 'none';
                                }
                                
                                const newBox = document.getElementById(style);
                                if(newBox) {
                                    newBox.classList.add('active');
                                    newBox.style.display = 'block';
                                }
                            }
                            
                            const reducedLevels = false;
                            
            /* SEARCH */
            const searchOptions = {
                // isCaseSensitive: false,
                includeScore: true,
                shouldSort: true,
                includeMatches: true,
                // findAllMatches: false,
                minMatchCharLength: 3,
                // location: 0,
                threshold: 0.1,
                // distance: 100,
                // useExtendedSearch: false,
                ignoreLocation: true,
                ignoreFieldNorm: false,
                keys: [
                    { name:"ident",
                      weight: 10 },
                    { name:"desc",
                      weight: 2 },
                    { name:"remarks",
                      weight: 1 }
                ]
            };
            
            //initialize search
            let fuse = new Fuse(searchIndex, searchOptions);
            let searchReady = true;
            
            const searchButton1 = document.querySelector('#submitSearchButtonSide');
            const searchButton2 = document.querySelector('#submitSearchButtonTop');
            const searchInput1 = document.querySelector('#search_input');
            const searchInput2 = document.querySelector('#search_inputTop');
            const searchModal = document.querySelector('#searchResultsModal');
            const searchModalCloseBtn = document.querySelector('#searchModalCloseBtn');
            const searchModalCloseBg = document.querySelector('#searchModalCloseBg');
            const searchModalCloseLink = document.querySelector('#searchModalCloseLink');
            const searchResultsBox = document.querySelector('#searchResultsBox');
            
            function search(pattern) {
                
                let results = fuse.search(pattern)
                console.log(results)
                
                searchResultsBox.innerHTML = '';
                
                document.querySelector('#searchPattern').innerText = pattern;
                
                const pathAdjust = (reducedLevels) ? './' : '../';
                
                results.forEach(hit => {
                    let div = document.createElement('div')
                    div.classList.add('searchHit')
                    div.setAttribute('data-score', hit.score)
                    let a = document.createElement('a')
                    a.setAttribute('href', pathAdjust + hit.item.url)
                    a.classList.add(hit.item.type)
                    a.innerHTML = hit.item.ident
                    if (hit.item.type === "element") {
                        a.innerHTML = "&lt;" + a.innerHTML + "&gt;"
                    }
                    div.append(a)

                    if(hit.item.type === 'chapter') {
                        
                        let remarksHits = hit.matches.filter(m => m.key === 'remarks')
                        if(remarksHits.length > 0) {
                        
                            let firstI = remarksHits[0].indices[0][0];
                            let dist = remarksHits[0].indices[0][1] - remarksHits[0].indices[0][0] + 1;
                            let startRaw = firstI - 40;
                            
                            let hitLength = 140;
                            
                            let offset = (0 > startRaw)? 40 - firstI : 0;
                            let startCleaned = startRaw + offset;
                            
                            let prefix = (startCleaned > 0) ? '…': '';
                            let postfix = (remarksHits[0].value.length > hitLength + dist) ? '…': '';
                            
                            let snippet = remarksHits[0].value.substr(startCleaned, hitLength + dist);
                            
                            let pre = prefix + snippet.substr(0, 40 - offset);
                            let match = snippet.substr(40 - offset, dist);
                            let post = snippet.substr(40 - offset + dist) + postfix;
                            
                            let preview = document.createElement('div')
                            preview.classList.add('searchPreview')
                            preview.setAttribute('data-snippet', snippet)
                            
                            let preSpan = document.createElement('span')
                            preSpan.innerHTML = pre
                            preview.append(preSpan)
                            let matchSpan = document.createElement('span')
                            matchSpan.classList.add('match')
                            matchSpan.innerHTML = match
                            preview.append(matchSpan)
                            let postSpan = document.createElement('span')
                            postSpan.innerHTML = post
                            preview.append(postSpan)
                            
                            div.append(preview)
                        }
                    }
                    
                    
                    
                    searchResultsBox.append(div)
                })
                
                searchModal.classList.add('active');
            }
            
            function initSideSearch(e) {
                e.preventDefault();
                const val = searchInput1.value;
                if(!val.length > 2) {
                    return false;
                }
                search(val)
            }
            
            function initTopSearch(e) {
                e.preventDefault();
                const val = searchInput2.value;
                if(!val.length > 2) {
                    return false;
                }
                search(val)
            }
            
            function closeSearch(e) {
                e.preventDefault();
                searchModal.classList.remove('active');
            }
            
            searchInput1.addEventListener('keypress', e => {
                if (e.key === 'Enter') {
                  initSideSearch(e)
                }
            });
            
            searchInput2.addEventListener('keypress', e => {
                if (e.key === 'Enter') {
                  initTopSearch(e)
                }
            });
            
            searchButton1.addEventListener('click', initSideSearch)
            searchButton2.addEventListener('click', initTopSearch)
            searchModalCloseBtn.addEventListener('click',closeSearch)
            searchModalCloseBg.addEventListener('click',closeSearch)
            searchModalCloseLink.addEventListener('click',closeSearch)
            
        </script></body>
</html>