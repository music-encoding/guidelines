<!DOCTYPE HTML>
<html lang="en">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
      <!--THIS FILE IS GENERATED FROM AN XML TEMPLATE. DO NOT EDIT!-->
      <title>Music Encoding Initiative Guidelines</title>
      <link rel="schema.DC" href="http://purl.org/dc/elements/1.1/">
      <meta name="author" content="Perry Roland">
      <meta name="subject" content="Documentation for the Music Encoding Initiative (MEI) Data Model">
      <meta name="keywords" content="Music Encoding, MEI, Digital Humanities, Musicology, Music Librarianship, Music Information Retrieval">
      <meta name="date" content="2025-08-21">
      <meta name="generator" content="MEI XSLT stylesheets">
      <meta name="DC.Title" content="Music Encoding Initiative Guidelines">
      <meta name="DC.description" content="A customization for encoding Common Music Notation (CMN).">
      <meta name="DC.Type" content="Text">
      <meta name="DC.Format" content="text/html">
      <link rel="stylesheet" media="screen" type="text/css" href="../assets/css/screen/search.css">
      <link rel="stylesheet" media="screen" type="text/css" href="../assets/css/screen/mei-website.css">
      <link rel="stylesheet" media="screen" type="text/css" href="../assets/css/screen/mei-screen.css"><script src="../assets/js/searchIndex.js"></script><script src="../assets/js/fuse.min.js"></script></head>
   <body class="simple" id="TOP">
      <div class="headerBar"></div>
      <div class="container content">
         <div class="columns specsLayout">
            <div class="top-navigation column col-md-12 show-md">
               <div class="top-navigation-header columns">
                  <div class="buttonbox"><button class="btn btn-action btn-sm btn-primary" id="topNavigationShow"><i class="icon icon-menu"></i></button></div>
                  <div class="searchbox">
                     <form>
                        <div class="search_group"><input id="search_inputTop" class="search_input" title="At least 3 characters" type="text"><button type="submit" id="submitSearchButtonTop" class="search_button"><span class="search_icon">⚲</span></button></div>
                     </form>
                  </div>
               </div>
            </div>
            <div class="column col-8 col-md-12">
               <div id="search-content"></div>
               <section class="specPage moduleSpec">
                  <h2 id="MEI.cmn">MEI.cmn</h2>
                  <div class="specs">
                     <div class="desc"></div>
                     <div class="contentListBox">
                        <h3>Elements in MEI.cmn</h3>
                        <div class="contents"><a class="link_odd link_odd_elementSpec" href="../elements/arpeg.html" title="Indicates that the notes of a chord are to be performed successively rather than simultaneously, usually from lowest to highest. Sometimes called a &#34;roll&#34;.">&lt;arpeg&gt;</a>, <a class="link_odd link_odd_elementSpec" href="../elements/attacca.html" title="An instruction to begin the next section or movement of a composition without pause.">&lt;attacca&gt;</a>, <a class="link_odd link_odd_elementSpec" href="../elements/bTrem.html" title="A rapid alternation on a single pitch or chord.">&lt;bTrem&gt;</a>, <a class="link_odd link_odd_elementSpec" href="../elements/beam.html" title="A container for a series of explicitly beamed events that begins and ends entirely within a measure.">&lt;beam&gt;</a>, <a class="link_odd link_odd_elementSpec" href="../elements/beamSpan.html" title="Alternative element for explicitly encoding beams, particularly those which extend across bar lines.">&lt;beamSpan&gt;</a>, <a class="link_odd link_odd_elementSpec" href="../elements/beatRpt.html" title="An indication that material on a preceding beat should be repeated.">&lt;beatRpt&gt;</a>, <a class="link_odd link_odd_elementSpec" href="../elements/bend.html" title="A variation in pitch (often micro-tonal) upwards or downwards during the course of a note.">&lt;bend&gt;</a>, <a class="link_odd link_odd_elementSpec" href="../elements/bracketSpan.html" title="Marks a sequence of notational events grouped by a bracket.">&lt;bracketSpan&gt;</a>, <a class="link_odd link_odd_elementSpec" href="../elements/breath.html" title="An indication of a point at which the performer on an instrument requiring breath (including the voice) may breathe.">&lt;breath&gt;</a>, <a class="link_odd link_odd_elementSpec" href="../elements/fTrem.html" title="A rapid alternation between a pair of notes (or chords or perhaps between a note and a chord) that are (usually) farther apart than a major second.">&lt;fTrem&gt;</a>, <a class="link_odd link_odd_elementSpec" href="../elements/fermata.html" title="An indication placed over a note or rest to indicate that it should be held longer than its written value. May also occur over a bar line to indicate the end of a phrase or section. Sometimes called a 'hold' or 'pause'.">&lt;fermata&gt;</a>, <a class="link_odd link_odd_elementSpec" href="../elements/gliss.html" title="A continuous or sliding movement from one pitch to another, usually indicated by a straight or wavy line.">&lt;gliss&gt;</a>, <a class="link_odd link_odd_elementSpec" href="../elements/graceGrp.html" title="A container for a sequence of grace notes.">&lt;graceGrp&gt;</a>, <a class="link_odd link_odd_elementSpec" href="../elements/hairpin.html" title="Indicates continuous dynamics expressed on the score as wedge-shaped graphics, e.g. , < and &gt;.">&lt;hairpin&gt;</a>, <a class="link_odd link_odd_elementSpec" href="../elements/halfmRpt.html" title="A half-measure repeat in any meter.">&lt;halfmRpt&gt;</a>, <a class="link_odd link_odd_elementSpec" href="../elements/harpPedal.html" title="Harp pedal diagram.">&lt;harpPedal&gt;</a>, <a class="link_odd link_odd_elementSpec" href="../elements/lv.html" title="A &#34;tie-like&#34; indication that a note should ring beyond its written duration.">&lt;lv&gt;</a>, <a class="link_odd link_odd_elementSpec" href="../elements/mNum.html" title="Designation, name, or label for a measure, often but not always consisting of digits. Use this element when the n attribute on measure does not adequately capture the appearance or placement of the measure number/label.">&lt;mNum&gt;</a>, <a class="link_odd link_odd_elementSpec" href="../elements/mRest.html" title="Complete measure rest in any meter.">&lt;mRest&gt;</a>, <a class="link_odd link_odd_elementSpec" href="../elements/mRpt.html" title="An indication that the previous measure should be repeated.">&lt;mRpt&gt;</a>, <a class="link_odd link_odd_elementSpec" href="../elements/mRpt2.html" title="An indication that the previous two measures should be repeated.">&lt;mRpt2&gt;</a>, <a class="link_odd link_odd_elementSpec" href="../elements/mSpace.html" title="A measure containing only empty space in any meter.">&lt;mSpace&gt;</a>, <a class="link_odd link_odd_elementSpec" href="../elements/measure.html" title="Unit of musical time consisting of a fixed number of note values of a given type, as determined by the prevailing meter, and delimited in musical notation by bar lines.">&lt;measure&gt;</a>, <a class="link_odd link_odd_elementSpec" href="../elements/meterSig.html" title="Written meter signature.">&lt;meterSig&gt;</a>, <a class="link_odd link_odd_elementSpec" href="../elements/meterSigGrp.html" title="Used to capture alternating, interchanging, mixed or other non-standard meter signatures.">&lt;meterSigGrp&gt;</a>, <a class="link_odd link_odd_elementSpec" href="../elements/multiRest.html" title="Multiple full measure rests compressed into a single bar, frequently found in performer parts.">&lt;multiRest&gt;</a>, <a class="link_odd link_odd_elementSpec" href="../elements/multiRpt.html" title="Multiple repeated measures.">&lt;multiRpt&gt;</a>, <a class="link_odd link_odd_elementSpec" href="../elements/oLayer.html" title="A layer that contains an alternative to material in another layer.">&lt;oLayer&gt;</a>, <a class="link_odd link_odd_elementSpec" href="../elements/oStaff.html" title="A staff that holds an alternative passage which may be played instead of the original material.">&lt;oStaff&gt;</a>, <a class="link_odd link_odd_elementSpec" href="../elements/octave.html" title="An indication that a passage should be performed one or more octaves above or below its written pitch.">&lt;octave&gt;</a>, <a class="link_odd link_odd_elementSpec" href="../elements/ossia.html" title="Captures original notation and a differently notated version *present in the source being transcribed* .">&lt;ossia&gt;</a>, <a class="link_odd link_odd_elementSpec" href="../elements/pedal.html" title="Piano pedal mark.">&lt;pedal&gt;</a>, <a class="link_odd link_odd_elementSpec" href="../elements/reh.html" title="In an orchestral score and its corresponding parts, a mark indicating a convenient point from which to resume rehearsal after a break.">&lt;reh&gt;</a>, <a class="link_odd link_odd_elementSpec" href="../elements/repeatMark.html" title="An instruction expressed as a combination of text and symbols – segno and coda – typically above, below, or between staves, but not on the staff.">&lt;repeatMark&gt;</a>, <a class="link_odd link_odd_elementSpec" href="../elements/slur.html" title="Indication of 1) a &#34;unified melodic idea&#34; or 2) performance technique.">&lt;slur&gt;</a>, <a class="link_odd link_odd_elementSpec" href="../elements/tie.html" title="An indication that two notes of the same pitch form a single note with their combined rhythmic values.">&lt;tie&gt;</a>, <a class="link_odd link_odd_elementSpec" href="../elements/tuplet.html" title="A group of notes with &#34;irregular&#34; (sometimes called &#34;irrational&#34;) rhythmic values, for example, three notes in the time normally occupied by two or nine in the time of five.">&lt;tuplet&gt;</a>, <a class="link_odd link_odd_elementSpec" href="../elements/tupletSpan.html" title="Alternative element for encoding tuplets, especially useful for tuplets that extend across bar lines.">&lt;tupletSpan&gt;</a></div>
                     </div>
                     <div class="contentListBox">
                        <h3>Model Classes in MEI.cmn</h3>
                        <div class="contents"><a class="link_odd link_odd_modelClass" href="../model-classes/model.controlEventLike.cmn.html" title="Groups control events that appear in CMN.">model.controlEventLike.cmn</a>, <a class="link_odd link_odd_modelClass" href="../model-classes/model.eventLike.cmn.html" title="Groups events that appear in CMN.">model.eventLike.cmn</a>, <a class="link_odd link_odd_modelClass" href="../model-classes/model.eventLike.measureFilling.html" title="Groups events that completely fill a CMN measure.">model.eventLike.measureFilling</a>, <a class="link_odd link_odd_modelClass" href="../model-classes/model.layerPart.cmn.html" title="Groups notated events that may appear at the layer level in CMN.">model.layerPart.cmn</a>, <a class="link_odd link_odd_modelClass" href="../model-classes/model.measureLike.html" title="Groups CMN measure-like elements.">model.measureLike</a>, <a class="link_odd link_odd_modelClass" href="../model-classes/model.measurePart.html" title="Groups elements that may appear within a CMN measure.">model.measurePart</a>, <a class="link_odd link_odd_modelClass" href="../model-classes/model.ossiaLike.html" title="Groups elements that function like ossia.">model.ossiaLike</a>, <a class="link_odd link_odd_modelClass" href="../model-classes/model.sectionPart.cmn.html" title="Groups elements that may appear as part of a section.">model.sectionPart.cmn</a></div>
                     </div>
                     <div class="contentListBox">
                        <h3>Macro Groups in MEI.cmn</h3>
                        <div class="contents"><span class="placeholder">– no macro groups defined in MEI.cmn –&nbsp;</span></div>
                     </div>
                     <div class="contentListBox">
                        <h3>Attribute Classes in MEI.cmn</h3>
                        <div class="contents"><a class="link_odd link_odd_attClass" href="../attribute-classes/att.arpeg.log.html" title="Logical domain attributes.">att.arpeg.log</a>, <a class="link_odd link_odd_attClass" href="../attribute-classes/att.bTrem.log.html" title="Logical domain attributes.">att.bTrem.log</a>, <a class="link_odd link_odd_attClass" href="../attribute-classes/att.beam.log.html" title="Logical domain attributes.">att.beam.log</a>, <a class="link_odd link_odd_attClass" href="../attribute-classes/att.beamPresent.html" title="Attributes that indicate whether an event lies under a beam.">att.beamPresent</a>, <a class="link_odd link_odd_attClass" href="../attribute-classes/att.beamRend.html" title="Attributes that record the visual rendition of beams.">att.beamRend</a>, <a class="link_odd link_odd_attClass" href="../attribute-classes/att.beamSecondary.html" title="Attributes that capture information about secondary beaming.">att.beamSecondary</a>, <a class="link_odd link_odd_attClass" href="../attribute-classes/att.beamSpan.log.html" title="Logical domain attributes.">att.beamSpan.log</a>, <a class="link_odd link_odd_attClass" href="../attribute-classes/att.beamedWith.html" title="Attributes indicating cross-staff beaming.">att.beamedWith</a>, <a class="link_odd link_odd_attClass" href="../attribute-classes/att.beaming.log.html" title="Used by layerDef, staffDef, and scoreDef to provide default values for attributes in the logical domain related to beaming.">att.beaming.log</a>, <a class="link_odd link_odd_attClass" href="../attribute-classes/att.beatRpt.log.html" title="Logical domain attributes.">att.beatRpt.log</a>, <a class="link_odd link_odd_attClass" href="../attribute-classes/att.bend.log.html" title="Logical domain attributes.">att.bend.log</a>, <a class="link_odd link_odd_attClass" href="../attribute-classes/att.bracketSpan.log.html" title="Logical domain attributes.">att.bracketSpan.log</a>, <a class="link_odd link_odd_attClass" href="../attribute-classes/att.breath.log.html" title="Logical domain attributes.">att.breath.log</a>, <a class="link_odd link_odd_attClass" href="../attribute-classes/att.chord.anl.cmn.html" title="Analytical domain attributes in the CMN repertoire.">att.chord.anl.cmn</a>, <a class="link_odd link_odd_attClass" href="../attribute-classes/att.chord.ges.cmn.html" title="Gestural domain attributes for CMN features.">att.chord.ges.cmn</a>, <a class="link_odd link_odd_attClass" href="../attribute-classes/att.chord.log.cmn.html" title="Logical domain attributes in the CMN repertoire.">att.chord.log.cmn</a>, <a class="link_odd link_odd_attClass" href="../attribute-classes/att.chord.vis.cmn.html" title="Visual domain attributes for chord. The slur, slur.dir, slur.rend, tie, tie.dir, and tie.rend attributes here are &#34;syntactic sugar&#34; for these attributes on each of the chord's individual notes. The values here apply to all the notes in the chord. If some notes are slurred or tied while others aren't, then the individual note attributes must be used.">att.chord.vis.cmn</a>, <a class="link_odd link_odd_attClass" href="../attribute-classes/att.cutout.html" title="Attributes that indicate how to render the staff lines of the measure containing an element belonging to this attribute class.">att.cutout</a>, <a class="link_odd link_odd_attClass" href="../attribute-classes/att.expandable.html" title="Attributes that indicate whether to render a repeat symbol or the source material to which it refers.">att.expandable</a>, <a class="link_odd link_odd_attClass" href="../attribute-classes/att.fTrem.log.html" title="Logical domain attributes.">att.fTrem.log</a>, <a class="link_odd link_odd_attClass" href="../attribute-classes/att.fermata.log.html" title="Logical domain attributes.">att.fermata.log</a>, <a class="link_odd link_odd_attClass" href="../attribute-classes/att.gliss.log.html" title="Logical domain attributes.">att.gliss.log</a>, <a class="link_odd link_odd_attClass" href="../attribute-classes/att.glissPresent.html" title="Attributes that indicate whether an event participates in a glissando.">att.glissPresent</a>, <a class="link_odd link_odd_attClass" href="../attribute-classes/att.graceGrp.log.html" title="Logical domain attributes.">att.graceGrp.log</a>, <a class="link_odd link_odd_attClass" href="../attribute-classes/att.graced.html" title="Attributes that mark a note or chord as a &#34;grace&#34;, how it should &#34;steal&#34; time, and how much time should be allotted to the grace note/chord.">att.graced</a>, <a class="link_odd link_odd_attClass" href="../attribute-classes/att.hairpin.log.html" title="Logical domain attributes.">att.hairpin.log</a>, <a class="link_odd link_odd_attClass" href="../attribute-classes/att.halfmRpt.log.html" title="Logical domain attributes.">att.halfmRpt.log</a>, <a class="link_odd link_odd_attClass" href="../attribute-classes/att.harpPedal.log.html" title="Logical domain attributes. The pedal setting, i.e. , flat, natural, or sharp, for each diatonic pitch name is indicated by the seven letter-named attributes.">att.harpPedal.log</a>, <a class="link_odd link_odd_attClass" href="../attribute-classes/att.layerDef.log.cmn.html" title="Logical domain attributes.">att.layerDef.log.cmn</a>, <a class="link_odd link_odd_attClass" href="../attribute-classes/att.lv.log.html" title="Logical domain attributes.">att.lv.log</a>, <a class="link_odd link_odd_attClass" href="../attribute-classes/att.lvPresent.html" title="Attributes that indicate the presence of an l.v. (laissez vibrer) marking attached to a feature. If visual information about the lv sign needs to be recorded, then an lv element should be employed.">att.lvPresent</a>, <a class="link_odd link_odd_attClass" href="../attribute-classes/att.mNum.log.html" title="Logical domain attributes.">att.mNum.log</a>, <a class="link_odd link_odd_attClass" href="../attribute-classes/att.mRest.log.html" title="Logical domain attributes.">att.mRest.log</a>, <a class="link_odd link_odd_attClass" href="../attribute-classes/att.mRpt.log.html" title="Logical domain attributes.">att.mRpt.log</a>, <a class="link_odd link_odd_attClass" href="../attribute-classes/att.mRpt2.log.html" title="Logical domain attributes.">att.mRpt2.log</a>, <a class="link_odd link_odd_attClass" href="../attribute-classes/att.mSpace.log.html" title="Logical domain attributes in the CMN repertoire.">att.mSpace.log</a>, <a class="link_odd link_odd_attClass" href="../attribute-classes/att.measure.log.html" title="Logical domain attributes. The n attribute contains a name or number associated with the measure (Read, p. 445). Often, this is an integer, but not always. For example, some measures, especially incomplete measures or those under an ending mark, may have labels that contain an integer plus a suffix, such as '12a'. Measures may even have labels, especially in editorial or analytical uses of MEI, that are entirely non-numeric strings. Measure numbers may be machine-generated instead of encoding them in the markup. However, an explicit measure number should restart numbering with the given value. The join attribute may be used to indicate another measure which metrically completes the current, incomplete one.">att.measure.log</a>, <a class="link_odd link_odd_attClass" href="../attribute-classes/att.meterSigGrp.log.html" title="Logical domain attributes.">att.meterSigGrp.log</a>, <a class="link_odd link_odd_attClass" href="../attribute-classes/att.multiRest.log.html" title="Logical domain attributes.">att.multiRest.log</a>, <a class="link_odd link_odd_attClass" href="../attribute-classes/att.multiRpt.log.html" title="Logical domain attributes.">att.multiRpt.log</a>, <a class="link_odd link_odd_attClass" href="../attribute-classes/att.note.anl.cmn.html" title="Analytical domain attributes in the CMN repertoire.">att.note.anl.cmn</a>, <a class="link_odd link_odd_attClass" href="../attribute-classes/att.note.log.cmn.html" title="Logical domain attributes.">att.note.log.cmn</a>, <a class="link_odd link_odd_attClass" href="../attribute-classes/att.note.vis.cmn.html" title="Visual domain attributes.">att.note.vis.cmn</a>, <a class="link_odd link_odd_attClass" href="../attribute-classes/att.numberPlacement.html" title="Attributes that record the placement and visibility of numbers that accompany a bowed notational feature.">att.numberPlacement</a>, <a class="link_odd link_odd_attClass" href="../attribute-classes/att.numbered.html" title="Attributes that record numbers to be displayed with a feature.">att.numbered</a>, <a class="link_odd link_odd_attClass" href="../attribute-classes/att.octave.log.html" title="Logical domain attributes.">att.octave.log</a>, <a class="link_odd link_odd_attClass" href="../attribute-classes/att.ossia.log.html" title="Logical domain attributes.">att.ossia.log</a>, <a class="link_odd link_odd_attClass" href="../attribute-classes/att.pedal.log.html" title="Logical domain attributes.">att.pedal.log</a>, <a class="link_odd link_odd_attClass" href="../attribute-classes/att.phrase.vis.cmn.html" title="Visual domain attributes.">att.phrase.vis.cmn</a>, <a class="link_odd link_odd_attClass" href="../attribute-classes/att.pianoPedals.html" title="Used by scoreDef and staffDef to provide default description of piano pedal rendition.">att.pianoPedals</a>, <a class="link_odd link_odd_attClass" href="../attribute-classes/att.reh.log.html" title="Logical domain attributes.">att.reh.log</a>, <a class="link_odd link_odd_attClass" href="../attribute-classes/att.rehearsal.html" title="Attributes used by scoreDef and staffDef to provide default information about rehearsal numbers/letters.">att.rehearsal</a>, <a class="link_odd link_odd_attClass" href="../attribute-classes/att.rest.anl.cmn.html" title="Analytical domain attributes in the CMN repertoire.">att.rest.anl.cmn</a>, <a class="link_odd link_odd_attClass" href="../attribute-classes/att.rest.log.cmn.html" title="Logical domain attributes in the CMN repertoire.">att.rest.log.cmn</a>, <a class="link_odd link_odd_attClass" href="../attribute-classes/att.rest.vis.cmn.html" title="Visual domain attributes.">att.rest.vis.cmn</a>, <a class="link_odd link_odd_attClass" href="../attribute-classes/att.scoreDef.log.cmn.html" title="Logical domain attributes.">att.scoreDef.log.cmn</a>, <a class="link_odd link_odd_attClass" href="../attribute-classes/att.scoreDef.vis.cmn.html" title="Visual domain attributes.">att.scoreDef.vis.cmn</a>, <a class="link_odd link_odd_attClass" href="../attribute-classes/att.slur.log.html" title="Logical domain attributes.">att.slur.log</a>, <a class="link_odd link_odd_attClass" href="../attribute-classes/att.slurRend.html" title="Attributes that describe the rendition of slurs.">att.slurRend</a>, <a class="link_odd link_odd_attClass" href="../attribute-classes/att.space.anl.cmn.html" title="Analytical domain attributes in the CMN repertoire.">att.space.anl.cmn</a>, <a class="link_odd link_odd_attClass" href="../attribute-classes/att.space.log.cmn.html" title="Logical domain attributes in the CMN repertoire.">att.space.log.cmn</a>, <a class="link_odd link_odd_attClass" href="../attribute-classes/att.staffDef.log.cmn.html" title="Logical domain attributes for staffDef in the CMN repertoire.">att.staffDef.log.cmn</a>, <a class="link_odd link_odd_attClass" href="../attribute-classes/att.staffDef.vis.cmn.html" title="Visual domain attributes for staffDef in the CMN repertoire.">att.staffDef.vis.cmn</a>, <a class="link_odd link_odd_attClass" href="../attribute-classes/att.stems.cmn.html" title="Attributes that describe the properties of stemmed features; that is, chords and notes.">att.stems.cmn</a>, <a class="link_odd link_odd_attClass" href="../attribute-classes/att.tie.log.html" title="Logical domain attributes.">att.tie.log</a>, <a class="link_odd link_odd_attClass" href="../attribute-classes/att.tieRend.html" title="Attributes that describe the rendition of ties.">att.tieRend</a>, <a class="link_odd link_odd_attClass" href="../attribute-classes/att.tremForm.html" title="Attributes describing the form of a tremolo.">att.tremForm</a>, <a class="link_odd link_odd_attClass" href="../attribute-classes/att.tremMeasured.html" title="Attributes that describe measured tremolandi.">att.tremMeasured</a>, <a class="link_odd link_odd_attClass" href="../attribute-classes/att.tuplet.log.html" title="Logical domain attributes.">att.tuplet.log</a>, <a class="link_odd link_odd_attClass" href="../attribute-classes/att.tupletSpan.log.html" title="Logical domain attributes.">att.tupletSpan.log</a></div>
                     </div>
                     <div class="contentListBox">
                        <h3>Data Types in MEI.cmn</h3>
                        <div class="contents"><a class="link_odd link_odd_dataType" href="../data-types/data.DURATION.cmn.html" title="Logical, that is, written, duration attribute values for the CMN repertoire.">data.DURATION.cmn</a>, <a class="link_odd link_odd_dataType" href="../data-types/data.HARPPEDALPOSITION.html" title="Indicates the pedal setting for a harp strings.">data.HARPPEDALPOSITION</a>, <a class="link_odd link_odd_dataType" href="../data-types/data.STAFFITEM.cmn.html" title="Items in the CMN repertoire that may be printed near a staff.">data.STAFFITEM.cmn</a></div>
                     </div>
                  </div>
               </section>
            </div>
            <div class="column col-4 hide-md">
               <div id="guidelinesVersion"><span class="versionLabel">MEI Version: </span><span id="versionID">6.0-dev+cmn</span><span class="gitLink">(<a href="https://github.com/music-encoding/music-encoding/commit/6bd8bf1bc236fd21a43a996c31994977ff3c4d59" target="_blank" rel="noopener noreferrer">#6bd8bf1</a>)</span></div>
               <form>
                  <div class="search_group"><input name="q" id="search_input" class="search_input" title="At least 3 characters" type="text"><button type="submit" id="submitSearchButtonSide" class="search_button"><span class="search_icon">⚲</span></button></div>
               </form>
               <ul class="nav">
                  <li class="nav-item"><a href="../content/index.html">Guidelines</a></li>
                  <li class="nav-item"><a href="../modules.html">Modules</a></li>
                  <li class="nav-item"><a href="../elements.html">Elements</a></li>
                  <li class="nav-item"><a href="../model-classes.html">Model Classes</a></li>
                  <li class="nav-item"><a href="../macro-groups.html">Macro Groups</a></li>
                  <li class="nav-item"><a href="../attribute-classes.html">Attribute Classes</a></li>
                  <li class="nav-item"><a href="../data-types.html">Data Types</a></li>
               </ul>
               <div class="divider"></div>
            </div>
         </div>
         <div class="modal" id="toc-modal"><a href="#close" id="toc-modal-outer-close" class="modal-overlay" aria-label="Close"></a><div class="modal-container">
               <div class="modal-header"><a href="#close" id="toc-modal-inner-close" class="btn btn-clear float-right" aria-label="Close"></a><div class="modal-title h5">Table of Contents</div>
               </div>
               <div class="modal-body">
                  <div class="content">
                     <ul class="nav">
                        <li class="nav-item"><a href="../content/index.html">Guidelines</a></li>
                        <li class="nav-item"><a href="../modules.html">Modules</a></li>
                        <li class="nav-item"><a href="../elements.html">Elements</a></li>
                        <li class="nav-item"><a href="../model-classes.html">Model Classes</a></li>
                        <li class="nav-item"><a href="../macro-groups.html">Macro Groups</a></li>
                        <li class="nav-item"><a href="../attribute-classes.html">Attribute Classes</a></li>
                        <li class="nav-item"><a href="../data-types.html">Data Types</a></li>
                     </ul>
                     <div class="divider"></div>
                  </div>
               </div>
            </div>
         </div><script>
                                window.addEventListener("load", function(event) {
                                    document.getElementById('topNavigationShow').addEventListener('click',function(e) {
                                        var elem = document.getElementById('toc-modal');
                                        elem.classList.toggle('active');
                                    })
                                    document.getElementById('toc-modal-outer-close').addEventListener('click',function(e) {
                                        var elem = document.getElementById('toc-modal');
                                        elem.classList.toggle('active');
                                    })
                                    document.getElementById('toc-modal-inner-close').addEventListener('click',function(e) {
                                        var elem = document.getElementById('toc-modal');
                                        elem.classList.toggle('active');
                                    })
                                    
                                    function getMenu() {
                                        const fullVersion = '6.0-dev+cmn'
                                        const version = (fullVersion.includes('-dev')) ? 'dev' : 'v' + fullVersion.split('.')[0];
                                        console.log('trying to get menu for version ' + version + ' (' + fullVersion + ')');
                                        
                                        const url = 'https://music-encoding.org/menus/' + version + '/menu.html';
                                        
                                        fetch(url)
                                            .then(function(response) { return response.text()})
                                            .then(function(doc) {
                                                let headerBar = document.querySelector('.headerBar');
                                                const parser = new DOMParser();
                                                const htmlDoc = parser.parseFromString(doc, 'text/html');
                                                const menu = htmlDoc.querySelector('.headerBar');
                                                headerBar.parentNode.replaceChild(menu, headerBar);
                                            });
                                    };
                                    getMenu();
                                        
                                });
                            </script></div>
      <div class="modal" id="searchResultsModal"><a id="searchModalCloseBg" href="#" class="modal-overlay" aria-label="Close"></a><div class="modal-container">
            <div class="modal-header"><button id="searchModalCloseLink" class="btn btn-clear float-right" aria-label="Close"></button><div class="modal-title h5">Search Results for "<span id="searchPattern"></span>"</div>
            </div>
            <div class="modal-body">
               <div class="content" id="searchResultsBox"></div>
            </div>
            <div class="modal-footer"><button class="btn" id="searchModalCloseBtn">Close</button></div>
         </div>
      </div><script>
                            const tabbedFacets = document.querySelectorAll('.facet ul.tab');
                            
                            const tabClick = function(e) {
                                const targetDataDisplay = e.target.getAttribute('data-display');
                                const facetId = e.target.parentNode.parentNode.parentNode.parentNode.id;
                                //console.log('clicked at ' + facetId + ' with data display ' + targetDataDisplay);
                                setTabs(facetId,targetDataDisplay);
                            }
                            
                            console.log('[INFO] Javascript initialized')
                            
                            for(let facetUl of tabbedFacets) {
                                const facetElem = facetUl.parentNode?.parentNode;
                                const facetId = facetElem.id;
                                const storageName = getStorageName(facetId);
                                const defaultDataDisplay = facetUl.children[0]?.children[0]?.getAttribute('data-display');
                                
                                if(localStorage.getItem(storageName) === null) {
                                    setTabs(facetId,defaultDataDisplay?.trim());
                                } else {
                                    setTabs(facetId,`${facetId}_${localStorage.getItem(storageName)?.trim()}`);
                                }
                                
                                const tabs = facetUl.querySelectorAll('.tab-item a');
                                
                                for(let tab of tabs) {
                                    tab.addEventListener('click',tabClick);
                                }
                            }

                            function getDisplayStyle(style) {
                                // split dataDisplay string at underscore, e.g. 'attributes_full' to ['attributes','full'] and return the second part of the array
                                const [_, displayStyle = 'compact'] = style.split('_');
                                return displayStyle;
                            }

                            function getStorageName(facetId) {
                                return 'meiSpecs_' + facetId + '_display';
                            }

                            function setTabs(facetId, style) {
                                const storageName = getStorageName(facetId);
                                const displayStyle = getDisplayStyle(style);
                                localStorage.setItem(storageName,displayStyle);
                                
                                const facetElem = document.getElementById(facetId);
                                
                                const oldTab = facetElem.querySelector('.displayTab.active');
                                if (oldTab) {
                                    oldTab.classList.remove('active');
                                }
                                
                                const newTab = document.getElementById(style + '_tab');
                                if (newTab) {
                                    newTab.classList.add('active');
                                }
                                
                                const oldBox = facetElem.querySelector('.active.facetTabbedContent');
                                if (oldBox) {
                                    oldBox.classList.remove('active');
                                    oldBox.style.display = 'none';
                                }
                                
                                const newBox = document.getElementById(style);
                                if(newBox) {
                                    newBox.classList.add('active');
                                    newBox.style.display = 'block';
                                }
                            }
                            
                            const reducedLevels = false;
                            
            /* SEARCH */
            const searchOptions = {
                // isCaseSensitive: false,
                includeScore: true,
                shouldSort: true,
                includeMatches: true,
                // findAllMatches: false,
                minMatchCharLength: 3,
                // location: 0,
                threshold: 0.1,
                // distance: 100,
                // useExtendedSearch: false,
                ignoreLocation: true,
                ignoreFieldNorm: false,
                keys: [
                    { name:"ident",
                      weight: 10 },
                    { name:"desc",
                      weight: 2 },
                    { name:"remarks",
                      weight: 1 }
                ]
            };
            
            //initialize search
            let fuse = new Fuse(searchIndex, searchOptions);
            let searchReady = true;
            
            const searchButton1 = document.querySelector('#submitSearchButtonSide');
            const searchButton2 = document.querySelector('#submitSearchButtonTop');
            const searchInput1 = document.querySelector('#search_input');
            const searchInput2 = document.querySelector('#search_inputTop');
            const searchModal = document.querySelector('#searchResultsModal');
            const searchModalCloseBtn = document.querySelector('#searchModalCloseBtn');
            const searchModalCloseBg = document.querySelector('#searchModalCloseBg');
            const searchModalCloseLink = document.querySelector('#searchModalCloseLink');
            const searchResultsBox = document.querySelector('#searchResultsBox');
            
            function search(pattern) {
                
                let results = fuse.search(pattern)
                console.log(results)
                
                searchResultsBox.innerHTML = '';
                
                document.querySelector('#searchPattern').innerText = pattern;
                
                const pathAdjust = (reducedLevels) ? './' : '../';
                
                results.forEach(hit => {
                    let div = document.createElement('div')
                    div.classList.add('searchHit')
                    div.setAttribute('data-score', hit.score)
                    let a = document.createElement('a')
                    a.setAttribute('href', pathAdjust + hit.item.url)
                    a.classList.add(hit.item.type)
                    a.innerHTML = hit.item.ident
                    if (hit.item.type === "element") {
                        a.innerHTML = "&lt;" + a.innerHTML + "&gt;"
                    }
                    div.append(a)

                    if(hit.item.type === 'chapter') {
                        
                        let remarksHits = hit.matches.filter(m => m.key === 'remarks')
                        if(remarksHits.length > 0) {
                        
                            let firstI = remarksHits[0].indices[0][0];
                            let dist = remarksHits[0].indices[0][1] - remarksHits[0].indices[0][0] + 1;
                            let startRaw = firstI - 40;
                            
                            let hitLength = 140;
                            
                            let offset = (0 > startRaw)? 40 - firstI : 0;
                            let startCleaned = startRaw + offset;
                            
                            let prefix = (startCleaned > 0) ? '…': '';
                            let postfix = (remarksHits[0].value.length > hitLength + dist) ? '…': '';
                            
                            let snippet = remarksHits[0].value.substr(startCleaned, hitLength + dist);
                            
                            let pre = prefix + snippet.substr(0, 40 - offset);
                            let match = snippet.substr(40 - offset, dist);
                            let post = snippet.substr(40 - offset + dist) + postfix;
                            
                            let preview = document.createElement('div')
                            preview.classList.add('searchPreview')
                            preview.setAttribute('data-snippet', snippet)
                            
                            let preSpan = document.createElement('span')
                            preSpan.innerHTML = pre
                            preview.append(preSpan)
                            let matchSpan = document.createElement('span')
                            matchSpan.classList.add('match')
                            matchSpan.innerHTML = match
                            preview.append(matchSpan)
                            let postSpan = document.createElement('span')
                            postSpan.innerHTML = post
                            preview.append(postSpan)
                            
                            div.append(preview)
                        }
                    }
                    
                    
                    
                    searchResultsBox.append(div)
                })
                
                searchModal.classList.add('active');
            }
            
            function initSideSearch(e) {
                e.preventDefault();
                const val = searchInput1.value;
                if(!val.length > 2) {
                    return false;
                }
                search(val)
            }
            
            function initTopSearch(e) {
                e.preventDefault();
                const val = searchInput2.value;
                if(!val.length > 2) {
                    return false;
                }
                search(val)
            }
            
            function closeSearch(e) {
                e.preventDefault();
                searchModal.classList.remove('active');
            }
            
            searchInput1.addEventListener('keypress', e => {
                if (e.key === 'Enter') {
                  initSideSearch(e)
                }
            });
            
            searchInput2.addEventListener('keypress', e => {
                if (e.key === 'Enter') {
                  initTopSearch(e)
                }
            });
            
            searchButton1.addEventListener('click', initSideSearch)
            searchButton2.addEventListener('click', initTopSearch)
            searchModalCloseBtn.addEventListener('click',closeSearch)
            searchModalCloseBg.addEventListener('click',closeSearch)
            searchModalCloseLink.addEventListener('click',closeSearch)
            
        </script></body>
</html>