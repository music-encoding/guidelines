<!DOCTYPE HTML><html lang="en">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
      <!--THIS FILE IS GENERATED FROM AN XML TEMPLATE. DO NOT EDIT!-->
      <title>Music Encoding Initiative Guidelines</title>
      <meta name="author" content="Johannes Kepper">
      <meta name="author" content="Perry D. Roland">
      <meta name="subject" content="Documentation for the Music Encoding Initiative (MEI) Data Model">
      <meta name="keywords" content="Music Encoding, MEI, Digital Humanities, Musicology, Music Librarianship, Music Information Retrieval">
      <meta name="date" content="2022-07-15">
      <meta name="generator" content="MEI XSLT stylesheets">
      <meta name="DC.Title" content="Music Encoding Initiative Guidelines">
      <meta name="DC.Type" content="Text">
      <meta name="DC.Format" content="text/html">
      <link rel="stylesheet" media="screen" type="text/css" href="../css/search.css">
      <link rel="stylesheet" media="screen" type="text/css" href="../css/mei-website.css">
      <link rel="stylesheet" media="screen" type="text/css" href="../css/mei-screen.css"><script src="../search/searchIndex.js"></script><script src="../search/fuse.min.js"></script></head>
   <body class="simple" id="TOP">
      <div class="headerBar"></div>
      <div class="container-fluid content">
         <div class="columns specsLayout">
            <div class="top-navigation column col-md-12 show-md">
               <div class="top-navigation-header columns">
                  <div class="buttonbox"><button class="btn btn-action btn-sm btn-primary" id="topNavigationShow"><i class="icon icon-menu"></i></button></div>
                  <div class="searchbox">
                     <form>
                        <div class="search_group"><input id="search_inputTop" class="search_input" title="At least 3 characters" type="text"><button type="submit" id="submitSearchButtonTop" class="search_button"><span class="search_icon">⚲</span></button></div>
                     </form>
                  </div>
               </div>
            </div>
            <div class="column col-8 col-md-12">
               <div id="search-content"></div>
               <section class="specPage attClassSpec">
                  <h2 id="att.scoreDef.ges">att.scoreDef.ges</h2>
                  <div class="specs">
                     <div class="desc">Gestural domain attributes for scoreDef. The values set in these attributes act as
                        score-wide defaults for attributes that are not set in descendant elements. For example,
                        the
                        grace attribute value here applies to all the grace attribute values in the score
                        (or, more
                        accurately, until the next <a class="link_odd link_odd_elementSpec" href="../elements/scoreDef.html">scoreDef</a> element) without having to
                        individually set each note's grace attribute value. The midi.* attributes function
                        as default
                        values when creating sounding output. The tune.* attributes provide the capability
                        of
                        recording a tuning reference pitch.</div>
                     <div id="module" class="facet module">
                        <div class="label">Module</div>
                        <div class="statement text">MEI.gestural</div>
                     </div>
                     <div id="attributes" class="facet attributes">
                        <div class="label">Attributes</div>
                        <div class="statement classes">
                           <ul class="tab">
                              <li class="tab-item"><a data-display="attributes_compact" id="attributes_compact_tab" href="#attributes_compact" class="displayTab active">compact</a></li>
                              <li class="tab-item"><a data-display="attributes_full" id="attributes_full_tab" href="#attributes_full" class="displayTab">full definition</a></li>
                              <li class="tab-item"><a data-display="attributes_class" id="attributes_class_tab" href="#attributes_class" class="displayTab">by class</a></li>
                              <li class="tab-item"><a data-display="attributes_module" id="attributes_module_tab" href="#attributes_module" class="displayTab">by module</a></li>
                           </ul>
                           <div id="attributes_compact" class="facetTabbedContent compact active" data-label="compact"><span class="ident attribute" title="Captures the number of *quarter notes* per minute. In MIDI, a beat is always defined as a quarter note, *not the numerator of the time signature or the metronomic indication*.">midi.bpm</span>, <span class="ident attribute" title="Records a MIDI channel value.">midi.channel</span>, <span class="ident attribute" title="Specifies the 'on' part of the duty cycle as a percentage of a note's duration.">midi.duty</span>, <span class="ident attribute" title="Records the number of microseconds per *quarter note*. In MIDI, a beat is always defined as a quarter note, *not the numerator of the time signature or the metronomic indication*. At 120 quarter notes per minute, each quarter note will last 500,000 microseconds.">midi.mspb</span>, <span class="ident attribute" title="Sets the MIDI port value.">midi.port</span>, <span class="ident attribute" title="Sets the MIDI track.">midi.track</span>, <span class="ident attribute" title="Used to describe tempo in terms of beats (often the meter signature denominator) per minute, ala M.M. (Maelzel's Metronome). Do not confuse this attribute with midi.bpm or midi.mspb. In MIDI, a beat is always defined as a quarter note, *not the numerator of the time signature or the metronomic indication*.">mm</span>, <span class="ident attribute" title="Records the number of augmentation dots required by a dotted metronome unit.">mm.dots</span>, <span class="ident attribute" title="Captures the metronomic unit.">mm.unit</span>, <span class="ident attribute" title="Indicates the number of pulses (sometimes referred to as ticks or divisions) per quarter note. Unlike MIDI, MEI permits different values for a score and individual staves.">ppq</span>, <span class="ident attribute" title="i.e. Holds a value for cycles per second, , Hertz, for a tuning reference pitch.">tune.Hz</span>, <span class="ident attribute" title="Holds the pitch name of a tuning reference pitch.">tune.pname</span>, <span class="ident attribute" title="Provides an indication of the tuning system, 'just', for example.">tune.temper</span></div>
                           <div id="attributes_full" class="facetTabbedContent full" data-label="full definition">
                              <div class="classItem attributeDef">
                                 <div class="desc"><span class="ident attribute" title="Captures the number of *quarter notes* per minute. In MIDI, a beat is always defined as a quarter note, *not the numerator of the time signature or the metronomic indication*.">midi.bpm</span><span class="attributeUsage">(optional)</span><span class="attributeDesc desc">Captures the number of *quarter notes* per minute. In MIDI, a beat is always defined
                                       as a quarter note, *not the numerator of the time signature or the metronomic
                                       indication*.</span><span class="attributeValues">
                                       Value conforms to <a class="link_odd link_odd_dataType" href="../data-types/data.MIDIBPM.html">data.MIDIBPM</a>.
                                       </span></div>
                                 <div class="breadcrumb"><span class="step start">&lt;att.scoreDef.ges&gt;</span><span class="step"><a class="link_odd link_odd_attClass" href="../attribute-classes/att.midiTempo.html">att.midiTempo</a></span><span class="step end">@midi.bpm</span></div>
                              </div>
                              <div class="classItem attributeDef">
                                 <div class="desc"><span class="ident attribute" title="Records a MIDI channel value.">midi.channel</span><span class="attributeUsage">(optional)</span><span class="attributeDesc desc">Records a MIDI channel value.</span><span class="attributeValues">
                                       Value conforms to <a class="link_odd link_odd_dataType" href="../data-types/data.MIDICHANNEL.html">data.MIDICHANNEL</a>.
                                       </span></div>
                                 <div class="breadcrumb"><span class="step start">&lt;att.scoreDef.ges&gt;</span><span class="step"><a class="link_odd link_odd_attClass" href="../attribute-classes/att.channelized.html">att.channelized</a></span><span class="step end">@midi.channel</span></div>
                              </div>
                              <div class="classItem attributeDef">
                                 <div class="desc"><span class="ident attribute" title="Specifies the 'on' part of the duty cycle as a percentage of a note's duration.">midi.duty</span><span class="attributeUsage">(optional)</span><span class="attributeDesc desc">Specifies the 'on' part of the duty cycle as a percentage of a note's duration.</span><span class="attributeValues">
                                       Value conforms to <a class="link_odd link_odd_dataType" href="../data-types/data.PERCENT.LIMITED.html">data.PERCENT.LIMITED</a>.
                                       </span></div>
                                 <div class="breadcrumb"><span class="step start">&lt;att.scoreDef.ges&gt;</span><span class="step"><a class="link_odd link_odd_attClass" href="../attribute-classes/att.channelized.html">att.channelized</a></span><span class="step end">@midi.duty</span></div>
                              </div>
                              <div class="classItem attributeDef">
                                 <div class="desc"><span class="ident attribute" title="Records the number of microseconds per *quarter note*. In MIDI, a beat is always defined as a quarter note, *not the numerator of the time signature or the metronomic indication*. At 120 quarter notes per minute, each quarter note will last 500,000 microseconds.">midi.mspb</span><span class="attributeUsage">(optional)</span><span class="attributeDesc desc">Records the number of microseconds per *quarter note*. In MIDI, a beat is always
                                       defined as a quarter note, *not the numerator of the time signature or the metronomic
                                       indication*. At 120 quarter notes per minute, each quarter note will last 500,000
                                       microseconds.</span><span class="attributeValues">
                                       Value conforms to <a class="link_odd link_odd_dataType" href="../data-types/data.MIDIMSPB.html">data.MIDIMSPB</a>.
                                       </span></div>
                                 <div class="breadcrumb"><span class="step start">&lt;att.scoreDef.ges&gt;</span><span class="step"><a class="link_odd link_odd_attClass" href="../attribute-classes/att.midiTempo.html">att.midiTempo</a></span><span class="step end">@midi.mspb</span></div>
                              </div>
                              <div class="classItem attributeDef">
                                 <div class="desc"><span class="ident attribute" title="Sets the MIDI port value.">midi.port</span><span class="attributeUsage">(optional)</span><span class="attributeDesc desc">Sets the MIDI port value.</span><span class="attributeValues">
                                       Value conforms to <a class="link_odd link_odd_dataType" href="../data-types/data.MIDIVALUE_NAME.html">data.MIDIVALUE_NAME</a>.
                                       </span></div>
                                 <div class="breadcrumb"><span class="step start">&lt;att.scoreDef.ges&gt;</span><span class="step"><a class="link_odd link_odd_attClass" href="../attribute-classes/att.channelized.html">att.channelized</a></span><span class="step end">@midi.port</span></div>
                              </div>
                              <div class="classItem attributeDef">
                                 <div class="desc"><span class="ident attribute" title="Sets the MIDI track.">midi.track</span><span class="attributeUsage">(optional)</span><span class="attributeDesc desc">Sets the MIDI track.</span><span class="attributeValues">
                                       Value is a positive integer.
                                       </span></div>
                                 <div class="breadcrumb"><span class="step start">&lt;att.scoreDef.ges&gt;</span><span class="step"><a class="link_odd link_odd_attClass" href="../attribute-classes/att.channelized.html">att.channelized</a></span><span class="step end">@midi.track</span></div>
                              </div>
                              <div class="classItem attributeDef">
                                 <div class="desc"><span class="ident attribute" title="Used to describe tempo in terms of beats (often the meter signature denominator) per minute, ala M.M. (Maelzel's Metronome). Do not confuse this attribute with midi.bpm or midi.mspb. In MIDI, a beat is always defined as a quarter note, *not the numerator of the time signature or the metronomic indication*.">mm</span><span class="attributeUsage">(optional)</span><span class="attributeDesc desc">Used to describe tempo in terms of beats (often the meter signature denominator) per
                                       minute, ala M.M. (Maelzel's Metronome). Do not confuse this attribute with midi.bpm
                                       or
                                       midi.mspb. In MIDI, a beat is always defined as a quarter note, *not the numerator
                                       of the
                                       time signature or the metronomic indication*.</span><span class="attributeValues">
                                       Value conforms to <a class="link_odd link_odd_dataType" href="../data-types/data.TEMPOVALUE.html">data.TEMPOVALUE</a>.
                                       </span></div>
                                 <div class="breadcrumb"><span class="step start">&lt;att.scoreDef.ges&gt;</span><span class="step"><a class="link_odd link_odd_attClass" href="../attribute-classes/att.mmTempo.html">att.mmTempo</a></span><span class="step end">@mm</span></div>
                              </div>
                              <div class="classItem attributeDef">
                                 <div class="desc"><span class="ident attribute" title="Records the number of augmentation dots required by a dotted metronome unit.">mm.dots</span><span class="attributeUsage">(optional)</span><span class="attributeDesc desc">Records the number of augmentation dots required by a dotted metronome unit.</span><span class="attributeValues">
                                       Value conforms to <a class="link_odd link_odd_dataType" href="../data-types/data.AUGMENTDOT.html">data.AUGMENTDOT</a>.
                                       </span></div>
                                 <div class="breadcrumb"><span class="step start">&lt;att.scoreDef.ges&gt;</span><span class="step"><a class="link_odd link_odd_attClass" href="../attribute-classes/att.mmTempo.html">att.mmTempo</a></span><span class="step end">@mm.dots</span></div>
                              </div>
                              <div class="classItem attributeDef">
                                 <div class="desc"><span class="ident attribute" title="Captures the metronomic unit.">mm.unit</span><span class="attributeUsage">(optional)</span><span class="attributeDesc desc">Captures the metronomic unit.</span><span class="attributeValues">
                                       Value conforms to <a class="link_odd link_odd_dataType" href="../data-types/data.DURATION.html">data.DURATION</a>.
                                       </span></div>
                                 <div class="breadcrumb"><span class="step start">&lt;att.scoreDef.ges&gt;</span><span class="step"><a class="link_odd link_odd_attClass" href="../attribute-classes/att.mmTempo.html">att.mmTempo</a></span><span class="step end">@mm.unit</span></div>
                              </div>
                              <div class="classItem attributeDef">
                                 <div class="desc"><span class="ident attribute" title="Indicates the number of pulses (sometimes referred to as ticks or divisions) per quarter note. Unlike MIDI, MEI permits different values for a score and individual staves.">ppq</span><span class="attributeUsage">(optional)</span><span class="attributeDesc desc">Indicates the number of pulses (sometimes referred to as ticks or divisions) per
                                       quarter note. Unlike MIDI, MEI permits different values for a score and individual
                                       staves.</span><span class="attributeValues">
                                       Value is a positive integer.
                                       </span></div>
                                 <div class="breadcrumb"><span class="step start">&lt;att.scoreDef.ges&gt;</span><span class="step"><a class="link_odd link_odd_attClass" href="../attribute-classes/att.timeBase.html">att.timeBase</a></span><span class="step end">@ppq</span></div>
                              </div>
                              <div class="classItem attributeDef">
                                 <div class="desc"><span class="ident attribute" title="i.e. Holds a value for cycles per second, , Hertz, for a tuning reference pitch.">tune.Hz</span><span class="attributeUsage">(optional)</span><span class="attributeDesc desc">Holds a value for cycles per second, <abbr>i.e.</abbr>, Hertz, for a tuning reference pitch.</span><span class="attributeValues">
                                       Value is a decimal number.
                                       </span></div>
                                 <div class="breadcrumb"><span class="step start">&lt;att.scoreDef.ges&gt;</span><span class="step">direct children</span><span class="step end">@tune.Hz</span></div>
                              </div>
                              <div class="classItem attributeDef">
                                 <div class="desc"><span class="ident attribute" title="Holds the pitch name of a tuning reference pitch.">tune.pname</span><span class="attributeUsage">(optional)</span><span class="attributeDesc desc">Holds the pitch name of a tuning reference pitch.</span><span class="attributeValues">
                                       Value conforms to <a class="link_odd link_odd_dataType" href="../data-types/data.PITCHNAME.html">data.PITCHNAME</a>.
                                       </span></div>
                                 <div class="breadcrumb"><span class="step start">&lt;att.scoreDef.ges&gt;</span><span class="step">direct children</span><span class="step end">@tune.pname</span></div>
                              </div>
                              <div class="classItem attributeDef">
                                 <div class="desc"><span class="ident attribute" title="Provides an indication of the tuning system, 'just', for example.">tune.temper</span><span class="attributeUsage">(optional)</span><span class="attributeDesc desc">Provides an indication of the tuning system, 'just', for example.</span><span class="attributeValues">
                                       Value conforms to <a class="link_odd link_odd_dataType" href="../data-types/data.TEMPERAMENT.html">data.TEMPERAMENT</a>.
                                       </span></div>
                                 <div class="breadcrumb"><span class="step start">&lt;att.scoreDef.ges&gt;</span><span class="step">direct children</span><span class="step end">@tune.temper</span></div>
                              </div>
                           </div>
                           <div id="attributes_class" class="facetTabbedContent class" data-label="by class">
                              <div class="classBox" title="direct children">
                                 <div class="classHeading"><label class="classLabel">direct children</label><span class="classDesc"></span></div>
                                 <div class="classContent">
                                    <div class="def"><span class="desc"><span class="ident attribute" title="Holds the pitch name of a tuning reference pitch.">tune.pname</span><span class="attributeUsage">(optional)</span><span class="attributeDesc desc">Holds the pitch name of a tuning reference pitch.</span><span class="attributeValues">
                                             Value conforms to <a class="link_odd link_odd_dataType" href="../data-types/data.PITCHNAME.html">data.PITCHNAME</a>.
                                             </span></span></div>
                                    <div class="def"><span class="desc"><span class="ident attribute" title="i.e. Holds a value for cycles per second, , Hertz, for a tuning reference pitch.">tune.Hz</span><span class="attributeUsage">(optional)</span><span class="attributeDesc desc">Holds a value for cycles per second, <abbr>i.e.</abbr>, Hertz, for a tuning reference pitch.</span><span class="attributeValues">
                                             Value is a decimal number.
                                             </span></span></div>
                                    <div class="def"><span class="desc"><span class="ident attribute" title="Provides an indication of the tuning system, 'just', for example.">tune.temper</span><span class="attributeUsage">(optional)</span><span class="attributeDesc desc">Provides an indication of the tuning system, 'just', for example.</span><span class="attributeValues">
                                             Value conforms to <a class="link_odd link_odd_dataType" href="../data-types/data.TEMPERAMENT.html">data.TEMPERAMENT</a>.
                                             </span></span></div>
                                 </div>
                              </div>
                              <div class="classBox" title="att.channelized">
                                 <div class="classHeading"><label class="classLabel"><a class="link_odd link_odd_attClass" href="../attribute-classes/att.channelized.html">att.channelized</a></label><span class="classDesc">(MEI.midi) Attributes that record MIDI channel information.</span></div>
                                 <div class="classContent">
                                    <div class="def"><span class="desc"><span class="ident attribute" title="Records a MIDI channel value.">midi.channel</span><span class="attributeUsage">(optional)</span><span class="attributeDesc desc">Records a MIDI channel value.</span><span class="attributeValues">
                                             Value conforms to <a class="link_odd link_odd_dataType" href="../data-types/data.MIDICHANNEL.html">data.MIDICHANNEL</a>.
                                             </span></span></div>
                                    <div class="def"><span class="desc"><span class="ident attribute" title="Specifies the 'on' part of the duty cycle as a percentage of a note's duration.">midi.duty</span><span class="attributeUsage">(optional)</span><span class="attributeDesc desc">Specifies the 'on' part of the duty cycle as a percentage of a note's duration.</span><span class="attributeValues">
                                             Value conforms to <a class="link_odd link_odd_dataType" href="../data-types/data.PERCENT.LIMITED.html">data.PERCENT.LIMITED</a>.
                                             </span></span></div>
                                    <div class="def"><span class="desc"><span class="ident attribute" title="Sets the MIDI port value.">midi.port</span><span class="attributeUsage">(optional)</span><span class="attributeDesc desc">Sets the MIDI port value.</span><span class="attributeValues">
                                             Value conforms to <a class="link_odd link_odd_dataType" href="../data-types/data.MIDIVALUE_NAME.html">data.MIDIVALUE_NAME</a>.
                                             </span></span></div>
                                    <div class="def"><span class="desc"><span class="ident attribute" title="Sets the MIDI track.">midi.track</span><span class="attributeUsage">(optional)</span><span class="attributeDesc desc">Sets the MIDI track.</span><span class="attributeValues">
                                             Value is a positive integer.
                                             </span></span></div>
                                 </div>
                              </div>
                              <div class="classBox" title="att.timeBase">
                                 <div class="classHeading"><label class="classLabel"><a class="link_odd link_odd_attClass" href="../attribute-classes/att.timeBase.html">att.timeBase</a></label><span class="classDesc">(MEI.midi) Attributes that record time-base information.</span></div>
                                 <div class="classContent">
                                    <div class="def"><span class="desc"><span class="ident attribute" title="Indicates the number of pulses (sometimes referred to as ticks or divisions) per quarter note. Unlike MIDI, MEI permits different values for a score and individual staves.">ppq</span><span class="attributeUsage">(optional)</span><span class="attributeDesc desc">Indicates the number of pulses (sometimes referred to as ticks or divisions) per
                                             quarter note. Unlike MIDI, MEI permits different values for a score and individual
                                             staves.</span><span class="attributeValues">
                                             Value is a positive integer.
                                             </span></span></div>
                                 </div>
                              </div>
                              <div class="classBox" title="att.midiTempo">
                                 <div class="classHeading"><label class="classLabel"><a class="link_odd link_odd_attClass" href="../attribute-classes/att.midiTempo.html">att.midiTempo</a></label><span class="classDesc">(MEI.midi) Attributes that record MIDI tempo information.</span></div>
                                 <div class="classContent">
                                    <div class="def"><span class="desc"><span class="ident attribute" title="Captures the number of *quarter notes* per minute. In MIDI, a beat is always defined as a quarter note, *not the numerator of the time signature or the metronomic indication*.">midi.bpm</span><span class="attributeUsage">(optional)</span><span class="attributeDesc desc">Captures the number of *quarter notes* per minute. In MIDI, a beat is always defined
                                             as a quarter note, *not the numerator of the time signature or the metronomic
                                             indication*.</span><span class="attributeValues">
                                             Value conforms to <a class="link_odd link_odd_dataType" href="../data-types/data.MIDIBPM.html">data.MIDIBPM</a>.
                                             </span></span></div>
                                    <div class="def"><span class="desc"><span class="ident attribute" title="Records the number of microseconds per *quarter note*. In MIDI, a beat is always defined as a quarter note, *not the numerator of the time signature or the metronomic indication*. At 120 quarter notes per minute, each quarter note will last 500,000 microseconds.">midi.mspb</span><span class="attributeUsage">(optional)</span><span class="attributeDesc desc">Records the number of microseconds per *quarter note*. In MIDI, a beat is always
                                             defined as a quarter note, *not the numerator of the time signature or the metronomic
                                             indication*. At 120 quarter notes per minute, each quarter note will last 500,000
                                             microseconds.</span><span class="attributeValues">
                                             Value conforms to <a class="link_odd link_odd_dataType" href="../data-types/data.MIDIMSPB.html">data.MIDIMSPB</a>.
                                             </span></span></div>
                                 </div>
                              </div>
                              <div class="classBox" title="att.mmTempo">
                                 <div class="classHeading"><label class="classLabel"><a class="link_odd link_odd_attClass" href="../attribute-classes/att.mmTempo.html">att.mmTempo</a></label><span class="classDesc">(MEI.shared) Attributes that record tempo in terms of beats per minute.</span></div>
                                 <div class="classContent">
                                    <div class="def"><span class="desc"><span class="ident attribute" title="Used to describe tempo in terms of beats (often the meter signature denominator) per minute, ala M.M. (Maelzel's Metronome). Do not confuse this attribute with midi.bpm or midi.mspb. In MIDI, a beat is always defined as a quarter note, *not the numerator of the time signature or the metronomic indication*.">mm</span><span class="attributeUsage">(optional)</span><span class="attributeDesc desc">Used to describe tempo in terms of beats (often the meter signature denominator) per
                                             minute, ala M.M. (Maelzel's Metronome). Do not confuse this attribute with midi.bpm
                                             or
                                             midi.mspb. In MIDI, a beat is always defined as a quarter note, *not the numerator
                                             of the
                                             time signature or the metronomic indication*.</span><span class="attributeValues">
                                             Value conforms to <a class="link_odd link_odd_dataType" href="../data-types/data.TEMPOVALUE.html">data.TEMPOVALUE</a>.
                                             </span></span></div>
                                    <div class="def"><span class="desc"><span class="ident attribute" title="Captures the metronomic unit.">mm.unit</span><span class="attributeUsage">(optional)</span><span class="attributeDesc desc">Captures the metronomic unit.</span><span class="attributeValues">
                                             Value conforms to <a class="link_odd link_odd_dataType" href="../data-types/data.DURATION.html">data.DURATION</a>.
                                             </span></span></div>
                                    <div class="def"><span class="desc"><span class="ident attribute" title="Records the number of augmentation dots required by a dotted metronome unit.">mm.dots</span><span class="attributeUsage">(optional)</span><span class="attributeDesc desc">Records the number of augmentation dots required by a dotted metronome unit.</span><span class="attributeValues">
                                             Value conforms to <a class="link_odd link_odd_dataType" href="../data-types/data.AUGMENTDOT.html">data.AUGMENTDOT</a>.
                                             </span></span></div>
                                 </div>
                              </div>
                           </div>
                           <div id="attributes_module" class="facetTabbedContent module" data-label="by module">
                              <div class="classBox" title="MEI.gestural">
                                 <div class="classHeading"><label class="classLabel">MEI.gestural</label><span class="classDesc">Gestural component declarations.</span></div>
                                 <div class="classContent">
                                    <div class="def"><span class="desc"><span class="ident attribute" title="i.e. Holds a value for cycles per second, , Hertz, for a tuning reference pitch.">tune.Hz</span><span class="attributeUsage">(optional)</span><span class="attributeDesc desc">Holds a value for cycles per second, <abbr>i.e.</abbr>, Hertz, for a tuning reference pitch.</span><span class="attributeValues">
                                             Value is a decimal number.
                                             </span></span></div>
                                    <div class="def"><span class="desc"><span class="ident attribute" title="Holds the pitch name of a tuning reference pitch.">tune.pname</span><span class="attributeUsage">(optional)</span><span class="attributeDesc desc">Holds the pitch name of a tuning reference pitch.</span><span class="attributeValues">
                                             Value conforms to <a class="link_odd link_odd_dataType" href="../data-types/data.PITCHNAME.html">data.PITCHNAME</a>.
                                             </span></span></div>
                                    <div class="def"><span class="desc"><span class="ident attribute" title="Provides an indication of the tuning system, 'just', for example.">tune.temper</span><span class="attributeUsage">(optional)</span><span class="attributeDesc desc">Provides an indication of the tuning system, 'just', for example.</span><span class="attributeValues">
                                             Value conforms to <a class="link_odd link_odd_dataType" href="../data-types/data.TEMPERAMENT.html">data.TEMPERAMENT</a>.
                                             </span></span></div>
                                 </div>
                              </div>
                              <div class="classBox" title="MEI.midi">
                                 <div class="classHeading"><label class="classLabel">MEI.midi</label><span class="classDesc">MIDI component declarations.</span></div>
                                 <div class="classContent">
                                    <div class="def"><span class="desc"><span class="ident attribute" title="Captures the number of *quarter notes* per minute. In MIDI, a beat is always defined as a quarter note, *not the numerator of the time signature or the metronomic indication*.">midi.bpm</span><span class="attributeUsage">(optional)</span><span class="attributeDesc desc">Captures the number of *quarter notes* per minute. In MIDI, a beat is always defined
                                             as a quarter note, *not the numerator of the time signature or the metronomic
                                             indication*.</span><span class="attributeValues">
                                             Value conforms to <a class="link_odd link_odd_dataType" href="../data-types/data.MIDIBPM.html">data.MIDIBPM</a>.
                                             </span></span></div>
                                    <div class="def"><span class="desc"><span class="ident attribute" title="Records a MIDI channel value.">midi.channel</span><span class="attributeUsage">(optional)</span><span class="attributeDesc desc">Records a MIDI channel value.</span><span class="attributeValues">
                                             Value conforms to <a class="link_odd link_odd_dataType" href="../data-types/data.MIDICHANNEL.html">data.MIDICHANNEL</a>.
                                             </span></span></div>
                                    <div class="def"><span class="desc"><span class="ident attribute" title="Specifies the 'on' part of the duty cycle as a percentage of a note's duration.">midi.duty</span><span class="attributeUsage">(optional)</span><span class="attributeDesc desc">Specifies the 'on' part of the duty cycle as a percentage of a note's duration.</span><span class="attributeValues">
                                             Value conforms to <a class="link_odd link_odd_dataType" href="../data-types/data.PERCENT.LIMITED.html">data.PERCENT.LIMITED</a>.
                                             </span></span></div>
                                    <div class="def"><span class="desc"><span class="ident attribute" title="Records the number of microseconds per *quarter note*. In MIDI, a beat is always defined as a quarter note, *not the numerator of the time signature or the metronomic indication*. At 120 quarter notes per minute, each quarter note will last 500,000 microseconds.">midi.mspb</span><span class="attributeUsage">(optional)</span><span class="attributeDesc desc">Records the number of microseconds per *quarter note*. In MIDI, a beat is always
                                             defined as a quarter note, *not the numerator of the time signature or the metronomic
                                             indication*. At 120 quarter notes per minute, each quarter note will last 500,000
                                             microseconds.</span><span class="attributeValues">
                                             Value conforms to <a class="link_odd link_odd_dataType" href="../data-types/data.MIDIMSPB.html">data.MIDIMSPB</a>.
                                             </span></span></div>
                                    <div class="def"><span class="desc"><span class="ident attribute" title="Sets the MIDI port value.">midi.port</span><span class="attributeUsage">(optional)</span><span class="attributeDesc desc">Sets the MIDI port value.</span><span class="attributeValues">
                                             Value conforms to <a class="link_odd link_odd_dataType" href="../data-types/data.MIDIVALUE_NAME.html">data.MIDIVALUE_NAME</a>.
                                             </span></span></div>
                                    <div class="def"><span class="desc"><span class="ident attribute" title="Sets the MIDI track.">midi.track</span><span class="attributeUsage">(optional)</span><span class="attributeDesc desc">Sets the MIDI track.</span><span class="attributeValues">
                                             Value is a positive integer.
                                             </span></span></div>
                                    <div class="def"><span class="desc"><span class="ident attribute" title="Indicates the number of pulses (sometimes referred to as ticks or divisions) per quarter note. Unlike MIDI, MEI permits different values for a score and individual staves.">ppq</span><span class="attributeUsage">(optional)</span><span class="attributeDesc desc">Indicates the number of pulses (sometimes referred to as ticks or divisions) per
                                             quarter note. Unlike MIDI, MEI permits different values for a score and individual
                                             staves.</span><span class="attributeValues">
                                             Value is a positive integer.
                                             </span></span></div>
                                 </div>
                              </div>
                              <div class="classBox" title="MEI.shared">
                                 <div class="classHeading"><label class="classLabel">MEI.shared</label><span class="classDesc">Component declarations that are shared between two or more modules.</span></div>
                                 <div class="classContent">
                                    <div class="def"><span class="desc"><span class="ident attribute" title="Used to describe tempo in terms of beats (often the meter signature denominator) per minute, ala M.M. (Maelzel's Metronome). Do not confuse this attribute with midi.bpm or midi.mspb. In MIDI, a beat is always defined as a quarter note, *not the numerator of the time signature or the metronomic indication*.">mm</span><span class="attributeUsage">(optional)</span><span class="attributeDesc desc">Used to describe tempo in terms of beats (often the meter signature denominator) per
                                             minute, ala M.M. (Maelzel's Metronome). Do not confuse this attribute with midi.bpm
                                             or
                                             midi.mspb. In MIDI, a beat is always defined as a quarter note, *not the numerator
                                             of the
                                             time signature or the metronomic indication*.</span><span class="attributeValues">
                                             Value conforms to <a class="link_odd link_odd_dataType" href="../data-types/data.TEMPOVALUE.html">data.TEMPOVALUE</a>.
                                             </span></span></div>
                                    <div class="def"><span class="desc"><span class="ident attribute" title="Records the number of augmentation dots required by a dotted metronome unit.">mm.dots</span><span class="attributeUsage">(optional)</span><span class="attributeDesc desc">Records the number of augmentation dots required by a dotted metronome unit.</span><span class="attributeValues">
                                             Value conforms to <a class="link_odd link_odd_dataType" href="../data-types/data.AUGMENTDOT.html">data.AUGMENTDOT</a>.
                                             </span></span></div>
                                    <div class="def"><span class="desc"><span class="ident attribute" title="Captures the metronomic unit.">mm.unit</span><span class="attributeUsage">(optional)</span><span class="attributeDesc desc">Captures the metronomic unit.</span><span class="attributeValues">
                                             Value conforms to <a class="link_odd link_odd_dataType" href="../data-types/data.DURATION.html">data.DURATION</a>.
                                             </span></span></div>
                                 </div>
                              </div>
                           </div>
                        </div>
                     </div>
                     <div id="availableAt" class="facet availableAt">
                        <div class="label">Available at</div>
                        <div class="statement classes">
                           <ul class="tab">
                              <li class="tab-item"><a data-display="availableAt_compact" id="availableAt_compact_tab" href="#availableAt_compact" class="displayTab active">compact</a></li>
                              <li class="tab-item"><a data-display="availableAt_class" id="availableAt_class_tab" href="#availableAt_class" class="displayTab">by class</a></li>
                              <li class="tab-item"><a data-display="availableAt_module" id="availableAt_module_tab" href="#availableAt_module" class="displayTab">by module</a></li>
                           </ul>
                           <div id="availableAt_compact" class="facetTabbedContent compact active" data-label="compact"><a class="link_odd link_odd_elementSpec" href="../elements/scoreDef.html" title="(score definition) – Container for score meta-information.">scoreDef</a></div>
                           <div id="availableAt_class" class="facetTabbedContent class" data-label="by class">
                              <div class="classBox" title="att.scoreDef.ges">
                                 <div class="classHeading"><label class="classLabel"><a class="link_odd link_odd_attClass" href="../attribute-classes/att.scoreDef.ges.html">att.scoreDef.ges</a></label><span class="classDesc"></span></div>
                                 <div class="classContent">
                                    <div class="def"><span class="ident" title="(score definition) – Container for score meta-information."><a class="link_odd link_odd_elementSpec" href="../elements/scoreDef.html">scoreDef</a></span><span class="desc"><span class="desc">(score definition) – Container for score meta-information.</span></span></div>
                                 </div>
                              </div>
                           </div>
                           <div id="availableAt_module" class="facetTabbedContent module" data-label="by module">
                              <div class="classBox" title="MEI.shared">
                                 <div class="classHeading"><label class="classLabel">MEI.shared</label><span class="classDesc">Component declarations that are shared between two or more modules.</span></div>
                                 <div class="classContent">
                                    <div class="def"><span class="ident" title="(score definition) – Container for score meta-information."><a class="link_odd link_odd_elementSpec" href="../elements/scoreDef.html">scoreDef</a></span><span class="desc"><span class="desc">(score definition) – Container for score meta-information.</span></span></div>
                                 </div>
                              </div>
                           </div>
                        </div>
                     </div>
                     <div id="declaration" class="facet declaration">
                        <div class="label">Declaration</div>
                        <div class="statement declaration">
                           <div class="code" xml:space="preserve" data-lang="ODD"><code>
                                 <div class="indent indent1"><span data-indentation="1" class="element">&lt;classSpec <span class="attribute">ident=</span><span class="attributevalue">"att.scoreDef.ges"</span> <span class="attribute">module=</span><span class="attributevalue">"MEI.gestural"</span> <span class="attribute">type=</span><span class="attributevalue">"atts"</span>&gt;</span>
                                    
                                    <div class="indent indent2"><span data-indentation="2" class="element">&lt;desc&gt;</span>Gestural domain attributes for scoreDef. The values set in these attributes act as
                                       score-wide defaults for attributes that are not set in descendant elements. For example,
                                       the
                                       grace attribute value here applies to all the grace attribute values in the score
                                       (or, more
                                       accurately, until the next 
                                       <div class="indent indent3"><span data-indentation="3" class="element">&lt;gi <span class="attribute">scheme=</span><span class="attributevalue">"MEI"</span>&gt;</span>scoreDef<span data-indentation="3" class="element">&lt;/gi&gt;</span></div> element) without having to
                                       individually set each note's grace attribute value. The midi.* attributes function
                                       as default
                                       values when creating sounding output. The tune.* attributes provide the capability
                                       of
                                       recording a tuning reference pitch.<span data-indentation="2" class="element">&lt;/desc&gt;</span></div>
                                    
                                    <div class="indent indent2"><span data-indentation="2" class="element">&lt;classes&gt;</span>
                                       
                                       <div class="indent indent3"><span data-indentation="3" class="element">&lt;memberOf <span class="attribute">key=</span><span class="attributevalue">"<a class="link_odd link_odd_attClass" href="../attribute-classes/att.channelized.html">att.channelized</a>"</span>/&gt;</span></div>
                                       
                                       <div class="indent indent3"><span data-indentation="3" class="element">&lt;memberOf <span class="attribute">key=</span><span class="attributevalue">"<a class="link_odd link_odd_attClass" href="../attribute-classes/att.timeBase.html">att.timeBase</a>"</span>/&gt;</span></div>
                                       
                                       <div class="indent indent3"><span data-indentation="3" class="element">&lt;memberOf <span class="attribute">key=</span><span class="attributevalue">"<a class="link_odd link_odd_attClass" href="../attribute-classes/att.midiTempo.html">att.midiTempo</a>"</span>/&gt;</span></div>
                                       
                                       <div class="indent indent3"><span data-indentation="3" class="element">&lt;memberOf <span class="attribute">key=</span><span class="attributevalue">"<a class="link_odd link_odd_attClass" href="../attribute-classes/att.mmTempo.html">att.mmTempo</a>"</span>/&gt;</span></div>
                                       <span data-indentation="2" class="element">&lt;/classes&gt;</span></div>
                                    
                                    <div class="indent indent2"><span data-indentation="2" class="element">&lt;attList&gt;</span>
                                       
                                       <div class="indent indent3"><span data-indentation="3" class="element">&lt;attDef <span class="attribute">ident=</span><span class="attributevalue">"tune.pname"</span> <span class="attribute">usage=</span><span class="attributevalue">"opt"</span>&gt;</span>
                                          
                                          <div class="indent indent4"><span data-indentation="4" class="element">&lt;desc&gt;</span>Holds the pitch name of a tuning reference pitch.<span data-indentation="4" class="element">&lt;/desc&gt;</span></div>
                                          
                                          <div class="indent indent4"><span data-indentation="4" class="element">&lt;datatype&gt;</span>
                                             
                                             <div class="indent indent5"><span data-indentation="5" class="element">&lt;rng:ref <span class="attribute">name=</span><span class="attributevalue">"<a class="link_odd link_odd_dataType" href="../data-types/data.PITCHNAME.html">data.PITCHNAME</a>"</span>/&gt;</span></div>
                                             <span data-indentation="4" class="element">&lt;/datatype&gt;</span></div>
                                          <span data-indentation="3" class="element">&lt;/attDef&gt;</span></div>
                                       
                                       <div class="indent indent3"><span data-indentation="3" class="element">&lt;attDef <span class="attribute">ident=</span><span class="attributevalue">"tune.Hz"</span> <span class="attribute">usage=</span><span class="attributevalue">"opt"</span>&gt;</span>
                                          
                                          <div class="indent indent4"><span data-indentation="4" class="element">&lt;desc&gt;</span>Holds a value for cycles per second, 
                                             <div class="indent indent5"><span data-indentation="5" class="element">&lt;abbr&gt;</span>i.e.<span data-indentation="5" class="element">&lt;/abbr&gt;</span></div>, Hertz, for a tuning reference pitch.<span data-indentation="4" class="element">&lt;/desc&gt;</span></div>
                                          
                                          <div class="indent indent4"><span data-indentation="4" class="element">&lt;datatype&gt;</span>
                                             
                                             <div class="indent indent5"><span data-indentation="5" class="element">&lt;rng:data <span class="attribute">type=</span><span class="attributevalue">"decimal"</span>/&gt;</span></div>
                                             <span data-indentation="4" class="element">&lt;/datatype&gt;</span></div>
                                          <span data-indentation="3" class="element">&lt;/attDef&gt;</span></div>
                                       
                                       <div class="indent indent3"><span data-indentation="3" class="element">&lt;attDef <span class="attribute">ident=</span><span class="attributevalue">"tune.temper"</span> <span class="attribute">usage=</span><span class="attributevalue">"opt"</span>&gt;</span>
                                          
                                          <div class="indent indent4"><span data-indentation="4" class="element">&lt;desc&gt;</span>Provides an indication of the tuning system, 'just', for example.<span data-indentation="4" class="element">&lt;/desc&gt;</span></div>
                                          
                                          <div class="indent indent4"><span data-indentation="4" class="element">&lt;datatype&gt;</span>
                                             
                                             <div class="indent indent5"><span data-indentation="5" class="element">&lt;rng:ref <span class="attribute">name=</span><span class="attributevalue">"<a class="link_odd link_odd_dataType" href="../data-types/data.TEMPERAMENT.html">data.TEMPERAMENT</a>"</span>/&gt;</span></div>
                                             <span data-indentation="4" class="element">&lt;/datatype&gt;</span></div>
                                          <span data-indentation="3" class="element">&lt;/attDef&gt;</span></div>
                                       <span data-indentation="2" class="element">&lt;/attList&gt;</span></div>
                                    <span data-indentation="1" class="element">&lt;/classSpec&gt;</span></div></code></div>
                        </div>
                     </div>
                  </div>
               </section>
            </div>
            <div class="column col-4 hide-md">
               <div id="guidelinesVersion"><span class="versionLabel">MEI Version: </span><span id="versionID">5.0.0-dev</span><span class="gitLink">(<a href="https://github.com/music-encoding/music-encoding/commit/6095a34b7a05fc6ba4a800fd70d58ae6ab673de4" target="_blank" rel="noopener noreferrer">#6095a34</a>)</span></div>
               <form>
                  <div class="search_group"><input name="q" id="search_input" class="search_input" title="At least 3 characters" type="text"><button type="submit" id="submitSearchButtonSide" class="search_button"><span class="search_icon">⚲</span></button></div>
               </form>
               <ul class="nav">
                  <li class="nav-item"><a href="../content/index.html">Guidelines</a></li>
                  <li class="nav-item"><a href="../modules.html">Modules</a></li>
                  <li class="nav-item"><a href="../elements.html">Elements</a></li>
                  <li class="nav-item"><a href="../model-classes.html">Model Classes</a></li>
                  <li class="nav-item"><a href="../macro-groups.html">Macro Groups</a></li>
                  <li class="nav-item"><a href="../attribute-classes.html">Attribute Classes</a></li>
                  <li class="nav-item"><a href="../data-types.html">Data Types</a></li>
               </ul>
               <div class="divider"></div>
            </div>
         </div>
         <div class="modal" id="toc-modal"><a href="#close" id="toc-modal-outer-close" class="modal-overlay" aria-label="Close"></a><div class="modal-container">
               <div class="modal-header"><a href="#close" id="toc-modal-inner-close" class="btn btn-clear float-right" aria-label="Close"></a><div class="modal-title h5">Table of Contents</div>
               </div>
               <div class="modal-body">
                  <div class="content">
                     <ul class="nav">
                        <li class="nav-item"><a href="../content/index.html">Guidelines</a></li>
                        <li class="nav-item"><a href="../modules.html">Modules</a></li>
                        <li class="nav-item"><a href="../elements.html">Elements</a></li>
                        <li class="nav-item"><a href="../model-classes.html">Model Classes</a></li>
                        <li class="nav-item"><a href="../macro-groups.html">Macro Groups</a></li>
                        <li class="nav-item"><a href="../attribute-classes.html">Attribute Classes</a></li>
                        <li class="nav-item"><a href="../data-types.html">Data Types</a></li>
                     </ul>
                     <div class="divider"></div>
                  </div>
               </div>
            </div>
         </div><script>
                                window.addEventListener("load", function(event) {
                                    document.getElementById('topNavigationShow').addEventListener('click',function(e) {
                                        var elem = document.getElementById('toc-modal');
                                        elem.classList.toggle('active');
                                    })
                                    document.getElementById('toc-modal-outer-close').addEventListener('click',function(e) {
                                        var elem = document.getElementById('toc-modal');
                                        elem.classList.toggle('active');
                                    })
                                    document.getElementById('toc-modal-inner-close').addEventListener('click',function(e) {
                                        var elem = document.getElementById('toc-modal');
                                        elem.classList.toggle('active');
                                    })
                                    
                                    function getMenu() {
                                        const fullVersion = '5.0.0-dev'
                                        const version = (fullVersion.includes('-dev')) ? 'dev' : 'v' + fullVersion.split('.')[0];
                                        console.log('trying to get menu for version ' + version + ' (' + fullVersion + ')'); 
                                        
                                        const url = 'https://music-encoding.org/menus/' + version + '/menu.html';
                                        
                                        fetch(url)
                                            .then(function(response) { return response.text()})
                                            .then(function(doc) {
                                                let headerBar = document.querySelector('.headerBar');
                                                const parser = new DOMParser();
                                                const htmlDoc = parser.parseFromString(doc, 'text/html');
                                                const menu = htmlDoc.querySelector('.headerBar');
                                                headerBar.parentNode.replaceChild(menu, headerBar);
                                            });
                                    };
                                    getMenu();
                                        
                                });
                            </script></div>
      <div class="modal" id="searchResultsModal"><a id="searchModalCloseBg" href="#" class="modal-overlay" aria-label="Close"></a><div class="modal-container">
            <div class="modal-header"><button id="searchModalCloseLink" class="btn btn-clear float-right" aria-label="Close"></button><div class="modal-title h5">Search Results for "<span id="searchPattern"></span>"</div>
            </div>
            <div class="modal-body">
               <div class="content" id="searchResultsBox"></div>
            </div>
            <div class="modal-footer"><button class="btn" id="searchModalCloseBtn">Close</button></div>
         </div>
      </div><script type="text/javascript">
                            const tabbedFacets = document.querySelectorAll('.facet ul.tab');
                            
                            const tabClick = function(e) {
                                const style = e.target.getAttribute('data-display');
                                const facetId = e.target.parentNode.parentNode.parentNode.parentNode.id;
                                //console.log('clicked at ' + facetId + ' with style ' + style)
                                setTabs(facetId,style)
                            }
                            
                            console.log('[INFO] Javascript initialized')
                            
                            for(let facetUl of tabbedFacets) {
                                const facetElem = facetUl.parentNode.parentNode;
                                const facetId = facetElem.id;
                                const storageName = 'meiSpecs_' + facetId + '_display';
                                const defaultValue = facetUl.children[0].children[0].getAttribute('data-display');
                                
                                if(localStorage.getItem(storageName) === null) {
                                    setTabs(facetElem.id,defaultValue);
                                } else {
                                    setTabs(facetElem.id,localStorage.getItem(storageName));
                                }
                                
                                const tabs = facetUl.querySelectorAll('.tab-item a');
                                
                                for(let tab of tabs) {
                                    tab.addEventListener('click',tabClick);
                                }                            
                            }
                            
                            function setTabs(facetId, style) {                            
                                const storageName = 'meiSpecs_' + facetId + '_display';
                                localStorage.setItem(storageName,style);
                                
                                const facetElem = document.getElementById(facetId);
                                
                                const oldTab = facetElem.querySelector('.displayTab.active');
                                oldTab.classList.remove('active');
                                
                                const newTab = document.getElementById(style + '_tab');
                                newTab.classList.add('active');
                                
                                const oldBox = facetElem.querySelector('.active.facetTabbedContent');
                                oldBox.classList.remove('active');
                                oldBox.style.display = 'none';
                                
                                const newBox = document.getElementById(style);
                                newBox.classList.add('active');
                                newBox.style.display = 'block';
                            }
                            
                            const reducedLevels = false;
                            
            /* SEARCH */
            const searchOptions = {
                // isCaseSensitive: false,
                includeScore: true,
                shouldSort: true,
                includeMatches: true,
                // findAllMatches: false,
                minMatchCharLength: 3,
                // location: 0,
                threshold: 0.1,
                // distance: 100,
                // useExtendedSearch: false,
                ignoreLocation: true,
                ignoreFieldNorm: false,
                keys: [
                    { name:"ident",
                      weight: 10 },
                    { name:"desc",
                      weight: 2 },
                    { name:"remarks",
                      weight: 1 }
                ]
            };
            
            //initialize search
            let fuse = new Fuse(searchIndex, searchOptions);
            let searchReady = true;
            
            const searchButton1 = document.querySelector('#submitSearchButtonSide');
            const searchButton2 = document.querySelector('#submitSearchButtonTop');
            const searchInput1 = document.querySelector('#search_input');
            const searchInput2 = document.querySelector('#search_inputTop');
            const searchModal = document.querySelector('#searchResultsModal');
            const searchModalCloseBtn = document.querySelector('#searchModalCloseBtn');
            const searchModalCloseBg = document.querySelector('#searchModalCloseBg');
            const searchModalCloseLink = document.querySelector('#searchModalCloseLink');
            const searchResultsBox = document.querySelector('#searchResultsBox');
            
            function search(pattern) {
                
                let results = fuse.search(pattern)
                console.log(results)
                
                searchResultsBox.innerHTML = '';
                
                document.querySelector('#searchPattern').innerHTML = pattern;
                
                const pathAdjust = (reducedLevels) ? './' : '../';
                
                results.forEach(hit => {
                    let div = document.createElement('div')
                    div.classList.add('searchHit')
                    div.setAttribute('data-score', hit.score)
                    let a = document.createElement('a')
                    a.setAttribute('href', pathAdjust + hit.item.url)
                    a.classList.add(hit.item.type)
                    a.innerHTML = hit.item.ident
                    div.append(a)
                    
                    if(hit.item.type === 'chapter') {
                        
                        let remarksHits = hit.matches.filter(m => m.key === 'remarks')
                        if(remarksHits.length > 0) {
                        
                            let firstI = remarksHits[0].indices[0][0];
                            let dist = remarksHits[0].indices[0][1] - remarksHits[0].indices[0][0] + 1;
                            let startRaw = firstI - 40;
                            
                            let hitLength = 140;
                            
                            let offset = (0 > startRaw)? 40 - firstI : 0;
                            let startCleaned = startRaw + offset;
                            
                            let prefix = (startCleaned > 0) ? '…': '';
                            let postfix = (remarksHits[0].value.length > hitLength + dist) ? '…': '';
                            
                            let snippet = remarksHits[0].value.substr(startCleaned, hitLength + dist);
                            
                            let pre = prefix + snippet.substr(0, 40 - offset);
                            let match = snippet.substr(40 - offset, dist);
                            let post = snippet.substr(40 - offset + dist) + postfix;
                            
                            let preview = document.createElement('div')
                            preview.classList.add('searchPreview')
                            preview.setAttribute('data-snippet', snippet)
                            
                            let preSpan = document.createElement('span')
                            preSpan.innerHTML = pre
                            preview.append(preSpan)
                            let matchSpan = document.createElement('span')
                            matchSpan.classList.add('match')
                            matchSpan.innerHTML = match
                            preview.append(matchSpan)
                            let postSpan = document.createElement('span')
                            postSpan.innerHTML = post
                            preview.append(postSpan)
                            
                            div.append(preview)
                        }
                    }
                    
                    
                    
                    searchResultsBox.append(div)
                })
                
                searchModal.classList.add('active');
            }
            
            function initSideSearch(e) {
                e.preventDefault();
                const val = searchInput1.value;
                if(!val.length > 2) {
                    return false;
                }
                search(val)
            }
            
            function initTopSearch(e) {
                e.preventDefault();
                const val = searchInput2.value;
                if(!val.length > 2) {
                    return false;
                }
                search(val)
            }
            
            function closeSearch(e) {
                e.preventDefault();
                searchModal.classList.remove('active');
            }
            
            searchInput1.addEventListener('keypress', e => {
                if (e.key === 'Enter') {
                  initSideSearch(e)
                }
            });
            
            searchInput2.addEventListener('keypress', e => {
                if (e.key === 'Enter') {
                  initTopSearch(e)
                }
            });
            
            searchButton1.addEventListener('click', initSideSearch)
            searchButton2.addEventListener('click', initTopSearch)
            searchModalCloseBtn.addEventListener('click',closeSearch)
            searchModalCloseBg.addEventListener('click',closeSearch)
            searchModalCloseLink.addEventListener('click',closeSearch)
            
        </script></body>
</html>