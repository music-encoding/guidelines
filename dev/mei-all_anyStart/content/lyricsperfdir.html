<!DOCTYPE HTML>
<html lang="en">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
      <!--THIS FILE IS GENERATED FROM AN XML TEMPLATE. DO NOT EDIT!-->
      <title>Music Encoding Initiative Guidelines</title>
      <link rel="schema.DC" href="http://purl.org/dc/elements/1.1/">
      <meta name="author" content="Perry Roland">
      <meta name="author" content="Benjamin W. Bohl">
      <meta name="author" content="Stefan Münnich">
      <meta name="subject" content="Documentation for the Music Encoding Initiative (MEI) Data Model">
      <meta name="keywords" content="Music Encoding, MEI, Digital Humanities, Musicology, Music Librarianship, Music Information Retrieval">
      <meta name="date" content="2025-08-21">
      <meta name="generator" content="MEI XSLT stylesheets">
      <meta name="DC.Title" content="Music Encoding Initiative Guidelines">
      <meta name="DC.description" content="A customization allowing any MEI element as root element, e.g., suited for validating MEI chunks.">
      <meta name="DC.Type" content="Text">
      <meta name="DC.Format" content="text/html">
      <link rel="stylesheet" media="screen" type="text/css" href="../assets/css/screen/search.css">
      <link rel="stylesheet" media="screen" type="text/css" href="../assets/css/screen/mei-website.css">
      <link rel="stylesheet" media="screen" type="text/css" href="../assets/css/screen/mei-screen.css"><script src="../assets/js/searchIndex.js"></script><script src="../assets/js/fuse.min.js"></script></head>
   <body class="simple" id="TOP">
      <div class="headerBar"></div>
      <div class="container content">
         <div class="columns specsLayout">
            <div class="top-navigation column col-md-12 show-md">
               <div class="top-navigation-header columns">
                  <div class="buttonbox"><button class="btn btn-action btn-sm btn-primary" id="topNavigationShow"><i class="icon icon-menu"></i></button></div>
                  <div class="searchbox">
                     <form>
                        <div class="search_group"><input id="search_inputTop" class="search_input" title="At least 3 characters" type="text"><button type="submit" id="submitSearchButtonTop" class="search_button"><span class="search_icon">⚲</span></button></div>
                     </form>
                  </div>
               </div>
            </div>
            <div class="column col-8 col-md-12">
               <div id="search-content"></div>
               <section class="div1">
                  
                  <h1 id="lyricsperfdir"><span class="headingNumber">B8</span><span class="head">Lyrics and Performance Directions</span></h1>
                  
                  <p>This chapter describes how to encode words and syllables in vocal notation. This text
                     is typically written under a staff to indicate the text to be vocally performed. As
                     such, this text should not be confused with other text on the score, for which see
                     chapter <a class="link_ptr chapterLink" title="Text Encoding" href="../content/textencoding.html">B9 Text Encoding</a>.</p>
                  
                  <div class="div2">
                     
                     <h2 id="lyricsDesc"><span class="headingNumber">8.1</span><span class="head">Vocal Text</span></h2>
                     
                     <p>These guidelines suggest two methods for encoding text in vocal notation: encoding
                        syllables as <a class="link_ptr chapterLink" title="Vocally Performed Text Encoded Within Notes" href="../content/lyricsperfdir.html#lyricsInEvents">8.1 Vocally Performed Text Encoded Within Notes</a> and encoding performed text as <a class="link_ptr chapterLink" title="Vocally Performed Text Encoded Separately" href="../content/lyricsperfdir.html#lyricsAfterEvents">8.1 Vocally Performed Text Encoded Separately</a> after the notes (and other staff events) either within <a class="link_odd link_odd_elementSpec" href="../elements/layer.html">&lt;layer&gt;</a> elements or within <a class="link_odd link_odd_elementSpec" href="../elements/measure.html">&lt;measure&gt;</a> elements when available (for example in a Common Music Notation context). Each method
                        may be more convenient depending on the source text and on the textual phenomena that
                        the encoding intends to record.</p>
                     
                     <p>Both methods eventually rely on the <a class="link_odd link_odd_elementSpec" href="../elements/syl.html">&lt;syl&gt;</a> element, which is part of the ‘shared’ module and is therefore available in all MEI
                        files. The following sections will begin by introducing the general use of <a class="link_odd link_odd_elementSpec" href="../elements/syl.html">&lt;syl&gt;</a> and then show in detail the two different encoding methods.</p>
                     </div>
                  
                  <div class="div2">
                     
                     <h2 id="lyricsSyl"><span class="headingNumber">8.1</span><span class="head">Lyric Syllables</span></h2>
                     
                     <p>By ‘lyric syllable’, these guidelines mean a word or portion of a word that is to
                        be performed vocally. Each syllable is encoded with the <a class="link_odd link_odd_elementSpec" href="../elements/syl.html">&lt;syl&gt;</a> element, with which it is also possible to specify the position of the syllable in
                        a word, the type of connectors between syllables, alignment adjustments, and the formatting
                        for each syllable. These are the key components:</p>
                     
                     <p>
                        
                        <div class="tile tile-centered">
                           <div class="tile-icon">
                              <div class="example-tile-icon"><i class="icon icon-resize-horiz centered"></i></div>
                           </div>
                           <div class="tile-content">
                              <div class="tile-title"><span class="specList-elementSpec"><a class="link_odd link_odd_elementSpec" href="../elements/syl.html">&lt;syl&gt;</a></span></div>
                              <div class="tile-subtitle text-gray"><span class="specList-elementSpec-desc">Individual lyric syllable.</span></div>
                           </div>
                        </div>
                        <div class="tile tile-centered">
                           <div class="tile-icon">
                              <div class="example-tile-icon"><span class="font-icon centered">@</span></div>
                           </div>
                           <div class="tile-content">
                              <div class="tile-title"><span class="att">@wordpos</span> (<a class="link_odd link_odd_attClass" href="../attribute-classes/att.syl.log.html">att.syl.log</a>)
                                 </div>
                              <div class="tile-subtitle text-gray">Records the position of a syllable within a word.</div>
                           </div>
                        </div>
                        <div class="tile tile-centered">
                           <div class="tile-icon">
                              <div class="example-tile-icon"><span class="font-icon centered">@</span></div>
                           </div>
                           <div class="tile-content">
                              <div class="tile-title"><span class="att">@con</span> (<a class="link_odd link_odd_attClass" href="../attribute-classes/att.syl.log.html">att.syl.log</a>)
                                 </div>
                              <div class="tile-subtitle text-gray">Describes the symbols typically used to indicate breaks between syllables and their
                                 functions.</div>
                           </div>
                        </div>
                        <div class="tile tile-centered">
                           <div class="tile-icon">
                              <div class="example-tile-icon"><span class="font-icon centered">@</span></div>
                           </div>
                           <div class="tile-content">
                              <div class="tile-title"><span class="att">@halign</span> (<a class="link_odd link_odd_attClass" href="../attribute-classes/att.horizontalAlign.html">att.horizontalAlign</a>)
                                 </div>
                              <div class="tile-subtitle text-gray">Records horizontal alignment.</div>
                           </div>
                        </div>
                        </p>
                     
                     <p>The attribute <span class="att">@wordpos</span> is used to specify the position of the marked-up lyric syllable in a word. It allows
                        the following values:</p>
                     
                     <p class="gloss"><strong><span>i</span></strong>:
                        Indicates that the current syllable’s position is initial; that is, at the beginning
                        of a word;</p>
                     <p class="gloss"><strong><span>m</span></strong>:
                        Indicates that the current syllable is in the middle of a word;</p>
                     <p class="gloss"><strong><span>t</span></strong>:
                        Indicates that the syllable’s position is terminal; that is, at the end of a word.</p>
                     
                     <p>When a syllable is at the beginning or in the middle of a word (in which case it will
                        have the <span class="att">@wordpos</span> attribute set to ‘i’ or ‘m’), it is recommended to specify the type of connector
                        written between the current and the following syllable. This is expressed with the
                        <span class="att">@con</span> attribute, which takes the following values:</p>
                     
                     <p class="gloss"><strong><span>s</span></strong>:
                        A space is used as a connector between syllables;</p>
                     <p class="gloss"><strong><span>d</span></strong>:
                        A dash is used as a connector between syllables;</p>
                     <p class="gloss"><strong><span>u</span></strong>:
                        An underscore sign (indicating prolongation of the syllable) is used as a connector
                        between syllables;</p>
                     <p class="gloss"><strong><span>t</span></strong>:
                        A tilde is used to indicate elision with the following syllable. This is typically
                        rendered as a small curved line between the syllables.</p>
                     
                     <p>Occasionally, a word or a final syllable needs to be extended across multiple notes.
                        In this case an ‘extender’ is provided. An extender is a continuous line drawn at
                        the text’s baseline from the end of the syllable associated with the first note until
                        the last note to be sung with the syllable.</p>
                     
                     <p>The use of <a class="link_odd link_odd_elementSpec" href="../elements/syl.html">&lt;syl&gt;</a> described in this section is common to CMN and other notation systems, such as mensural
                        notation. Other uses specific to certain types of notation and repertoires are addressed
                        in other chapters. See for example <a class="link_ptr chapterLink" title="Repertoire: Neume Notation" href="../content/neumes.html">B6 Repertoire: Neume Notation</a>.</p>
                     </div>
                  
                  <div class="div2">
                     
                     <h2 id="lyricsInEvents"><span class="headingNumber">8.1</span><span class="head">Vocally Performed Text Encoded Within Notes</span></h2>
                     
                     <p>Each lyric syllable can be encoded directly within an associated note, either by using
                        the <span class="att">@syl</span> attribute on <a class="link_odd link_odd_elementSpec" href="../elements/note.html">&lt;note&gt;</a> or the <a class="link_odd link_odd_elementSpec" href="../elements/verse.html">&lt;verse&gt;</a> element.</p>
                     
                     <p>Using the <span class="att">@syl</span> attribute on notes is the simplest way of encoding vocally performed text and is
                        recommended only for simple situations or for those encodings which do not focus on
                        vocally performed text.</p>
                     
                     <p>The following example from <a class="link_ref link_external" href="https://en.wikipedia.org/wiki/George_Frideric_Handel">Handel’s</a> <em>Messiah</em> (HWV 56) shows the use of <span class="att">@syl</span>:</p>
                     
                     <p>
                        
                        <figure class="figure"><img alt="example" class="graphic" src="../assets/images/modules/lyrics/ex_syl_att.png"><figcaption class="figure-caption">Figure 114. Handel, Messiah HWV 56, Hallelujah</figcaption>
                        </figure>
                        
                        <figure class="figure specPage">
                           <div id="d18e18295" xml:space="preserve" class="pre code egXML_feasible">
                              <code>
                                 
                                 
                                 <div class="indent indent1"><span data-indentation="1" class="element">&lt;measure&gt;</span>
                                    
                                    <div class="indent indent2"><span data-indentation="2" class="element">&lt;staff&gt;</span>
                                       
                                       <div class="indent indent3"><span data-indentation="3" class="element">&lt;layer&gt;</span>
                                          
                                          <div class="indent indent4"><span data-indentation="4" class="element">&lt;note <span class="attribute">dots=</span><span class="attributevalue">"1"</span> <span class="attribute">dur=</span><span class="attributevalue">"4"</span> <span class="attribute">oct=</span><span class="attributevalue">"5"</span> <span class="attribute">pname=</span><span class="attributevalue">"c"</span> <span class="attribute">syl=</span><span class="attributevalue">"Hal-"</span>/&gt;</span></div>
                                          
                                          <div class="indent indent4"><span data-indentation="4" class="element">&lt;note <span class="attribute">dur=</span><span class="attributevalue">"8"</span> <span class="attribute">oct=</span><span class="attributevalue">"4"</span> <span class="attribute">pname=</span><span class="attributevalue">"g"</span> <span class="attribute">syl=</span><span class="attributevalue">"le-"</span>/&gt;</span></div>
                                          
                                          <div class="indent indent4"><span data-indentation="4" class="element">&lt;beam&gt;</span>
                                             
                                             <div class="indent indent5"><span data-indentation="5" class="element">&lt;note <span class="attribute">dur=</span><span class="attributevalue">"8"</span> <span class="attribute">oct=</span><span class="attributevalue">"4"</span> <span class="attribute">pname=</span><span class="attributevalue">"a"</span> <span class="attribute">syl=</span><span class="attributevalue">"lu-"</span>/&gt;</span></div>
                                             
                                             <div class="indent indent5"><span data-indentation="5" class="element">&lt;note <span class="attribute">dur=</span><span class="attributevalue">"8"</span> <span class="attribute">oct=</span><span class="attributevalue">"4"</span> <span class="attribute">pname=</span><span class="attributevalue">"g"</span> <span class="attribute">syl=</span><span class="attributevalue">"jah,"</span>/&gt;</span></div>
                                             <span data-indentation="4" class="element">&lt;/beam&gt;</span></div>
                                          
                                          <div class="indent indent4"><span data-indentation="4" class="element">&lt;rest <span class="attribute">dur=</span><span class="attributevalue">"4"</span>/&gt;</span></div>
                                          <span data-indentation="3" class="element">&lt;/layer&gt;</span></div>
                                       <span data-indentation="2" class="element">&lt;/staff&gt;</span></div>
                                    <span data-indentation="1" class="element">&lt;/measure&gt;</span></div>
                                 
                                 
                                 
                                 </code>
                              
                              </div>
                           <figcaption class="figure-caption">Listing 301. </figcaption>
                        </figure>
                        </p>
                     
                     <p>When there are multiple lines of vocally performed text, or the encoder wishes to
                        be more specific about connectors, etc., the use of <a class="link_odd link_odd_elementSpec" href="../elements/verse.html">&lt;verse&gt;</a> and <a class="link_odd link_odd_elementSpec" href="../elements/syl.html">&lt;syl&gt;</a> is recommended.</p>
                     
                     <p>
                        
                        <div class="tile tile-centered">
                           <div class="tile-icon">
                              <div class="example-tile-icon"><i class="icon icon-resize-horiz centered"></i></div>
                           </div>
                           <div class="tile-content">
                              <div class="tile-title"><span class="specList-elementSpec"><a class="link_odd link_odd_elementSpec" href="../elements/verse.html">&lt;verse&gt;</a></span></div>
                              <div class="tile-subtitle text-gray"><span class="specList-elementSpec-desc">Division of a poem or song lyrics, sometimes having a fixed length, meter or rhyme
                                    scheme;
                                    a stanza.</span></div>
                           </div>
                        </div>
                        </p>
                     
                     <p>The following example from <a class="link_ref link_external" href="https://en.wikipedia.org/wiki/George_Frideric_Handel">Handel’s</a> <em>Messiah</em> (HWV 56) shows the use of <a class="link_odd link_odd_elementSpec" href="../elements/verse.html">&lt;verse&gt;</a>:</p>
                     
                     <p>
                        
                        <figure class="figure specPage">
                           <div id="d18e18336" xml:space="preserve" class="pre code egXML_feasible">
                              <code>
                                 
                                 
                                 <div class="indent indent1"><span data-indentation="1" class="element">&lt;measure&gt;</span>
                                    
                                    <div class="indent indent2"><span data-indentation="2" class="element">&lt;staff&gt;</span>
                                       
                                       <div class="indent indent3"><span data-indentation="3" class="element">&lt;layer&gt;</span>
                                          
                                          <div class="indent indent4"><span data-indentation="4" class="element">&lt;note <span class="attribute">dots=</span><span class="attributevalue">"1"</span> <span class="attribute">dur=</span><span class="attributevalue">"4"</span> <span class="attribute">oct=</span><span class="attributevalue">"5"</span> <span class="attribute">pname=</span><span class="attributevalue">"c"</span>&gt;</span>
                                             
                                             <div class="indent indent5"><span data-indentation="5" class="element">&lt;verse <span class="attribute">n=</span><span class="attributevalue">"1"</span>&gt;</span>
                                                
                                                <div class="indent indent6"><span data-indentation="6" class="element">&lt;syl <span class="attribute">con=</span><span class="attributevalue">"d"</span> <span class="attribute">wordpos=</span><span class="attributevalue">"i"</span>&gt;</span>Hal<span data-indentation="6" class="element">&lt;/syl&gt;</span></div>
                                                <span data-indentation="5" class="element">&lt;/verse&gt;</span></div>
                                             <span data-indentation="4" class="element">&lt;/note&gt;</span></div>
                                          
                                          <div class="indent indent4"><span data-indentation="4" class="element">&lt;note <span class="attribute">dur=</span><span class="attributevalue">"8"</span> <span class="attribute">oct=</span><span class="attributevalue">"4"</span> <span class="attribute">pname=</span><span class="attributevalue">"g"</span>&gt;</span>
                                             
                                             <div class="indent indent5"><span data-indentation="5" class="element">&lt;verse <span class="attribute">n=</span><span class="attributevalue">"1"</span>&gt;</span>
                                                
                                                <div class="indent indent6"><span data-indentation="6" class="element">&lt;syl <span class="attribute">con=</span><span class="attributevalue">"d"</span> <span class="attribute">wordpos=</span><span class="attributevalue">"m"</span>&gt;</span>le<span data-indentation="6" class="element">&lt;/syl&gt;</span></div>
                                                <span data-indentation="5" class="element">&lt;/verse&gt;</span></div>
                                             <span data-indentation="4" class="element">&lt;/note&gt;</span></div>
                                          
                                          <div class="indent indent4"><span data-indentation="4" class="element">&lt;beam&gt;</span>
                                             
                                             <div class="indent indent5"><span data-indentation="5" class="element">&lt;note <span class="attribute">dur=</span><span class="attributevalue">"8"</span> <span class="attribute">oct=</span><span class="attributevalue">"4"</span> <span class="attribute">pname=</span><span class="attributevalue">"a"</span>&gt;</span>
                                                
                                                <div class="indent indent6"><span data-indentation="6" class="element">&lt;verse <span class="attribute">n=</span><span class="attributevalue">"1"</span>&gt;</span>
                                                   
                                                   <div class="indent indent7"><span data-indentation="7" class="element">&lt;syl <span class="attribute">con=</span><span class="attributevalue">"d"</span> <span class="attribute">wordpos=</span><span class="attributevalue">"m"</span>&gt;</span>lu<span data-indentation="7" class="element">&lt;/syl&gt;</span></div>
                                                   <span data-indentation="6" class="element">&lt;/verse&gt;</span></div>
                                                <span data-indentation="5" class="element">&lt;/note&gt;</span></div>
                                             
                                             <div class="indent indent5"><span data-indentation="5" class="element">&lt;note <span class="attribute">dur=</span><span class="attributevalue">"8"</span> <span class="attribute">oct=</span><span class="attributevalue">"4"</span> <span class="attribute">pname=</span><span class="attributevalue">"g"</span>&gt;</span>
                                                
                                                <div class="indent indent6"><span data-indentation="6" class="element">&lt;verse <span class="attribute">n=</span><span class="attributevalue">"1"</span>&gt;</span>
                                                   
                                                   <div class="indent indent7"><span data-indentation="7" class="element">&lt;syl <span class="attribute">wordpos=</span><span class="attributevalue">"t"</span>&gt;</span>jah,<span data-indentation="7" class="element">&lt;/syl&gt;</span></div>
                                                   <span data-indentation="6" class="element">&lt;/verse&gt;</span></div>
                                                <span data-indentation="5" class="element">&lt;/note&gt;</span></div>
                                             <span data-indentation="4" class="element">&lt;/beam&gt;</span></div>
                                          
                                          <div class="indent indent4"><span data-indentation="4" class="element">&lt;rest <span class="attribute">dur=</span><span class="attributevalue">"4"</span>/&gt;</span></div>
                                          <span data-indentation="3" class="element">&lt;/layer&gt;</span></div>
                                       <span data-indentation="2" class="element">&lt;/staff&gt;</span></div>
                                    <span data-indentation="1" class="element">&lt;/measure&gt;</span></div>
                                 
                                 
                                 
                                 </code>
                              
                              </div>
                           <figcaption class="figure-caption">Listing 302. </figcaption>
                        </figure>
                        </p>
                     
                     <p>As it is common practice in written text, it is assumed that a space separates words.
                        Many vocal texts, however, introduce elisions and connect two syllables into one unit.
                        For example, the vocal text from Mozart’s <em>Don Giovanni</em> sung by Don Giovanni in Finale II, "Ho fermo il core in petto" introduces an elision
                        between the word fermo and il and between core and in. An elision can be indicated
                        by placing both syllables within the same <a class="link_odd link_odd_elementSpec" href="../elements/note.html">&lt;note&gt;</a> and setting the <a class="link_odd link_odd_elementSpec" href="../elements/syl.html">&lt;syl&gt;</a> element’s <span class="att">@con</span> attribute value to 't':</p>
                     
                     <p>
                        
                        <figure class="figure specPage">
                           <div id="d18e18363" xml:space="preserve" class="pre code egXML_feasible">
                              <code>
                                 
                                 
                                 <div class="indent indent1"><span data-indentation="1" class="element">&lt;note&gt;</span>
                                    
                                    <div class="indent indent2"><span data-indentation="2" class="element">&lt;verse&gt;</span>
                                       
                                       <div class="indent indent3"><span data-indentation="3" class="element">&lt;syl <span class="attribute">con=</span><span class="attributevalue">"t"</span> <span class="attribute">wordpos=</span><span class="attributevalue">"t"</span>&gt;</span>re<span data-indentation="3" class="element">&lt;/syl&gt;</span></div>
                                       
                                       <div class="indent indent3"><span data-indentation="3" class="element">&lt;syl <span class="attribute">wordpos=</span><span class="attributevalue">"i"</span>&gt;</span>in<span data-indentation="3" class="element">&lt;/syl&gt;</span></div>
                                       <span data-indentation="2" class="element">&lt;/verse&gt;</span></div>
                                    <span data-indentation="1" class="element">&lt;/note&gt;</span></div>
                                 
                                 
                                 
                                 </code>
                              
                              </div>
                           <figcaption class="figure-caption">Listing 303. </figcaption>
                        </figure>
                        </p>
                     
                     <p>When there is more than one line of text, more than one <a class="link_odd link_odd_elementSpec" href="../elements/verse.html">&lt;verse&gt;</a> element can be used. The following example from a piano reduction of Wagner’s <em>Rheingold</em> has two lines of text, with an English translation on the second line. Note the use
                        of the <span class="att">@xml:lang</span> attribute to differentiate the two languages:</p>
                     
                     <p>
                        
                        <figure class="figure"><img alt="example" class="graphic" src="../assets/images/modules/lyrics/ex_verse_m.png"><figcaption class="figure-caption">Figure 115. Example from Wagner’s Rheingold with translated text.</figcaption>
                        </figure>
                        
                        <figure class="figure specPage">
                           <div id="d18e18393" xml:space="preserve" class="pre code egXML_feasible">
                              <code>
                                 
                                 
                                 <div class="indent indent1"><span data-indentation="1" class="element">&lt;scoreDef&gt;</span>
                                    
                                    <div class="indent indent2"><span data-indentation="2" class="element">&lt;staffGrp&gt;</span>
                                       
                                       <div class="indent indent3"><span data-indentation="3" class="element">&lt;staffDef <span class="attribute">clef.line=</span><span class="attributevalue">"4"</span> <span class="attribute">clef.shape=</span><span class="attributevalue">"F"</span> <span class="attribute">keysig=</span><span class="attributevalue">"4s"</span> <span class="attribute">lines=</span><span class="attributevalue">"5"</span> <span class="attribute">n=</span><span class="attributevalue">"1"</span>/&gt;</span></div>
                                       <span data-indentation="2" class="element">&lt;/staffGrp&gt;</span></div>
                                    <span data-indentation="1" class="element">&lt;/scoreDef&gt;</span></div>
                                 
                                 <div class="indent indent1"><span data-indentation="1" class="element">&lt;section&gt;</span>
                                    
                                    <div class="indent indent2"><span data-indentation="2" class="element">&lt;measure&gt;</span>
                                       
                                       <div class="indent indent3"><span data-indentation="3" class="element">&lt;staff <span class="attribute">n=</span><span class="attributevalue">"1"</span>&gt;</span>
                                          
                                          <div class="indent indent4"><span data-indentation="4" class="element">&lt;layer <span class="attribute">n=</span><span class="attributevalue">"1"</span>&gt;</span>
                                             
                                             <div class="indent indent5"><span data-indentation="5" class="element">&lt;note <span class="attribute">dur=</span><span class="attributevalue">"2"</span> <span class="attribute">oct=</span><span class="attributevalue">"3"</span> <span class="attribute">pname=</span><span class="attributevalue">"f"</span> <span class="attribute">stem.dir=</span><span class="attributevalue">"down"</span>&gt;</span>
                                                
                                                <div class="indent indent6"><span data-indentation="6" class="element">&lt;verse <span class="attribute">n=</span><span class="attributevalue">"1"</span> <span class="attribute">xml:lang=</span><span class="attributevalue">"ger"</span>&gt;</span>
                                                   
                                                   <div class="indent indent7"><span data-indentation="7" class="element">&lt;syl <span class="attribute">con=</span><span class="attributevalue">"d"</span> <span class="attribute">wordpos=</span><span class="attributevalue">"i"</span>&gt;</span>Rei<span data-indentation="7" class="element">&lt;/syl&gt;</span></div>
                                                   <span data-indentation="6" class="element">&lt;/verse&gt;</span></div>
                                                
                                                <div class="indent indent6"><span data-indentation="6" class="element">&lt;verse <span class="attribute">n=</span><span class="attributevalue">"2"</span> <span class="attribute">xml:lang=</span><span class="attributevalue">"eng"</span>&gt;</span>
                                                   
                                                   <div class="indent indent7"><span data-indentation="7" class="element">&lt;syl&gt;</span>thinks<span data-indentation="7" class="element">&lt;/syl&gt;</span></div>
                                                   <span data-indentation="6" class="element">&lt;/verse&gt;</span></div>
                                                <span data-indentation="5" class="element">&lt;/note&gt;</span></div>
                                             
                                             <div class="indent indent5"><span data-indentation="5" class="element">&lt;note <span class="attribute">dur=</span><span class="attributevalue">"8"</span> <span class="attribute">oct=</span><span class="attributevalue">"3"</span> <span class="attribute">pname=</span><span class="attributevalue">"f"</span> <span class="attribute">stem.dir=</span><span class="attributevalue">"down"</span>&gt;</span>
                                                
                                                <div class="indent indent6"><span data-indentation="6" class="element">&lt;verse <span class="attribute">n=</span><span class="attributevalue">"1"</span>&gt;</span>
                                                   
                                                   <div class="indent indent7"><span data-indentation="7" class="element">&lt;syl <span class="attribute">wordpos=</span><span class="attributevalue">"t"</span>&gt;</span>fes<span data-indentation="7" class="element">&lt;/syl&gt;</span></div>
                                                   <span data-indentation="6" class="element">&lt;/verse&gt;</span></div>
                                                
                                                <div class="indent indent6"><span data-indentation="6" class="element">&lt;verse <span class="attribute">n=</span><span class="attributevalue">"2"</span>&gt;</span>
                                                   
                                                   <div class="indent indent7"><span data-indentation="7" class="element">&lt;syl&gt;</span>it<span data-indentation="7" class="element">&lt;/syl&gt;</span></div>
                                                   <span data-indentation="6" class="element">&lt;/verse&gt;</span></div>
                                                <span data-indentation="5" class="element">&lt;/note&gt;</span></div>
                                             
                                             <div class="indent indent5"><span data-indentation="5" class="element">&lt;note <span class="attribute">dur=</span><span class="attributevalue">"8"</span> <span class="attribute">oct=</span><span class="attributevalue">"3"</span> <span class="attribute">pname=</span><span class="attributevalue">"f"</span> <span class="attribute">stem.dir=</span><span class="attributevalue">"down"</span>&gt;</span>
                                                
                                                <div class="indent indent6"><span data-indentation="6" class="element">&lt;verse <span class="attribute">n=</span><span class="attributevalue">"1"</span>&gt;</span>
                                                   
                                                   <div class="indent indent7"><span data-indentation="7" class="element">&lt;syl&gt;</span>zu<span data-indentation="7" class="element">&lt;/syl&gt;</span></div>
                                                   <span data-indentation="6" class="element">&lt;/verse&gt;</span></div>
                                                
                                                <div class="indent indent6"><span data-indentation="6" class="element">&lt;verse <span class="attribute">n=</span><span class="attributevalue">"2"</span>&gt;</span>
                                                   
                                                   <div class="indent indent7"><span data-indentation="7" class="element">&lt;syl&gt;</span>were<span data-indentation="7" class="element">&lt;/syl&gt;</span></div>
                                                   <span data-indentation="6" class="element">&lt;/verse&gt;</span></div>
                                                <span data-indentation="5" class="element">&lt;/note&gt;</span></div>
                                             <span data-indentation="4" class="element">&lt;/layer&gt;</span></div>
                                          <span data-indentation="3" class="element">&lt;/staff&gt;</span></div>
                                       <span data-indentation="2" class="element">&lt;/measure&gt;</span></div>
                                    
                                    <div class="indent indent2"><span data-indentation="2" class="element">&lt;measure&gt;</span>
                                       
                                       <div class="indent indent3"><span data-indentation="3" class="element">&lt;staff <span class="attribute">n=</span><span class="attributevalue">"1"</span>&gt;</span>
                                          
                                          <div class="indent indent4"><span data-indentation="4" class="element">&lt;layer&gt;</span>
                                             
                                             <div class="indent indent5"><span data-indentation="5" class="element">&lt;note <span class="attribute">dur=</span><span class="attributevalue">"4"</span> <span class="attribute">oct=</span><span class="attributevalue">"3"</span> <span class="attribute">pname=</span><span class="attributevalue">"b"</span> <span class="attribute">stem.dir=</span><span class="attributevalue">"down"</span>&gt;</span>
                                                
                                                <div class="indent indent6"><span data-indentation="6" class="element">&lt;verse <span class="attribute">n=</span><span class="attributevalue">"1"</span>&gt;</span>
                                                   
                                                   <div class="indent indent7"><span data-indentation="7" class="element">&lt;syl <span class="attribute">con=</span><span class="attributevalue">"d"</span> <span class="attribute">wordpos=</span><span class="attributevalue">"i"</span>&gt;</span>wal<span data-indentation="7" class="element">&lt;/syl&gt;</span></div>
                                                   <span data-indentation="6" class="element">&lt;/verse&gt;</span></div>
                                                
                                                <div class="indent indent6"><span data-indentation="6" class="element">&lt;verse <span class="attribute">n=</span><span class="attributevalue">"2"</span>&gt;</span>
                                                   
                                                   <div class="indent indent7"><span data-indentation="7" class="element">&lt;syl&gt;</span>wise<span data-indentation="7" class="element">&lt;/syl&gt;</span></div>
                                                   <span data-indentation="6" class="element">&lt;/verse&gt;</span></div>
                                                <span data-indentation="5" class="element">&lt;/note&gt;</span></div>
                                             
                                             <div class="indent indent5"><span data-indentation="5" class="element">&lt;note <span class="attribute">dur=</span><span class="attributevalue">"4"</span> <span class="attribute">oct=</span><span class="attributevalue">"3"</span> <span class="attribute">pname=</span><span class="attributevalue">"d"</span> <span class="attribute">stem.dir=</span><span class="attributevalue">"down"</span>&gt;</span>
                                                
                                                <div class="indent indent6"><span data-indentation="6" class="element">&lt;accid <span class="attribute">accid=</span><span class="attributevalue">"n"</span>/&gt;</span></div>
                                                
                                                <div class="indent indent6"><span data-indentation="6" class="element">&lt;verse <span class="attribute">n=</span><span class="attributevalue">"1"</span>&gt;</span>
                                                   
                                                   <div class="indent indent7"><span data-indentation="7" class="element">&lt;syl <span class="attribute">wordpos=</span><span class="attributevalue">"t"</span>&gt;</span>ten,<span data-indentation="7" class="element">&lt;/syl&gt;</span></div>
                                                   <span data-indentation="6" class="element">&lt;/verse&gt;</span></div>
                                                
                                                <div class="indent indent6"><span data-indentation="6" class="element">&lt;verse <span class="attribute">n=</span><span class="attributevalue">"2"</span>&gt;</span>
                                                   
                                                   <div class="indent indent7"><span data-indentation="7" class="element">&lt;syl&gt;</span>now<span data-indentation="7" class="element">&lt;/syl&gt;</span></div>
                                                   <span data-indentation="6" class="element">&lt;/verse&gt;</span></div>
                                                <span data-indentation="5" class="element">&lt;/note&gt;</span></div>
                                             
                                             <div class="indent indent5"><span data-indentation="5" class="element">&lt;rest <span class="attribute">dur=</span><span class="attributevalue">"4"</span> <span class="attribute">dur.ges=</span><span class="attributevalue">"8p"</span>/&gt;</span></div>
                                             <span data-indentation="4" class="element">&lt;/layer&gt;</span></div>
                                          <span data-indentation="3" class="element">&lt;/staff&gt;</span></div>
                                       <span data-indentation="2" class="element">&lt;/measure&gt;</span></div>
                                    <span data-indentation="1" class="element">&lt;/section&gt;</span></div>
                                 
                                 
                                 </code>
                              
                              </div>
                           <figcaption class="figure-caption">Listing 304. </figcaption>
                        </figure>
                        </p>
                     
                     <p>Optionally, it is possible to include an <a class="link_odd link_odd_elementSpec" href="../elements/lb.html">&lt;lb&gt;</a> element within <a class="link_odd link_odd_elementSpec" href="../elements/verse.html">&lt;verse&gt;</a> to explicitly encode line and line group beginnings. This is specifically meant to
                        facilitate karaoke applications.</p>
                     
                     <p>Finally, the <span class="att">@rhythm</span> attribute on <a class="link_odd link_odd_elementSpec" href="../elements/l.html">&lt;l&gt;</a> can be used to specify a rhythm for the syllable that differs from that of the notes
                        on the staff (see <a class="link_ptr chapterLink" title="Vocally Performed Text Encoded Separately" href="../content/lyricsperfdir.html#lyricsAfterEvents">8.1 Vocally Performed Text Encoded Separately</a>).</p>
                     </div>
                  
                  <div class="div2">
                     
                     <h2 id="lyricsAfterEvents"><span class="headingNumber">8.1</span><span class="head">Vocally Performed Text Encoded Separately</span></h2>
                     
                     <p>Vocally performed text may also be encoded separately from the notes with the <a class="link_odd link_odd_elementSpec" href="../elements/lg.html">&lt;lg&gt;</a> element. These are the main components:</p>
                     
                     <p>
                        
                        <div class="tile tile-centered">
                           <div class="tile-icon">
                              <div class="example-tile-icon"><i class="icon icon-resize-horiz centered"></i></div>
                           </div>
                           <div class="tile-content">
                              <div class="tile-title"><span class="specList-elementSpec"><a class="link_odd link_odd_elementSpec" href="../elements/lg.html">&lt;lg&gt;</a></span></div>
                              <div class="tile-subtitle text-gray"><span class="specList-elementSpec-desc">May be used for any section of text that is organized as a group of lines;
                                    however, it is most often used for a group of verse lines functioning as a formal
                                    unit, <abbr>e.g.</abbr>, a
                                    stanza, refrain, verse paragraph, etc.</span></div>
                           </div>
                        </div>
                        <div class="tile tile-centered">
                           <div class="tile-icon">
                              <div class="example-tile-icon"><i class="icon icon-resize-horiz centered"></i></div>
                           </div>
                           <div class="tile-content">
                              <div class="tile-title"><span class="specList-elementSpec"><a class="link_odd link_odd_elementSpec" href="../elements/l.html">&lt;l&gt;</a></span></div>
                              <div class="tile-subtitle text-gray"><span class="specList-elementSpec-desc">Contains a single line of text within a line group.</span></div>
                           </div>
                        </div>
                        <div class="tile tile-centered">
                           <div class="tile-icon">
                              <div class="example-tile-icon"><span class="font-icon centered">@</span></div>
                           </div>
                           <div class="tile-content">
                              <div class="tile-title"><span class="att">@staff</span> (<a class="link_odd link_odd_attClass" href="../attribute-classes/att.staffIdent.html">att.staffIdent</a>)
                                 </div>
                              <div class="tile-subtitle text-gray">Signifies the staff on which a notated event occurs or to which a control event
                                 applies. Mandatory when applicable.</div>
                           </div>
                        </div>
                        <div class="tile tile-centered">
                           <div class="tile-icon">
                              <div class="example-tile-icon"><span class="font-icon centered">@</span></div>
                           </div>
                           <div class="tile-content">
                              <div class="tile-title"><span class="att">@layer</span> (<a class="link_odd link_odd_attClass" href="../attribute-classes/att.layerIdent.html">att.layerIdent</a>)
                                 </div>
                              <div class="tile-subtitle text-gray">Identifies the layer to which a feature applies.</div>
                           </div>
                        </div>
                        </p>
                     
                     <p>Since this element is separated from the encoding of the notes, it must be associated
                        with a staff that will provide rhythm information when required for automated processing.
                        The <span class="att">@staff</span> attribute gives the associated staff and if there is more than one layer on that
                        staff, the <span class="att">@layer</span> attribute may be used to indicate the layer from which the rhythm should be taken.
                        If there is any divergence between the rhythm of the vocally performed text and the
                        notes, the <span class="att">@rhythm</span> attribute on <a class="link_odd link_odd_elementSpec" href="../elements/l.html">&lt;l&gt;</a> may be used to specify the text’s rhythm.</p>
                     
                     <p>
                        
                        <figure class="figure specPage">
                           <div id="d18e18461" xml:space="preserve" class="pre code egXML_feasible">
                              <code>
                                 
                                 
                                 
                                 <div class="indent indent1"><span data-indentation="1" class="element">&lt;measure <span class="attribute">metcon=</span><span class="attributevalue">"false"</span> <span class="attribute">n=</span><span class="attributevalue">"1"</span>&gt;</span>
                                    
                                    <div class="indent indent2"><span data-indentation="2" class="element">&lt;staff <span class="attribute">n=</span><span class="attributevalue">"1"</span>&gt;</span>
                                       
                                       <div class="indent indent3"><span data-indentation="3" class="element">&lt;layer <span class="attribute">n=</span><span class="attributevalue">"1"</span>&gt;</span>
                                          
                                          <div class="indent indent4"><span data-indentation="4" class="element">&lt;note <span class="attribute">dur=</span><span class="attributevalue">"4"</span> <span class="attribute">pname=</span><span class="attributevalue">"e"</span> <span class="attribute">oct=</span><span class="attributevalue">"3"</span> <span class="attribute">stem.dir=</span><span class="attributevalue">"down"</span>&gt;</span>
                                             
                                             <div class="indent indent5"><span data-indentation="5" class="element">&lt;verse <span class="attribute">n=</span><span class="attributevalue">"1"</span>&gt;</span>
                                                
                                                <div class="indent indent6"><span data-indentation="6" class="element">&lt;syl&gt;</span>Es<span data-indentation="6" class="element">&lt;/syl&gt;</span></div>
                                                <span data-indentation="5" class="element">&lt;/verse&gt;</span></div>
                                             <span data-indentation="4" class="element">&lt;/note&gt;</span></div>
                                          <span data-indentation="3" class="element">&lt;/layer&gt;</span></div>
                                       <span data-indentation="2" class="element">&lt;/staff&gt;</span></div>
                                    <span data-indentation="1" class="element">&lt;/measure&gt;</span></div>
                                 
                                 <div class="indent indent1"><span data-indentation="1" class="element">&lt;measure <span class="attribute">n=</span><span class="attributevalue">"2"</span>&gt;</span>
                                    
                                    <div class="indent indent2"><span data-indentation="2" class="element">&lt;staff <span class="attribute">n=</span><span class="attributevalue">"1"</span>&gt;</span>
                                       
                                       <div class="indent indent3"><span data-indentation="3" class="element">&lt;layer <span class="attribute">n=</span><span class="attributevalue">"1"</span>&gt;</span>
                                          
                                          <div class="indent indent4"><span data-indentation="4" class="element">&lt;note <span class="attribute">dur=</span><span class="attributevalue">"2"</span> <span class="attribute">pname=</span><span class="attributevalue">"a"</span> <span class="attribute">oct=</span><span class="attributevalue">"3"</span> <span class="attribute">stem.dir=</span><span class="attributevalue">"down"</span>&gt;</span>
                                             
                                             <div class="indent indent5"><span data-indentation="5" class="element">&lt;verse <span class="attribute">n=</span><span class="attributevalue">"1"</span>&gt;</span>
                                                
                                                <div class="indent indent6"><span data-indentation="6" class="element">&lt;syl&gt;</span>war<span data-indentation="6" class="element">&lt;/syl&gt;</span></div>
                                                <span data-indentation="5" class="element">&lt;/verse&gt;</span></div>
                                             <span data-indentation="4" class="element">&lt;/note&gt;</span></div>
                                          
                                          <div class="indent indent4"><span data-indentation="4" class="element">&lt;note <span class="attribute">dur=</span><span class="attributevalue">"4"</span> <span class="attribute">pname=</span><span class="attributevalue">"a"</span> <span class="attribute">oct=</span><span class="attributevalue">"3"</span> <span class="attribute">stem.dir=</span><span class="attributevalue">"down"</span>&gt;</span>
                                             
                                             <div class="indent indent5"><span data-indentation="5" class="element">&lt;verse <span class="attribute">n=</span><span class="attributevalue">"1"</span>&gt;</span>
                                                
                                                <div class="indent indent6"><span data-indentation="6" class="element">&lt;syl&gt;</span>ein<span data-indentation="6" class="element">&lt;/syl&gt;</span></div>
                                                <span data-indentation="5" class="element">&lt;/verse&gt;</span></div>
                                             <span data-indentation="4" class="element">&lt;/note&gt;</span></div>
                                          
                                          <div class="indent indent4"><span data-indentation="4" class="element">&lt;note <span class="attribute">dots=</span><span class="attributevalue">"1"</span> <span class="attribute">dur=</span><span class="attributevalue">"4"</span> <span class="attribute">pname=</span><span class="attributevalue">"e"</span> <span class="attribute">oct=</span><span class="attributevalue">"3"</span> <span class="attribute">stem.dir=</span><span class="attributevalue">"down"</span> <span class="attribute">xml:id=</span><span class="attributevalue">"n8zcqth"</span>&gt;</span>
                                             
                                             <div class="indent indent5"><span data-indentation="5" class="element">&lt;verse <span class="attribute">n=</span><span class="attributevalue">"1"</span>&gt;</span>
                                                
                                                <div class="indent indent6"><span data-indentation="6" class="element">&lt;syl <span class="attribute">con=</span><span class="attributevalue">"d"</span> <span class="attribute">wordpos=</span><span class="attributevalue">"i"</span>&gt;</span>Kö<span data-indentation="6" class="element">&lt;/syl&gt;</span></div>
                                                <span data-indentation="5" class="element">&lt;/verse&gt;</span></div>
                                             <span data-indentation="4" class="element">&lt;/note&gt;</span></div>
                                          
                                          <div class="indent indent4"><span data-indentation="4" class="element">&lt;note <span class="attribute">dur=</span><span class="attributevalue">"8"</span> <span class="attribute">pname=</span><span class="attributevalue">"e"</span> <span class="attribute">oct=</span><span class="attributevalue">"3"</span> <span class="attribute">stem.dir=</span><span class="attributevalue">"down"</span> <span class="attribute">xml:id=</span><span class="attributevalue">"nibn3m21"</span>&gt;</span>
                                             
                                             <div class="indent indent5"><span data-indentation="5" class="element">&lt;verse <span class="attribute">n=</span><span class="attributevalue">"1"</span>&gt;</span>
                                                
                                                <div class="indent indent6"><span data-indentation="6" class="element">&lt;syl <span class="attribute">wordpos=</span><span class="attributevalue">"t"</span>&gt;</span>nig<span data-indentation="6" class="element">&lt;/syl&gt;</span></div>
                                                <span data-indentation="5" class="element">&lt;/verse&gt;</span></div>
                                             <span data-indentation="4" class="element">&lt;/note&gt;</span></div>
                                          
                                          <div class="indent indent4"><span data-indentation="4" class="element">&lt;note <span class="attribute">dur=</span><span class="attributevalue">"4"</span> <span class="attribute">pname=</span><span class="attributevalue">"e"</span> <span class="attribute">oct=</span><span class="attributevalue">"3"</span> <span class="attribute">stem.dir=</span><span class="attributevalue">"down"</span>&gt;</span>
                                             
                                             <div class="indent indent5"><span data-indentation="5" class="element">&lt;verse <span class="attribute">n=</span><span class="attributevalue">"1"</span>&gt;</span>
                                                
                                                <div class="indent indent6"><span data-indentation="6" class="element">&lt;syl&gt;</span>in<span data-indentation="6" class="element">&lt;/syl&gt;</span></div>
                                                <span data-indentation="5" class="element">&lt;/verse&gt;</span></div>
                                             <span data-indentation="4" class="element">&lt;/note&gt;</span></div>
                                          <span data-indentation="3" class="element">&lt;/layer&gt;</span></div>
                                       <span data-indentation="2" class="element">&lt;/staff&gt;</span></div>
                                    
                                    <div class="indent indent2"><span data-indentation="2" class="element">&lt;tie <span class="attribute">endid=</span><span class="attributevalue">"#nibn3m21"</span> <span class="attribute">staff=</span><span class="attributevalue">"1"</span> <span class="attribute">startid=</span><span class="attributevalue">"#n8zcqth"</span> <span class="attribute">lform=</span><span class="attributevalue">"dashed"</span>/&gt;</span></div>
                                    <span data-indentation="1" class="element">&lt;/measure&gt;</span></div>
                                 
                                 <div class="indent indent1"><span data-indentation="1" class="element">&lt;measure <span class="attribute">n=</span><span class="attributevalue">"3"</span>&gt;</span>
                                    
                                    <div class="indent indent2"><span data-indentation="2" class="element">&lt;staff <span class="attribute">n=</span><span class="attributevalue">"1"</span>&gt;</span>
                                       
                                       <div class="indent indent3"><span data-indentation="3" class="element">&lt;layer <span class="attribute">n=</span><span class="attributevalue">"1"</span>&gt;</span>
                                          
                                          <div class="indent indent4"><span data-indentation="4" class="element">&lt;note <span class="attribute">dots=</span><span class="attributevalue">"1"</span> <span class="attribute">dur=</span><span class="attributevalue">"2"</span> <span class="attribute">pname=</span><span class="attributevalue">"f"</span> <span class="attribute">oct=</span><span class="attributevalue">"3"</span> <span class="attribute">stem.dir=</span><span class="attributevalue">"down"</span>&gt;</span>
                                             
                                             <div class="indent indent5"><span data-indentation="5" class="element">&lt;verse <span class="attribute">n=</span><span class="attributevalue">"1"</span>&gt;</span>
                                                
                                                <div class="indent indent6"><span data-indentation="6" class="element">&lt;syl <span class="attribute">con=</span><span class="attributevalue">"d"</span> <span class="attribute">wordpos=</span><span class="attributevalue">"i"</span>&gt;</span>Thu<span data-indentation="6" class="element">&lt;/syl&gt;</span></div>
                                                <span data-indentation="5" class="element">&lt;/verse&gt;</span></div>
                                             <span data-indentation="4" class="element">&lt;/note&gt;</span></div>
                                          
                                          <div class="indent indent4"><span data-indentation="4" class="element">&lt;note <span class="attribute">dur=</span><span class="attributevalue">"2"</span> <span class="attribute">pname=</span><span class="attributevalue">"c"</span> <span class="attribute">oct=</span><span class="attributevalue">"3"</span> <span class="attribute">stem.dir=</span><span class="attributevalue">"up"</span>&gt;</span>
                                             
                                             <div class="indent indent5"><span data-indentation="5" class="element">&lt;verse <span class="attribute">n=</span><span class="attributevalue">"1"</span>&gt;</span>
                                                
                                                <div class="indent indent6"><span data-indentation="6" class="element">&lt;syl <span class="attribute">wordpos=</span><span class="attributevalue">"t"</span>&gt;</span>le,<span data-indentation="6" class="element">&lt;/syl&gt;</span></div>
                                                <span data-indentation="5" class="element">&lt;/verse&gt;</span></div>
                                             <span data-indentation="4" class="element">&lt;/note&gt;</span></div>
                                          <span data-indentation="3" class="element">&lt;/layer&gt;</span></div>
                                       <span data-indentation="2" class="element">&lt;/staff&gt;</span></div>
                                    <span data-indentation="1" class="element">&lt;/measure&gt;</span></div>
                                 
                                 <div class="indent indent1"><span data-indentation="1" class="comment">&lt;!-- later --&gt;</span></div>
                                 
                                 <div class="indent indent1"><span data-indentation="1" class="element">&lt;div&gt;</span>
                                    
                                    <div class="indent indent2"><span data-indentation="2" class="element">&lt;lg <span class="attribute">staff=</span><span class="attributevalue">"1"</span>&gt;</span>
                                       
                                       <div class="indent indent3"><span data-indentation="3" class="element">&lt;l <span class="attribute">rhythm=</span><span class="attributevalue">"4 2 4 2 4 2. 2"</span>&gt;</span> 
                                          <div class="indent indent4"><span data-indentation="4" class="element">&lt;syl&gt;</span>Es<span data-indentation="4" class="element">&lt;/syl&gt;</span></div> 
                                          <div class="indent indent4"><span data-indentation="4" class="element">&lt;syl&gt;</span>ging<span data-indentation="4" class="element">&lt;/syl&gt;</span></div> 
                                          <div class="indent indent4"><span data-indentation="4" class="element">&lt;syl&gt;</span>ihm<span data-indentation="4" class="element">&lt;/syl&gt;</span></div> 
                                          <div class="indent indent4"><span data-indentation="4" class="element">&lt;syl&gt;</span>nichts<span data-indentation="4" class="element">&lt;/syl&gt;</span></div> 
                                          <div class="indent indent4"><span data-indentation="4" class="element">&lt;syl <span class="attribute">con=</span><span class="attributevalue">"d"</span> <span class="attribute">wordpos=</span><span class="attributevalue">"i"</span>&gt;</span>dar<span data-indentation="4" class="element">&lt;/syl&gt;</span></div> 
                                          <div class="indent indent4"><span data-indentation="4" class="element">&lt;syl <span class="attribute">con=</span><span class="attributevalue">"d"</span> <span class="attribute">wordpos=</span><span class="attributevalue">"m"</span>&gt;</span>ü<span data-indentation="4" class="element">&lt;/syl&gt;</span></div> 
                                          <div class="indent indent4"><span data-indentation="4" class="element">&lt;syl <span class="attribute">wordpos=</span><span class="attributevalue">"t"</span>&gt;</span>ber,<span data-indentation="4" class="element">&lt;/syl&gt;</span></div>
                                          <span data-indentation="3" class="element">&lt;/l&gt;</span></div>
                                       <span data-indentation="2" class="element">&lt;/lg&gt;</span></div>
                                    <span data-indentation="1" class="element">&lt;/div&gt;</span></div>
                                 
                                 
                                 
                                 
                                 </code>
                              
                              </div>
                           <figcaption class="figure-caption">Listing 305. </figcaption>
                        </figure>
                        </p>
                     </div>
                  
                  <div class="div2">
                     
                     <h2 id="drama"><span class="headingNumber">8.1</span><span class="head">Drama</span></h2>
                     
                     <p>This section is supposed to explain stage directions and speeches in MEI drama.</p>
                     </div>
                  </section>
            </div>
            <div class="column col-4 hide-md">
               <div id="guidelinesVersion"><span class="versionLabel">MEI Version: </span><span id="versionID">6.0-dev+anyStart</span><span class="gitLink">(<a href="https://github.com/music-encoding/music-encoding/commit/6bd8bf1bc236fd21a43a996c31994977ff3c4d59" target="_blank" rel="noopener noreferrer">#6bd8bf1</a>)</span></div>
               <form>
                  <div class="search_group"><input name="q" id="search_input" class="search_input" title="At least 3 characters" type="text"><button type="submit" id="submitSearchButtonSide" class="search_button"><span class="search_icon">⚲</span></button></div>
               </form>
               <ul class="nav">
                  <li class="nav-item"><a href="../content/index.html">Guidelines</a></li>
                  <li class="nav-item"><a href="../modules.html">Modules</a></li>
                  <li class="nav-item"><a href="../elements.html">Elements</a></li>
                  <li class="nav-item"><a href="../model-classes.html">Model Classes</a></li>
                  <li class="nav-item"><a href="../macro-groups.html">Macro Groups</a></li>
                  <li class="nav-item"><a href="../attribute-classes.html">Attribute Classes</a></li>
                  <li class="nav-item"><a href="../data-types.html">Data Types</a></li>
               </ul>
               <div class="divider"></div>
               <p class="sectionToc sticky"><a class="level-2" href="#lyricsDesc">8.1 Vocal Text</a><a class="level-2" href="#lyricsSyl">8.1 Lyric Syllables</a><a class="level-2" href="#lyricsInEvents">8.1 Vocally Performed Text Encoded Within Notes</a><a class="level-2" href="#lyricsAfterEvents">8.1 Vocally Performed Text Encoded Separately</a><a class="level-2" href="#drama">8.1 Drama</a></p>
            </div>
         </div>
         <div class="modal" id="toc-modal"><a href="#close" id="toc-modal-outer-close" class="modal-overlay" aria-label="Close"></a><div class="modal-container">
               <div class="modal-header"><a href="#close" id="toc-modal-inner-close" class="btn btn-clear float-right" aria-label="Close"></a><div class="modal-title h5">Table of Contents</div>
               </div>
               <div class="modal-body">
                  <div class="content">
                     <ul class="nav">
                        <li class="nav-item"><a href="../content/index.html">Guidelines</a></li>
                        <li class="nav-item"><a href="../modules.html">Modules</a></li>
                        <li class="nav-item"><a href="../elements.html">Elements</a></li>
                        <li class="nav-item"><a href="../model-classes.html">Model Classes</a></li>
                        <li class="nav-item"><a href="../macro-groups.html">Macro Groups</a></li>
                        <li class="nav-item"><a href="../attribute-classes.html">Attribute Classes</a></li>
                        <li class="nav-item"><a href="../data-types.html">Data Types</a></li>
                     </ul>
                     <div class="divider"></div>
                     <p class="sectionToc sticky"><a class="level-2" href="#lyricsDesc">8.1 Vocal Text</a><a class="level-2" href="#lyricsSyl">8.1 Lyric Syllables</a><a class="level-2" href="#lyricsInEvents">8.1 Vocally Performed Text Encoded Within Notes</a><a class="level-2" href="#lyricsAfterEvents">8.1 Vocally Performed Text Encoded Separately</a><a class="level-2" href="#drama">8.1 Drama</a></p>
                  </div>
               </div>
            </div>
         </div><script>
                                window.addEventListener("load", function(event) {
                                    document.getElementById('topNavigationShow').addEventListener('click',function(e) {
                                        var elem = document.getElementById('toc-modal');
                                        elem.classList.toggle('active');
                                    })
                                    document.getElementById('toc-modal-outer-close').addEventListener('click',function(e) {
                                        var elem = document.getElementById('toc-modal');
                                        elem.classList.toggle('active');
                                    })
                                    document.getElementById('toc-modal-inner-close').addEventListener('click',function(e) {
                                        var elem = document.getElementById('toc-modal');
                                        elem.classList.toggle('active');
                                    })
                                    
                                    function getMenu() {
                                        const fullVersion = '6.0-dev+anyStart'
                                        const version = (fullVersion.includes('-dev')) ? 'dev' : 'v' + fullVersion.split('.')[0];
                                        console.log('trying to get menu for version ' + version + ' (' + fullVersion + ')');
                                        
                                        const url = 'https://music-encoding.org/menus/' + version + '/menu.html';
                                        
                                        fetch(url)
                                            .then(function(response) { return response.text()})
                                            .then(function(doc) {
                                                let headerBar = document.querySelector('.headerBar');
                                                const parser = new DOMParser();
                                                const htmlDoc = parser.parseFromString(doc, 'text/html');
                                                const menu = htmlDoc.querySelector('.headerBar');
                                                headerBar.parentNode.replaceChild(menu, headerBar);
                                            });
                                    };
                                    getMenu();
                                        
                                });
                            </script></div>
      <div class="modal" id="searchResultsModal"><a id="searchModalCloseBg" href="#" class="modal-overlay" aria-label="Close"></a><div class="modal-container">
            <div class="modal-header"><button id="searchModalCloseLink" class="btn btn-clear float-right" aria-label="Close"></button><div class="modal-title h5">Search Results for "<span id="searchPattern"></span>"</div>
            </div>
            <div class="modal-body">
               <div class="content" id="searchResultsBox"></div>
            </div>
            <div class="modal-footer"><button class="btn" id="searchModalCloseBtn">Close</button></div>
         </div>
      </div><script>
                            const tabbedFacets = document.querySelectorAll('.facet ul.tab');
                            
                            const tabClick = function(e) {
                                const targetDataDisplay = e.target.getAttribute('data-display');
                                const facetId = e.target.parentNode.parentNode.parentNode.parentNode.id;
                                //console.log('clicked at ' + facetId + ' with data display ' + targetDataDisplay);
                                setTabs(facetId,targetDataDisplay);
                            }
                            
                            console.log('[INFO] Javascript initialized')
                            
                            for(let facetUl of tabbedFacets) {
                                const facetElem = facetUl.parentNode?.parentNode;
                                const facetId = facetElem.id;
                                const storageName = getStorageName(facetId);
                                const defaultDataDisplay = facetUl.children[0]?.children[0]?.getAttribute('data-display');
                                
                                if(localStorage.getItem(storageName) === null) {
                                    setTabs(facetId,defaultDataDisplay?.trim());
                                } else {
                                    setTabs(facetId,`${facetId}_${localStorage.getItem(storageName)?.trim()}`);
                                }
                                
                                const tabs = facetUl.querySelectorAll('.tab-item a');
                                
                                for(let tab of tabs) {
                                    tab.addEventListener('click',tabClick);
                                }
                            }

                            function getDisplayStyle(style) {
                                // split dataDisplay string at underscore, e.g. 'attributes_full' to ['attributes','full'] and return the second part of the array
                                const [_, displayStyle = 'compact'] = style.split('_');
                                return displayStyle;
                            }

                            function getStorageName(facetId) {
                                return 'meiSpecs_' + facetId + '_display';
                            }

                            function setTabs(facetId, style) {
                                const storageName = getStorageName(facetId);
                                const displayStyle = getDisplayStyle(style);
                                localStorage.setItem(storageName,displayStyle);
                                
                                const facetElem = document.getElementById(facetId);
                                
                                const oldTab = facetElem.querySelector('.displayTab.active');
                                if (oldTab) {
                                    oldTab.classList.remove('active');
                                }
                                
                                const newTab = document.getElementById(style + '_tab');
                                if (newTab) {
                                    newTab.classList.add('active');
                                }
                                
                                const oldBox = facetElem.querySelector('.active.facetTabbedContent');
                                if (oldBox) {
                                    oldBox.classList.remove('active');
                                    oldBox.style.display = 'none';
                                }
                                
                                const newBox = document.getElementById(style);
                                if(newBox) {
                                    newBox.classList.add('active');
                                    newBox.style.display = 'block';
                                }
                            }
                            
                            const reducedLevels = false;
                            
            /* SEARCH */
            const searchOptions = {
                // isCaseSensitive: false,
                includeScore: true,
                shouldSort: true,
                includeMatches: true,
                // findAllMatches: false,
                minMatchCharLength: 3,
                // location: 0,
                threshold: 0.1,
                // distance: 100,
                // useExtendedSearch: false,
                ignoreLocation: true,
                ignoreFieldNorm: false,
                keys: [
                    { name:"ident",
                      weight: 10 },
                    { name:"desc",
                      weight: 2 },
                    { name:"remarks",
                      weight: 1 }
                ]
            };
            
            //initialize search
            let fuse = new Fuse(searchIndex, searchOptions);
            let searchReady = true;
            
            const searchButton1 = document.querySelector('#submitSearchButtonSide');
            const searchButton2 = document.querySelector('#submitSearchButtonTop');
            const searchInput1 = document.querySelector('#search_input');
            const searchInput2 = document.querySelector('#search_inputTop');
            const searchModal = document.querySelector('#searchResultsModal');
            const searchModalCloseBtn = document.querySelector('#searchModalCloseBtn');
            const searchModalCloseBg = document.querySelector('#searchModalCloseBg');
            const searchModalCloseLink = document.querySelector('#searchModalCloseLink');
            const searchResultsBox = document.querySelector('#searchResultsBox');
            
            function search(pattern) {
                
                let results = fuse.search(pattern)
                console.log(results)
                
                searchResultsBox.innerHTML = '';
                
                document.querySelector('#searchPattern').innerText = pattern;
                
                const pathAdjust = (reducedLevels) ? './' : '../';
                
                results.forEach(hit => {
                    let div = document.createElement('div')
                    div.classList.add('searchHit')
                    div.setAttribute('data-score', hit.score)
                    let a = document.createElement('a')
                    a.setAttribute('href', pathAdjust + hit.item.url)
                    a.classList.add(hit.item.type)
                    a.innerHTML = hit.item.ident
                    if (hit.item.type === "element") {
                        a.innerHTML = "&lt;" + a.innerHTML + "&gt;"
                    }
                    div.append(a)

                    if(hit.item.type === 'chapter') {
                        
                        let remarksHits = hit.matches.filter(m => m.key === 'remarks')
                        if(remarksHits.length > 0) {
                        
                            let firstI = remarksHits[0].indices[0][0];
                            let dist = remarksHits[0].indices[0][1] - remarksHits[0].indices[0][0] + 1;
                            let startRaw = firstI - 40;
                            
                            let hitLength = 140;
                            
                            let offset = (0 > startRaw)? 40 - firstI : 0;
                            let startCleaned = startRaw + offset;
                            
                            let prefix = (startCleaned > 0) ? '…': '';
                            let postfix = (remarksHits[0].value.length > hitLength + dist) ? '…': '';
                            
                            let snippet = remarksHits[0].value.substr(startCleaned, hitLength + dist);
                            
                            let pre = prefix + snippet.substr(0, 40 - offset);
                            let match = snippet.substr(40 - offset, dist);
                            let post = snippet.substr(40 - offset + dist) + postfix;
                            
                            let preview = document.createElement('div')
                            preview.classList.add('searchPreview')
                            preview.setAttribute('data-snippet', snippet)
                            
                            let preSpan = document.createElement('span')
                            preSpan.innerHTML = pre
                            preview.append(preSpan)
                            let matchSpan = document.createElement('span')
                            matchSpan.classList.add('match')
                            matchSpan.innerHTML = match
                            preview.append(matchSpan)
                            let postSpan = document.createElement('span')
                            postSpan.innerHTML = post
                            preview.append(postSpan)
                            
                            div.append(preview)
                        }
                    }
                    
                    
                    
                    searchResultsBox.append(div)
                })
                
                searchModal.classList.add('active');
            }
            
            function initSideSearch(e) {
                e.preventDefault();
                const val = searchInput1.value;
                if(!val.length > 2) {
                    return false;
                }
                search(val)
            }
            
            function initTopSearch(e) {
                e.preventDefault();
                const val = searchInput2.value;
                if(!val.length > 2) {
                    return false;
                }
                search(val)
            }
            
            function closeSearch(e) {
                e.preventDefault();
                searchModal.classList.remove('active');
            }
            
            searchInput1.addEventListener('keypress', e => {
                if (e.key === 'Enter') {
                  initSideSearch(e)
                }
            });
            
            searchInput2.addEventListener('keypress', e => {
                if (e.key === 'Enter') {
                  initTopSearch(e)
                }
            });
            
            searchButton1.addEventListener('click', initSideSearch)
            searchButton2.addEventListener('click', initTopSearch)
            searchModalCloseBtn.addEventListener('click',closeSearch)
            searchModalCloseBg.addEventListener('click',closeSearch)
            searchModalCloseLink.addEventListener('click',closeSearch)
            
        </script></body>
</html>