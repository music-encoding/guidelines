<!DOCTYPE html>
<html lang="en">

  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width initial-scale=1" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge">

    <title>Integrating MEI with other Standards and Formats</title>
    <meta name="description" content=":scroll: The Music Encoding Initiative Guidelines">
    <link rel="stylesheet" href="https://music-encoding.github.io/css/main.css">
    <!-- syntax highlighting CSS -->
    <link rel="stylesheet" href="https://music-encoding.github.io/css/syntax.css" />

    <!-- search -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
    <script src="/js/tipuesearch/search_content_dev.js"></script>
    <link rel="stylesheet" href="/js/tipuesearch/tipuesearch.css">
    <script src="/js/tipuesearch/tipuesearch_set.js"></script>
    <script src="/js/tipuesearch/tipuesearch.min.js"></script>

    <!-- verovio -->
    <script src="https://www.verovio.org/javascript/develop/verovio-toolkit.js"></script>

    <!-- script for handling verovio examples -->
    <script src="/js/verovio-examples.js"></script>

    <!-- xml highlighting -->
    <link rel="stylesheet" href="/js/highlight/styles/default.css">
    <script src="/js/highlight/highlight.js"></script>
</head>


  <body>

    <header class="navbar">
  <div class="navbar-section">
    <a class="navbar-brand" href="https://music-encoding.github.io/">
      <img src="https://music-encoding.github.io/pix/meilogo-inverted.png" alt="MEI logo"/>
    </a>
    
    <div class="dropdown dropdownCustomMenuToggle">
        
            <a class="btn btn-link dropdown-toggle top-menu-link" tabindex="0">
                Guidelines versions <i class="icon icon-caret"></i>
            </a>

            
             <ul class="menu"> 
                <li class="menu-item">
                    <a href="/dev" class="btn btn-link text-left menu-link">
                        development version
                    </a>
                </li>
                
            
            
                <li class="menu-item">
                    <a href="/v4" class="btn btn-link text-left menu-link">
                        4.0.1
                    </a>
                </li>
                
            
            
                <li class="menu-item">
                    <a href="/v3" class="btn btn-link text-left menu-link">
                        3.0.0
                    </a>
                </li>
                 </ul> 
            

        
    </div>


  </div>
  
  <div class="navbar-section">
    <div class="fixed toast toast-warning text-center guidelines-warning">
        Guidelines for the development version of MEI
    </div>
  </div>
  
  <div class="navbar-section">
    <a class="twitterLink hide-sm" target="_blank" href="https://twitter.com/MusicEncoding">
      <img src="https://music-encoding.github.io/pix/twitter.png" alt="Twitter" class="logo"/>
    </a>
    <a class="githubLink hide-xs" target="_blank" href="https://github.com/music-encoding">
      <img src="https://music-encoding.github.io/pix/github.png" alt="GitHub" class="logo"/>
    </a>
    <a class="slackLink hide-sm" target="_blank" href="https://music-encoding.slack.com/">
      <img src="https://music-encoding.github.io/pix/slack.png" alt="Slack" class="logo"/>
    </a>
  </div>
</header>


    <div class="container-fluid content">
        <div class="columns specsLayout">

    <div class="top-navigation column col-md-12 show-md">
      <div class="top-navigation-header columns">
        <div class="buttonbox">
          <button class="btn btn-action btn-sm btn-primary" id="topNavigationShow"><i class="icon icon-menu"></i></button>
        </div>

        <div class="searchbox">
          <form action="/dev/content/integration.html">
            <div class="tipue_search_group">
              <input name="q" id="tipue_search_input" pattern=".{3,}" title="At least 3 characters" required="" type="text"><button type="submit" class="tipue_search_button"><span class="tipue_search_icon">⚲</span></button>
            </div>
          </form>
        </div>

      </div>
    </div>

    <div class="column col-8 col-md-12">

        <div id="tipue_search_content"></div>

        
<h2 id="integration">14. Integrating MEI with other Standards and Formats
      
      <a href="https://github.com/music-encoding/guidelines/blob/master/_guidelines-dev/14-integration.md" target="_blank" class="btn btn-link guidelines-edit">Edit this section</a>
      
  </h2>

<h3 id="tei">14.1. TEI
      
      <a href="https://github.com/music-encoding/guidelines/blob/master/_guidelines-dev/14-integration/01-tei.md" target="_blank" class="btn btn-link guidelines-edit">Edit this section</a>
      
  </h3>

<p>This chapter will explain the combined use of MEI and TEI.</p>

<h3 id="iiif">14.2. IIIF
      
      <a href="https://github.com/music-encoding/guidelines/blob/master/_guidelines-dev/14-integration/02-iiif.md" target="_blank" class="btn btn-link guidelines-edit">Edit this section</a>
      
  </h3>

<p>This chapter will explain how to use MEI in an IIIF-compatible way.</p>

<h3 id="smufl">14.3. SMuFL
      
      <a href="https://github.com/music-encoding/guidelines/blob/master/_guidelines-dev/14-integration/03-smufl.md" target="_blank" class="btn btn-link guidelines-edit">Edit this section</a>
      
  </h3>

<p>This section describes how to use MEI with the Standard Music Font Layout (SMuFL <a href="https://www.smufl.org/">https://www.smufl.org/</a>) specification.</p>

<h3 id="svg">14.4. SVG
      
      <a href="https://github.com/music-encoding/guidelines/blob/master/_guidelines-dev/14-integration/04-svg.md" target="_blank" class="btn btn-link guidelines-edit">Edit this section</a>
      
  </h3>

<p>This chapter explains how and where to embed SVG in MEI.</p>

<h3 id="midiGuidelines">14.5. Musical Instrument Digital Interface (MIDI)
      
      <a href="https://github.com/music-encoding/guidelines/blob/master/_guidelines-dev/14-integration/05-midiguidelines.md" target="_blank" class="btn btn-link guidelines-edit">Edit this section</a>
      
  </h3>

<p>This chapter describes the MIDI encoding functionality present in MEI. The purpose of this module is to allow for integrating MIDI data into MEI-encoded notation, to both aid software in translating MEI to MIDI, and to permit the capture of information in files that have been translated from MIDI to MEI. The MIDI model in MEI is similar to that of Mup, and the user is directed to the <a href="http://www.arkkra.com/doc/uguide.ps" class="link_ref">Mup User Guide</a> for further reading.</p>

<p>The MIDI module defines certain generally-accepted MIDI units that may be used outside of a MIDI context. For example, the <strong>@dur.ppq</strong> attribute accepts MIDI <strong>ppq</strong> (Pulses Per Quarter) as a valid measurement of duration. Similarly, the <strong>@pnum</strong> attribute allows MIDI note numbers for specifying a pitch value.</p>

<h4 id="midi.scoreDefppq">14.5.1. PPQ in scoreDef and staffDef
      
      <a href="https://github.com/music-encoding/guidelines/blob/master/_guidelines-dev/14-integration/05-midiguidelines/01-midi.scoredefppq.md" target="_blank" class="btn btn-link guidelines-edit">Edit this section</a>
      
  </h4>

<p>To define the MIDI resolution of a score, the <strong>@ppq</strong> attribute may be used on the 
  <a href="/dev/elements/scoredef.html" class="link_odd_elementSpec">scoreDef</a> element. This value can be used to interpret the values found in the <strong>@dur.ppq</strong> attribute on elements in the 
  <a href="/dev/attribute-classes/att.duration.gestural.html">att.duration.gestural</a> class.</p>

<div class="sampleCode" data-lang="feasible">


<figure class="highlight"><pre><code class="language-xml" data-lang="xml"><span class="nt">&lt;scoreDef</span> <span class="na">key.sig=</span><span class="s">"1f"</span> <span class="na">meter.count=</span><span class="s">"4"</span> <span class="na">meter.sym=</span><span class="s">"common"</span> <span class="na">meter.unit=</span><span class="s">"4"</span> <span class="na">ppq=</span><span class="s">"48"</span><span class="nt">&gt;</span>
   <span class="nt">&lt;staffGrp&gt;</span>
      <span class="nt">&lt;staffDef</span> <span class="na">clef.line=</span><span class="s">"2"</span> <span class="na">clef.shape=</span><span class="s">"G"</span> <span class="na">key.sig=</span><span class="s">"1f"</span> <span class="na">lines=</span><span class="s">"5"</span> <span class="na">n=</span><span class="s">"1"</span> <span class="na">xml:id=</span><span class="s">"midi.P1"</span><span class="nt">&gt;&lt;/staffDef&gt;</span>
      <span class="nt">&lt;staffDef</span> <span class="na">clef.line=</span><span class="s">"4"</span> <span class="na">clef.shape=</span><span class="s">"F"</span> <span class="na">key.sig=</span><span class="s">"1f"</span> <span class="na">lines=</span><span class="s">"5"</span> <span class="na">n=</span><span class="s">"2"</span> <span class="na">xml:id=</span><span class="s">"midi.P2"</span><span class="nt">&gt;&lt;/staffDef&gt;</span>
      <span class="nt">&lt;staffDef</span> <span class="na">clef.line=</span><span class="s">"4"</span> <span class="na">clef.shape=</span><span class="s">"F"</span> <span class="na">key.sig=</span><span class="s">"1f"</span> <span class="na">lines=</span><span class="s">"5"</span> <span class="na">n=</span><span class="s">"3"</span> <span class="na">xml:id=</span><span class="s">"midi.P3"</span><span class="nt">&gt;&lt;/staffDef&gt;</span>
   <span class="nt">&lt;/staffGrp&gt;</span>
<span class="nt">&lt;/scoreDef&gt;</span>
<span class="c">&lt;!-- snip --&gt;</span>
<span class="nt">&lt;note</span> <span class="na">dur=</span><span class="s">"8"</span> <span class="na">dur.ges=</span><span class="s">"24p"</span> <span class="na">oct=</span><span class="s">"5"</span> <span class="na">pname=</span><span class="s">"a"</span> <span class="na">stem.dir=</span><span class="s">"up"</span> <span class="na">xml:id=</span><span class="s">"midi.d1e40"</span><span class="nt">&gt;&lt;/note&gt;</span>
<span class="c">&lt;!-- 8th note --&gt;</span>
<span class="nt">&lt;rest</span> <span class="na">dur=</span><span class="s">"32"</span> <span class="na">dur.ges=</span><span class="s">"6p"</span> <span class="na">vo=</span><span class="s">"4"</span> <span class="na">xml:id=</span><span class="s">"midi.d1e58"</span><span class="nt">&gt;&lt;/rest&gt;</span>
<span class="c">&lt;!-- 32nd note --&gt;</span>
<span class="c">&lt;!-- snip --&gt;</span></code></pre></figure>

</div>

<p>The <strong>@ppq</strong> attribute is also available on the 
  <a href="/dev/elements/staffdef.html" class="link_odd_elementSpec">staffDef</a> element in order to aid in the conversion to MEI from other representations that allow a different time base for each staff. However, these independent values for <strong>@ppq</strong> are only interpretable in terms of a common time base. Therefore, the <strong>@ppq</strong> attribute is required on 
  <a href="/dev/elements/scoredef.html" class="link_odd_elementSpec">scoreDef</a> when the values of <strong>@ppq</strong> on the staff definitions differ. In the following example, the values of the <strong>@ppq</strong> attributes on the 
  <a href="/dev/elements/staffdef.html" class="link_odd_elementSpec">staffDef</a> elements are all factors of the value of <strong>@ppq</strong> attached to 
  <a href="/dev/elements/scoredef.html" class="link_odd_elementSpec">scoreDef</a>.</p>

<div class="sampleCode" data-lang="">


<figure class="highlight"><pre><code class="language-xml" data-lang="xml"><span class="nt">&lt;scoreDef</span> <span class="na">key.sig=</span><span class="s">"1f"</span> <span class="na">meter.count=</span><span class="s">"4"</span> <span class="na">meter.sym=</span><span class="s">"common"</span> <span class="na">meter.unit=</span><span class="s">"4"</span> <span class="na">ppq=</span><span class="s">"48"</span><span class="nt">&gt;</span>
   <span class="nt">&lt;staffGrp&gt;</span>
      <span class="nt">&lt;staffDef</span> <span class="na">clef.line=</span><span class="s">"2"</span> <span class="na">clef.shape=</span><span class="s">"G"</span> <span class="na">key.sig=</span><span class="s">"1f"</span> <span class="na">lines=</span><span class="s">"5"</span> <span class="na">n=</span><span class="s">"1"</span> <span class="na">ppq=</span><span class="s">"2"</span> <span class="na">xml:id=</span><span class="s">"midi.P1"</span><span class="nt">&gt;&lt;/staffDef&gt;</span>
      <span class="nt">&lt;staffDef</span> <span class="na">clef.line=</span><span class="s">"4"</span> <span class="na">clef.shape=</span><span class="s">"F"</span> <span class="na">key.sig=</span><span class="s">"1f"</span> <span class="na">lines=</span><span class="s">"5"</span> <span class="na">n=</span><span class="s">"2"</span> <span class="na">ppq=</span><span class="s">"16"</span> <span class="na">xml:id=</span><span class="s">"midi.P2"</span><span class="nt">&gt;&lt;/staffDef&gt;</span>
      <span class="nt">&lt;staffDef</span> <span class="na">clef.line=</span><span class="s">"4"</span> <span class="na">clef.shape=</span><span class="s">"F"</span> <span class="na">key.sig=</span><span class="s">"1f"</span> <span class="na">lines=</span><span class="s">"5"</span> <span class="na">n=</span><span class="s">"3"</span> <span class="na">ppq=</span><span class="s">"24"</span> <span class="na">xml:id=</span><span class="s">"midi.P3"</span><span class="nt">&gt;&lt;/staffDef&gt;</span>
   <span class="nt">&lt;/staffGrp&gt;</span>
<span class="nt">&lt;/scoreDef&gt;</span></code></pre></figure>

</div>

<h4 id="midiInstruments">14.5.2. Recording General MIDI Instrumentation
      
      <a href="https://github.com/music-encoding/guidelines/blob/master/_guidelines-dev/14-integration/05-midiguidelines/02-midiinstruments.md" target="_blank" class="btn btn-link guidelines-edit">Edit this section</a>
      
  </h4>

<p>The 
  <a href="/dev/elements/instrdef.html" class="link_odd_elementSpec">instrDef</a> element can be used to record MIDI instrument names or numbers using the <strong>@midi.instrname</strong> and <strong>@midi.instrnum</strong> attributes. The <strong>@midi.instrname</strong> attribute must contain an instrument name from the list provided by the data.MIDINAMES data type. By default, data.MIDINAMES contains General MIDI Instrument designations.</p>

<div class="sampleCode" data-lang="">


<figure class="highlight"><pre><code class="language-xml" data-lang="xml"><span class="nt">&lt;scoreDef</span> <span class="na">key.sig=</span><span class="s">"1f"</span> <span class="na">meter.count=</span><span class="s">"4"</span> <span class="na">meter.sym=</span><span class="s">"common"</span> <span class="na">meter.unit=</span><span class="s">"4"</span> <span class="na">ppq=</span><span class="s">"48"</span><span class="nt">&gt;</span>
   <span class="nt">&lt;staffGrp&gt;</span>
      <span class="nt">&lt;staffDef</span> <span class="na">clef.line=</span><span class="s">"2"</span> <span class="na">clef.shape=</span><span class="s">"G"</span> <span class="na">lines=</span><span class="s">"5"</span> <span class="na">n=</span><span class="s">"1"</span> <span class="na">xml:id=</span><span class="s">"midi.P5"</span><span class="nt">&gt;</span>
         <span class="nt">&lt;instrDef</span> <span class="na">midi.instrname=</span><span class="s">"Violin"</span><span class="nt">&gt;&lt;/instrDef&gt;</span>
      <span class="nt">&lt;/staffDef&gt;</span>
      <span class="nt">&lt;staffDef</span> <span class="na">clef.line=</span><span class="s">"2"</span> <span class="na">clef.shape=</span><span class="s">"G"</span> <span class="na">lines=</span><span class="s">"5"</span> <span class="na">n=</span><span class="s">"2"</span> <span class="na">xml:id=</span><span class="s">"midi.P6"</span><span class="nt">&gt;</span>
         <span class="nt">&lt;instrDef</span> <span class="na">midi.instrname=</span><span class="s">"Violin"</span><span class="nt">&gt;&lt;/instrDef&gt;</span>
      <span class="nt">&lt;/staffDef&gt;</span>
      <span class="nt">&lt;staffDef</span> <span class="na">clef.line=</span><span class="s">"3"</span> <span class="na">clef.shape=</span><span class="s">"C"</span> <span class="na">lines=</span><span class="s">"5"</span> <span class="na">n=</span><span class="s">"3"</span> <span class="na">xml:id=</span><span class="s">"midi.P7"</span><span class="nt">&gt;</span>
         <span class="nt">&lt;instrDef</span> <span class="na">midi.instrname=</span><span class="s">"Viola"</span><span class="nt">&gt;&lt;/instrDef&gt;</span>
      <span class="nt">&lt;/staffDef&gt;</span>
      <span class="nt">&lt;staffDef</span> <span class="na">clef.line=</span><span class="s">"4"</span> <span class="na">clef.shape=</span><span class="s">"F"</span> <span class="na">lines=</span><span class="s">"5"</span> <span class="na">n=</span><span class="s">"3"</span> <span class="na">xml:id=</span><span class="s">"midi.P8"</span><span class="nt">&gt;</span>
         <span class="nt">&lt;instrDef</span> <span class="na">midi.instrname=</span><span class="s">"Cello"</span><span class="nt">&gt;&lt;/instrDef&gt;</span>
      <span class="nt">&lt;/staffDef&gt;</span>
   <span class="nt">&lt;/staffGrp&gt;</span>
<span class="nt">&lt;/scoreDef&gt;</span></code></pre></figure>

</div>

<p>The <strong>@midi.instrnum</strong> is provided for those cases when an instrument number is needed. It must contain valid MIDI values; that is, 0-127. In these cases, a General MIDI Instrument name is redundant.</p>

<div class="sampleCode" data-lang="">


<figure class="highlight"><pre><code class="language-xml" data-lang="xml"><span class="nt">&lt;scoreDef</span> <span class="na">key.sig=</span><span class="s">"1f"</span> <span class="na">meter.count=</span><span class="s">"4"</span> <span class="na">meter.sym=</span><span class="s">"common"</span> <span class="na">meter.unit=</span><span class="s">"4"</span> <span class="na">ppq=</span><span class="s">"48"</span><span class="nt">&gt;</span>
   <span class="nt">&lt;staffGrp&gt;</span>
      <span class="nt">&lt;staffDef</span> <span class="na">clef.line=</span><span class="s">"2"</span> <span class="na">clef.shape=</span><span class="s">"G"</span> <span class="na">lines=</span><span class="s">"5"</span> <span class="na">n=</span><span class="s">"1"</span> <span class="na">xml:id=</span><span class="s">"midi.P5"</span><span class="nt">&gt;</span>
         <span class="nt">&lt;instrDef</span> <span class="na">midi.instrnum=</span><span class="s">"41"</span><span class="nt">&gt;&lt;/instrDef&gt;</span>
      <span class="nt">&lt;/staffDef&gt;</span>
      <span class="nt">&lt;staffDef</span> <span class="na">clef.line=</span><span class="s">"2"</span> <span class="na">clef.shape=</span><span class="s">"G"</span> <span class="na">lines=</span><span class="s">"5"</span> <span class="na">n=</span><span class="s">"2"</span> <span class="na">xml:id=</span><span class="s">"midi.P6"</span><span class="nt">&gt;</span>
         <span class="nt">&lt;instrDef</span> <span class="na">midi.instrnum=</span><span class="s">"41"</span><span class="nt">&gt;&lt;/instrDef&gt;</span>
      <span class="nt">&lt;/staffDef&gt;</span>
      <span class="nt">&lt;staffDef</span> <span class="na">clef.line=</span><span class="s">"3"</span> <span class="na">clef.shape=</span><span class="s">"C"</span> <span class="na">lines=</span><span class="s">"5"</span> <span class="na">n=</span><span class="s">"3"</span> <span class="na">xml:id=</span><span class="s">"midi.P7"</span><span class="nt">&gt;</span>
         <span class="nt">&lt;instrDef</span> <span class="na">midi.instrnum=</span><span class="s">"42"</span><span class="nt">&gt;&lt;/instrDef&gt;</span>
      <span class="nt">&lt;/staffDef&gt;</span>
      <span class="nt">&lt;staffDef</span> <span class="na">clef.line=</span><span class="s">"4"</span> <span class="na">clef.shape=</span><span class="s">"F"</span> <span class="na">lines=</span><span class="s">"5"</span> <span class="na">n=</span><span class="s">"3"</span> <span class="na">xml:id=</span><span class="s">"midi.P8"</span><span class="nt">&gt;</span>
         <span class="nt">&lt;instrDef</span> <span class="na">midi.instrnum=</span><span class="s">"43"</span><span class="nt">&gt;&lt;/instrDef&gt;</span>
      <span class="nt">&lt;/staffDef&gt;</span>
   <span class="nt">&lt;/staffGrp&gt;</span>
<span class="nt">&lt;/scoreDef&gt;</span></code></pre></figure>

</div>

<h4 id="midiData">14.5.3. Recording MIDI Event Data
      
      <a href="https://github.com/music-encoding/guidelines/blob/master/_guidelines-dev/14-integration/05-midiguidelines/03-mididata.md" target="_blank" class="btn btn-link guidelines-edit">Edit this section</a>
      
  </h4>

<p>MIDI messages are encapsulated in the 
  <a href="/dev/elements/midi.html" class="link_odd_elementSpec">midi</a> element, which is typically used in contexts like 
  <a href="/dev/elements/layer.html" class="link_odd_elementSpec">layer</a> and 
  <a href="/dev/elements/measure.html" class="link_odd_elementSpec">measure</a>. In earlier versions of MEI, the 
  <a href="/dev/elements/noteon.html" class="link_odd_elementSpec">noteOn</a> and 
  <a href="/dev/elements/noteoff.html" class="link_odd_elementSpec">noteOff</a> elements were used to record MIDI note on/off events. The use of these elements is now discouraged in favor of using the 
  <a href="/dev/elements/note.html" class="link_odd_elementSpec">note</a> element directly. MIDI duration should be recorded using the <strong>@dur.ges</strong> attribute, and MIDI pitch information should be recorded using the <strong>@pnum</strong> attribute.</p>

<p>MIDI control changes (
  <a href="/dev/elements/cc.html" class="link_odd_elementSpec">cc</a>) are encoded using the <strong>@num</strong> and <strong>@val</strong> attributes. Control change numbers are specified in the General MIDI documentation. In the example below, the 
  <a href="/dev/elements/cc.html" class="link_odd_elementSpec">cc</a> elements encode increasing controller event 7 (volume) values, or in musical terms, a crescendo. Other MIDI event messages follow this same pattern, using the <strong>@num</strong> and <strong>@val</strong> attributes to record the raw MIDI data.</p>

<div class="sampleCode" data-lang="">


<figure class="highlight"><pre><code class="language-xml" data-lang="xml"><span class="nt">&lt;measure&gt;</span>
   <span class="nt">&lt;staff&gt;</span>
      <span class="nt">&lt;layer&gt;</span>
         <span class="nt">&lt;note</span> <span class="na">dur.ges=</span><span class="s">"8"</span> <span class="na">pnum=</span><span class="s">"45"</span><span class="nt">&gt;&lt;/note&gt;</span>
         <span class="nt">&lt;note</span> <span class="na">dur.ges=</span><span class="s">"8"</span> <span class="na">pnum=</span><span class="s">"42"</span><span class="nt">&gt;&lt;/note&gt;</span>
         <span class="nt">&lt;note</span> <span class="na">dur.ges=</span><span class="s">"8"</span> <span class="na">pnum=</span><span class="s">"43"</span><span class="nt">&gt;&lt;/note&gt;</span>
         <span class="nt">&lt;note</span> <span class="na">dur.ges=</span><span class="s">"8"</span> <span class="na">pnum=</span><span class="s">"44"</span><span class="nt">&gt;&lt;/note&gt;</span>
      <span class="nt">&lt;/layer&gt;</span>
   <span class="nt">&lt;/staff&gt;</span>
   <span class="nt">&lt;midi</span> <span class="na">layer=</span><span class="s">"1"</span> <span class="na">staff=</span><span class="s">"1"</span><span class="nt">&gt;</span>
      <span class="nt">&lt;cc</span> <span class="na">num=</span><span class="s">"7"</span> <span class="na">tstamp=</span><span class="s">".5"</span> <span class="na">val=</span><span class="s">"50"</span><span class="nt">&gt;&lt;/cc&gt;</span>
      <span class="nt">&lt;cc</span> <span class="na">num=</span><span class="s">"7"</span> <span class="na">tstamp=</span><span class="s">"1.5"</span> <span class="na">val=</span><span class="s">"55"</span><span class="nt">&gt;&lt;/cc&gt;</span>
      <span class="nt">&lt;cc</span> <span class="na">num=</span><span class="s">"7"</span> <span class="na">tstamp=</span><span class="s">"2"</span> <span class="na">val=</span><span class="s">"60"</span><span class="nt">&gt;&lt;/cc&gt;</span>
      <span class="nt">&lt;cc</span> <span class="na">num=</span><span class="s">"7"</span> <span class="na">tstamp=</span><span class="s">"2.5"</span> <span class="na">val=</span><span class="s">"65"</span><span class="nt">&gt;&lt;/cc&gt;</span>
   <span class="nt">&lt;/midi&gt;</span>
<span class="nt">&lt;/measure&gt;</span></code></pre></figure>

</div>

<p>In the preceding example, each control change is associated with a time stamp. The <strong>@tstamp</strong> attribute is required in order to indicate when the MIDI event should take place. It is often necessary to indicate a time stamp slightly earlier than the affected notes to compensate for MIDI delay.</p>

<p>For better legibility and error checking, the 
  <a href="/dev/elements/midi.html" class="link_odd_elementSpec">midi</a> element may be used, as in the following example, to group MIDI parameter changes. Even so, the <strong>@tstamp</strong> attribute is required on all parameters in order to associate them with their point of actuation:</p>

<div class="sampleCode" data-lang="">


<figure class="highlight"><pre><code class="language-xml" data-lang="xml"><span class="nt">&lt;midi</span> <span class="na">layer=</span><span class="s">"1"</span> <span class="na">staff=</span><span class="s">"1"</span><span class="nt">&gt;</span>
   <span class="nt">&lt;cc</span> <span class="na">num=</span><span class="s">"7"</span> <span class="na">tstamp=</span><span class="s">".5"</span> <span class="na">val=</span><span class="s">"50"</span><span class="nt">&gt;&lt;/cc&gt;</span>
   <span class="nt">&lt;cc</span> <span class="na">num=</span><span class="s">"64"</span> <span class="na">tstamp=</span><span class="s">".5"</span> <span class="na">val=</span><span class="s">"64"</span><span class="nt">&gt;&lt;/cc&gt;</span>
<span class="nt">&lt;/midi&gt;</span></code></pre></figure>

</div>

<h4 id="midiNonCMN">14.5.4. MIDI in Mensural and Neume Notation
      
      <a href="https://github.com/music-encoding/guidelines/blob/master/_guidelines-dev/14-integration/05-midiguidelines/04-midinoncmn.md" target="_blank" class="btn btn-link guidelines-edit">Edit this section</a>
      
  </h4>

<p>In mensural, neume, and other historical or non-Western repertoires, there is often no measure-based time stamp with which to associate MIDI controller data. Therefore, in these notations MIDI controller data is assumed to be associated with the event that immediately follows in the same layer. Thus, a crescendo in mensural notation may be encoded like so:</p>

<div class="sampleCode" data-lang="">


<figure class="highlight"><pre><code class="language-xml" data-lang="xml"><span class="nt">&lt;staff&gt;</span>
   <span class="nt">&lt;layer&gt;</span>
      <span class="nt">&lt;midi&gt;</span>
         <span class="nt">&lt;cc</span> <span class="na">num=</span><span class="s">"7"</span> <span class="na">val=</span><span class="s">"50"</span><span class="nt">&gt;&lt;/cc&gt;</span>
      <span class="nt">&lt;/midi&gt;</span>
      <span class="nt">&lt;note</span> <span class="na">dur=</span><span class="s">"fusa"</span> <span class="na">dur.ges=</span><span class="s">"8p"</span> <span class="na">pnum=</span><span class="s">"42"</span><span class="nt">&gt;&lt;/note&gt;</span>
      <span class="nt">&lt;midi&gt;</span>
         <span class="nt">&lt;cc</span> <span class="na">num=</span><span class="s">"7"</span> <span class="na">val=</span><span class="s">"55"</span><span class="nt">&gt;&lt;/cc&gt;</span>
      <span class="nt">&lt;/midi&gt;</span>
      <span class="nt">&lt;note</span> <span class="na">dur=</span><span class="s">"fusa"</span> <span class="na">dur.ges=</span><span class="s">"8p"</span> <span class="na">pnum=</span><span class="s">"43"</span><span class="nt">&gt;&lt;/note&gt;</span>
      <span class="nt">&lt;midi&gt;</span>
         <span class="nt">&lt;cc</span> <span class="na">num=</span><span class="s">"7"</span> <span class="na">val=</span><span class="s">"60"</span><span class="nt">&gt;&lt;/cc&gt;</span>
      <span class="nt">&lt;/midi&gt;</span>
      <span class="nt">&lt;note</span> <span class="na">dur=</span><span class="s">"fusa"</span> <span class="na">dur.ges=</span><span class="s">"8p"</span> <span class="na">pnum=</span><span class="s">"44"</span><span class="nt">&gt;&lt;/note&gt;</span>
      <span class="nt">&lt;midi&gt;</span>
         <span class="nt">&lt;cc</span> <span class="na">num=</span><span class="s">"7"</span> <span class="na">val=</span><span class="s">"65"</span><span class="nt">&gt;&lt;/cc&gt;</span>
      <span class="nt">&lt;/midi&gt;</span>
      <span class="nt">&lt;note</span> <span class="na">dur=</span><span class="s">"fusa"</span> <span class="na">dur.ges=</span><span class="s">"8p"</span> <span class="na">pnum=</span><span class="s">"45"</span><span class="nt">&gt;&lt;/note&gt;</span>
   <span class="nt">&lt;/layer&gt;</span>
<span class="nt">&lt;/staff&gt;</span></code></pre></figure>

</div>



    </div>

    <div class="column col-4 hide-md">

        <form action="/dev/content/integration.html">
          <div class="tipue_search_group">
            <input name="q" id="tipue_search_input" pattern=".{3,}" title="At least 3 characters" required="" type="text"><button type="submit" class="tipue_search_button"><span class="tipue_search_icon">⚲</span></button>
          </div>
        </form>

        
            

                

                     <ul class="nav"> 
                    <li class="nav-item">
                        <a href="/dev/content/">Guidelines</a>
                    </li>

                    
                

                    
                    <li class="nav-item">
                        <a href="/dev/elements.html">Elements</a>
                    </li>

                    
                

                    
                    <li class="nav-item">
                        <a href="/dev/attribute-classes.html">Attribute Classes</a>
                    </li>

                    
                

                    
                    <li class="nav-item">
                        <a href="/dev/model-classes.html">Model Classes</a>
                    </li>

                    
                

                    
                    <li class="nav-item">
                        <a href="/dev/data-types.html">Data Types</a>
                    </li>

                    
                

                    
                    <li class="nav-item">
                        <a href="/dev/macro-groups.html">Macro Groups</a>
                    </li>

                     </ul> 
                
            
        

        <div class="divider"></div>

        

<p class="sectionToc sticky">

  
  
  

  


  
  
  

  


  
  
  

  


  
  
  

  


  
  
  

  


  
  
  

  


  
  
  

  


  
  
  

  


  
  
  

  


  
  
  

  


  
  
  

  


  
  
  

  


  
  
  

  


  
  
  

  


  
  
  

  


  
  
  

  


  
  
  

  


  
  
  

  


  
  
  

  


  
  
  

  


  
  
  

  


  
  
  

  


  
  
  

  


  
  
  

  


  
  
  

  


  
  
  

  


  
  
  

  


  
  
  

  


  
  
  

  


  
  
  

  


  
  
  

  


  
  
  

  


  
  
  

  


  
  
  

  


  
  
  

  


  
  
  

  


  
  
  

  


  
  
  

  


  
  
  

  


  
  
  

  


  
  
  

  


  
  
  

  


  
  
  

  


  
  
  

  


  
  
  

  


  
  
  

  


  
  
  

  


  
  
  

  


  
  
  

  


  
  
  

  


  
  
  

  


  
  
  

  


  
  
  

  


  
  
  

  


  
  
  

  


  
  
  

  


  
  
  

  


  
  
  

  


  
  
  

  


  
  
  

  


  
  
  

  


  
  
  

  


  
  
  

  


  
  
  

  


  
  
  

  


  
  
  

  


  
  
  

  


  
  
  

  


  
  
  

  


  
  
  

  


  
  
  

  


  
  
  

  


  
  
  

  


  
  
  

  


  
  
  

  


  
  
  

  


  
  
  

  


  
  
  

  


  
  
  

  


  
  
  

  


  
  
  

  


  
  
  

  


  
  
  

  


  
  
  

  


  
  
  

  


  
  
  

  


  
  
  

  


  
  
  

  


  
  
  

  


  
  
  

  


  
  
  

  


  
  
  

  


  
  
  

  


  
  
  

  


  
  
  

  


  
  
  

  


  
  
  

  


  
  
  

  


  
  
  

  


  
  
  

  


  
  
  

  


  
  
  

  


  
  
  

  


  
  
  

  


  
  
  

  


  
  
  

  


  
  
  

  


  
  
  

  


  
  
  

  


  
  
  

  


  
  
  

  


  
  
  

  


  
  
  

  


  
  
  

  


  
  
  

  


  
  
  

  


  
  
  

  


  
  
  

  


  
  
  

  


  
  
  

  


  
  
  

  


  
  
  

  


  
  
  

  


  
  
  

  


  
  
  

  


  
  
  

  


  
  
  

  


  
  
  

  


  
  
  

  


  
  
  

  


  
  
  

  


  
  
  

  


  
  
  

  


  
  
  

  


  
  
  

  


  
  
  

  


  
  
  

  


  
  
  

  


  
  
  

  


  
  
  

  


  
  
  

  


  
  
  

  


  
  
  

  


  
  
  

  


  
  
  

  


  
  
  

  


  
  
  

  


  
  
  

  


  
  
  

  


  
  
  

  


  
  
  

  


  
  
  

  


  
  
  

  


  
  
  

  


  
  
  

  


  
  
  

  


  
  
  

  


  
  
  

  


  
  
  

  


  
  
  

  


  
  
  

  


  
  
  

  


  
  
  

  


  
  
  

  


  
  
  

  


  
  
  

  


  
  
  

  


  
  
  

  


  
  
  

  


  
  
  

  


  
  
  

  


  
  
  

  


  
  
  

  


  
  
  

  


  
  
  

  


  
  
  

  


  
  
  

  


  
  
  

  


  
  
  

  


  
  
  

  


  
  
  

  


  
  
  

  


  
  
  

  


  
  
  

  


  
  
  

  


  
  
  

  


  
  
  

  


  
  
  

  


  
  
  

  


  
  
  

  


  
  
  

  


  
  
  

  


  
  
  

  


  
  
  

  


  
  
  

  


  
  
  

  


  
  
  

  


  
  
  

  


  
  
  

  


  
  
  

  


  
  
  

  


  
  
  

  


  
  
  

  


  
  
  

  


  
  
  

  


  
  
  

  


  
  
  

  


  
  
  

  


  
  
  

  


  
  
  

  


  
  
  

  


  
  
  

  


  
  
  

  


  
  
  

  


  
  
  

  


  
  
  

  


  
  
  

  


  
  
  

  


  
  
  

  


  
  
  

  


  
  
  

  


  
  
  

  


  
  
  

  


  
  
  

  


  
  
  

  


  
  
  

  


  
  
  

  


  
  
  

  


  
  
  

  


  
  
  

  


  
  
  

  


  
  
  

  


  
  
  

  


  
  
  

  


  
  
  

  


  
  
  

  


  
  
  

  


  
  
  

  


  
  
  

  


  
  
  

  


  
  
  

  


  
  
  

  


  
  
  

  


  
  
  

  


  
  
  

  


  
  
  

  


  
  
  

  


  
  
  

  


  
  
  

  


  
  
  

  


  
  
  

  


  
  
  

  


  
  
  

  


  
  
  

  


  
  
  

  


  
  
  

  


  
  
  

  


  
  
  

  


  
  
  

  


  
  
  

  


  
  
  

  


  
  
  

  


  
  
  

  


  
  
  

  


  
  
  

  


  
  
  

  


  
  
  

  


  
  
  

  


  
  
  

  


  
  
  

  


  
  
  

  


  
  
  

  


  
  
  

  


  
  
  

  


  
  
  

  


  
  
  

  


  
  
  

  


  
  
  

  


  
  
  

  


  
  
  

  


  
  
  

  


  
  
  

  


  
  
  

  


  
  
  

  


  
  
  

  


  
  
  

  


  
  
  

  


  
  
  

  


  
  
  

  


  
  
  

  


  
  
  

  


  
  
  

  


  
  
  

  


  
  
  

  


  
  
  

  


  
  
  

  


  
  
  

  


  
  
  

  


  
  
  

  


  
  
  

  


  
  
  

  


  
  
  

  

    <a class="level-2" href="/dev/content/integration.html#tei">14.1. TEI
    </a>
  


  
  
  

  

    <a class="level-2" href="/dev/content/integration.html#iiif">14.2. IIIF
    </a>
  


  
  
  

  

    <a class="level-2" href="/dev/content/integration.html#smufl">14.3. SMuFL
    </a>
  


  
  
  

  

    <a class="level-2" href="/dev/content/integration.html#svg">14.4. SVG
    </a>
  


  
  
  

  

    <a class="level-2" href="/dev/content/integration.html#midiGuidelines">14.5. Musical Instrument Digital Interface (MIDI)
    </a>
  


  
  
  

  

    <a class="level-3" href="/dev/content/integration.html#midi.scoreDefppq">14.5.1. PPQ in scoreDef and staffDef
    </a>
  


  
  
  

  

    <a class="level-3" href="/dev/content/integration.html#midiInstruments">14.5.2. Recording General MIDI Instrumentation
    </a>
  


  
  
  

  

    <a class="level-3" href="/dev/content/integration.html#midiData">14.5.3. Recording MIDI Event Data
    </a>
  


  
  
  

  

    <a class="level-3" href="/dev/content/integration.html#midiNonCMN">14.5.4. MIDI in Mensural and Neume Notation
    </a>
  


</p>
    </div>

</div>

<div class="modal" id="toc-modal">
  <a href="#close" id="toc-modal-outer-close" class="modal-overlay" aria-label="Close"></a>
  <div class="modal-container">
    <div class="modal-header">
      <a href="#close" id="toc-modal-inner-close" class="btn btn-clear float-right" aria-label="Close"></a>
      <div class="modal-title h5">Table of Contents</div>
    </div>
    <div class="modal-body">
      <div class="content">
        
            

                

                     <ul class="nav"> 
                    <li class="nav-item">
                        <a href="/dev/content/">Guidelines</a>
                    </li>

                    
                

                    
                    <li class="nav-item">
                        <a href="/dev/elements.html">Elements</a>
                    </li>

                    
                

                    
                    <li class="nav-item">
                        <a href="/dev/attribute-classes.html">Attribute Classes</a>
                    </li>

                    
                

                    
                    <li class="nav-item">
                        <a href="/dev/model-classes.html">Model Classes</a>
                    </li>

                    
                

                    
                    <li class="nav-item">
                        <a href="/dev/data-types.html">Data Types</a>
                    </li>

                    
                

                    
                    <li class="nav-item">
                        <a href="/dev/macro-groups.html">Macro Groups</a>
                    </li>

                     </ul> 
                
            
        

        <div class="divider"></div>

        

<p class="sectionToc sticky">

  
  
  

  


  
  
  

  


  
  
  

  


  
  
  

  


  
  
  

  


  
  
  

  


  
  
  

  


  
  
  

  


  
  
  

  


  
  
  

  


  
  
  

  


  
  
  

  


  
  
  

  


  
  
  

  


  
  
  

  


  
  
  

  


  
  
  

  


  
  
  

  


  
  
  

  


  
  
  

  


  
  
  

  


  
  
  

  


  
  
  

  


  
  
  

  


  
  
  

  


  
  
  

  


  
  
  

  


  
  
  

  


  
  
  

  


  
  
  

  


  
  
  

  


  
  
  

  


  
  
  

  


  
  
  

  


  
  
  

  


  
  
  

  


  
  
  

  


  
  
  

  


  
  
  

  


  
  
  

  


  
  
  

  


  
  
  

  


  
  
  

  


  
  
  

  


  
  
  

  


  
  
  

  


  
  
  

  


  
  
  

  


  
  
  

  


  
  
  

  


  
  
  

  


  
  
  

  


  
  
  

  


  
  
  

  


  
  
  

  


  
  
  

  


  
  
  

  


  
  
  

  


  
  
  

  


  
  
  

  


  
  
  

  


  
  
  

  


  
  
  

  


  
  
  

  


  
  
  

  


  
  
  

  


  
  
  

  


  
  
  

  


  
  
  

  


  
  
  

  


  
  
  

  


  
  
  

  


  
  
  

  


  
  
  

  


  
  
  

  


  
  
  

  


  
  
  

  


  
  
  

  


  
  
  

  


  
  
  

  


  
  
  

  


  
  
  

  


  
  
  

  


  
  
  

  


  
  
  

  


  
  
  

  


  
  
  

  


  
  
  

  


  
  
  

  


  
  
  

  


  
  
  

  


  
  
  

  


  
  
  

  


  
  
  

  


  
  
  

  


  
  
  

  


  
  
  

  


  
  
  

  


  
  
  

  


  
  
  

  


  
  
  

  


  
  
  

  


  
  
  

  


  
  
  

  


  
  
  

  


  
  
  

  


  
  
  

  


  
  
  

  


  
  
  

  


  
  
  

  


  
  
  

  


  
  
  

  


  
  
  

  


  
  
  

  


  
  
  

  


  
  
  

  


  
  
  

  


  
  
  

  


  
  
  

  


  
  
  

  


  
  
  

  


  
  
  

  


  
  
  

  


  
  
  

  


  
  
  

  


  
  
  

  


  
  
  

  


  
  
  

  


  
  
  

  


  
  
  

  


  
  
  

  


  
  
  

  


  
  
  

  


  
  
  

  


  
  
  

  


  
  
  

  


  
  
  

  


  
  
  

  


  
  
  

  


  
  
  

  


  
  
  

  


  
  
  

  


  
  
  

  


  
  
  

  


  
  
  

  


  
  
  

  


  
  
  

  


  
  
  

  


  
  
  

  


  
  
  

  


  
  
  

  


  
  
  

  


  
  
  

  


  
  
  

  


  
  
  

  


  
  
  

  


  
  
  

  


  
  
  

  


  
  
  

  


  
  
  

  


  
  
  

  


  
  
  

  


  
  
  

  


  
  
  

  


  
  
  

  


  
  
  

  


  
  
  

  


  
  
  

  


  
  
  

  


  
  
  

  


  
  
  

  


  
  
  

  


  
  
  

  


  
  
  

  


  
  
  

  


  
  
  

  


  
  
  

  


  
  
  

  


  
  
  

  


  
  
  

  


  
  
  

  


  
  
  

  


  
  
  

  


  
  
  

  


  
  
  

  


  
  
  

  


  
  
  

  


  
  
  

  


  
  
  

  


  
  
  

  


  
  
  

  


  
  
  

  


  
  
  

  


  
  
  

  


  
  
  

  


  
  
  

  


  
  
  

  


  
  
  

  


  
  
  

  


  
  
  

  


  
  
  

  


  
  
  

  


  
  
  

  


  
  
  

  


  
  
  

  


  
  
  

  


  
  
  

  


  
  
  

  


  
  
  

  


  
  
  

  


  
  
  

  


  
  
  

  


  
  
  

  


  
  
  

  


  
  
  

  


  
  
  

  


  
  
  

  


  
  
  

  


  
  
  

  


  
  
  

  


  
  
  

  


  
  
  

  


  
  
  

  


  
  
  

  


  
  
  

  


  
  
  

  


  
  
  

  


  
  
  

  


  
  
  

  


  
  
  

  


  
  
  

  


  
  
  

  


  
  
  

  


  
  
  

  


  
  
  

  


  
  
  

  


  
  
  

  


  
  
  

  


  
  
  

  


  
  
  

  


  
  
  

  


  
  
  

  


  
  
  

  


  
  
  

  


  
  
  

  


  
  
  

  


  
  
  

  


  
  
  

  


  
  
  

  


  
  
  

  


  
  
  

  


  
  
  

  


  
  
  

  


  
  
  

  


  
  
  

  


  
  
  

  


  
  
  

  


  
  
  

  


  
  
  

  


  
  
  

  


  
  
  

  


  
  
  

  


  
  
  

  


  
  
  

  


  
  
  

  


  
  
  

  


  
  
  

  


  
  
  

  


  
  
  

  


  
  
  

  


  
  
  

  


  
  
  

  


  
  
  

  


  
  
  

  


  
  
  

  


  
  
  

  


  
  
  

  


  
  
  

  


  
  
  

  


  
  
  

  


  
  
  

  


  
  
  

  


  
  
  

  


  
  
  

  


  
  
  

  


  
  
  

  


  
  
  

  


  
  
  

  


  
  
  

  


  
  
  

  


  
  
  

  


  
  
  

  


  
  
  

  


  
  
  

  


  
  
  

  


  
  
  

  


  
  
  

  


  
  
  

  


  
  
  

  


  
  
  

  


  
  
  

  


  
  
  

  

    <a class="level-2" href="/dev/content/integration.html#tei">14.1. TEI
    </a>
  


  
  
  

  

    <a class="level-2" href="/dev/content/integration.html#iiif">14.2. IIIF
    </a>
  


  
  
  

  

    <a class="level-2" href="/dev/content/integration.html#smufl">14.3. SMuFL
    </a>
  


  
  
  

  

    <a class="level-2" href="/dev/content/integration.html#svg">14.4. SVG
    </a>
  


  
  
  

  

    <a class="level-2" href="/dev/content/integration.html#midiGuidelines">14.5. Musical Instrument Digital Interface (MIDI)
    </a>
  


  
  
  

  

    <a class="level-3" href="/dev/content/integration.html#midi.scoreDefppq">14.5.1. PPQ in scoreDef and staffDef
    </a>
  


  
  
  

  

    <a class="level-3" href="/dev/content/integration.html#midiInstruments">14.5.2. Recording General MIDI Instrumentation
    </a>
  


  
  
  

  

    <a class="level-3" href="/dev/content/integration.html#midiData">14.5.3. Recording MIDI Event Data
    </a>
  


  
  
  

  

    <a class="level-3" href="/dev/content/integration.html#midiNonCMN">14.5.4. MIDI in Mensural and Neume Notation
    </a>
  


</p>
      </div>
    </div>
  </div>
</div>

<script>
$(document).ready(function() {
    $('#tipue_search_input').tipuesearch({
        showURL: false,
        descriptiveWords: 25
    });
    document.getElementById('topNavigationShow').addEventListener('click',function(e) {
      var elem = document.getElementById('toc-modal');
      elem.classList.toggle('active');
    })
    document.getElementById('toc-modal-outer-close').addEventListener('click',function(e) {
      var elem = document.getElementById('toc-modal');
      elem.classList.toggle('active');
    })
    document.getElementById('toc-modal-inner-close').addEventListener('click',function(e) {
      var elem = document.getElementById('toc-modal');
      elem.classList.toggle('active');
    })
});
</script>

    </div>

    <footer>

  <div class="container">
    <div class="columns institutions">
      <div class="column col-12 text-center">
        <a class="institutionsLink" target="_blank" href="http://www.adwmainz.de">
          <img src="https://music-encoding.github.io/pix/akademie-small.png" alt="Akademie der Wissenschaften | Mainz" />
        </a>
      </div>
    </div>
  </div>
  <div class="text-center">
    <a class="footerLinks" href="https://music-encoding.github.io/">Home</a> | <a class="footerLinks" href="mailto:info@music-encoding.org">Contact</a><br/>
    <small>© MEI Guidelines 2020</small><small> | <a href='https://github.com/music-encoding/music-encoding/commit/d976b37fa4253672d82d263df8484000d8ddd7cd'>Version d976b37</a>
</small>
  </div>

</footer>


  </body>

</html>
